#! /bin/sh /usr/share/dpatch/dpatch-run
## 00svn5293.dpatch by Kenshi Muto <kmuto@debian.org>
##
## All lines beginning with `## DP:' are a description of the patch.
## DP: No description.

@DPATCH@
diff -urNad cupsys-1.1.99.b2~/CHANGES.txt cupsys-1.1.99.b2/CHANGES.txt
--- cupsys-1.1.99.b2~/CHANGES.txt	2006-03-10 20:18:44.000000000 +0000
+++ cupsys-1.1.99.b2/CHANGES.txt	2006-03-15 11:04:22.000000000 +0000
@@ -1,6 +1,25 @@
-CHANGES.txt - 2006-03-10
+CHANGES.txt - 2006-03-14
 ------------------------
 
+CHANGES IN CUPS V1.2rc1
+
+	- ppdOpen2() now converts the NickName and all UI text to
+	  UTF-8 (STR #1475)
+	- The Set Allows Users web page did not work (STR #1486)
+	- When the default policy was not set or set to a non-
+	  existing policy, the scheduler did not set the default
+	  policy name to "default" (STR #1484)
+	- The Zebra CPCL driver did not use the correct righthand
+	  margin for the 4" wide label sizes.
+	- Fixed a problem with the parsing of fractional real
+	  numbers in PPD files.
+	- Added Spanish localization files (STR #1480)
+	- Fixed localization of a few scheduler messages (STR
+	  #1478)
+	- Fixed support for HEAD requests in the scheduler (STR
+	  #1481).
+
+
 CHANGES IN CUPS V1.2b2
 
 	- Updated the CUPS design description.
diff -urNad cupsys-1.1.99.b2~/CREDITS.txt cupsys-1.1.99.b2/CREDITS.txt
--- cupsys-1.1.99.b2~/CREDITS.txt	2006-02-23 21:01:39.000000000 +0000
+++ cupsys-1.1.99.b2/CREDITS.txt	2006-03-15 11:04:22.000000000 +0000
@@ -4,34 +4,38 @@
 Few projects are completed by one person, and CUPS is no exception.  We'd
 like to thank the following individuals for their contributions:
 
-    Nathaniel Barbour   - Lots of testing and feedback.
-    N. Becker           - setsid().
-    Jean-Eric Cuendet   - GhostScript filters for CUPS.
-    Van Dang            - HTTP and IPP policeman.
-    L. Peter Deutsch    - MD5 code.
-    Dr. ZP Han          - setgid()/setuid().
-    Guy Harris          - *BSD shared libraries and lots of other fixes.
-    Bjoern Jacke        - I18N stuff.
-    Wang Jian           - CUPS RPM corrections.
-    Roderick Johnstone  - Beta tester of the millenium.
-    Till Kamppeter      - Bug fixes, beta testing, evangelism.
-    Kenshi Muto         - Japanese localization, patches, and testing.
-    Kiko                - Bug fixes.
-    Sergey V. Kovalyov  - ESP Print Pro and CUPS beta tester.
-    Mark Lawrence       - Microsoft interoperability testing.
-    Jeff Licquia        - Bug fixes, beta testing, evangelism.
-    Jason McMullan      - Original CUPS RPM distributions.
-    Wes Morgan          - *BSD fixes.
-    Ulrich Oldendorf    - German locale.
-    Giulio Orsero       - Bug fixes and testing.
-    Kurt Pfeifle        - Bug fixes, beta testing, evangelism.
-    Gilles QUERRET      - French man pages.
-    Petter Reinholdtsen - HP-UX compiler stuff.
-    Stuart Stevens      - HP JetDirect IPP information.
-    Andrea Suatoni      - IRIX desktop integration and testing.
-    Tomohiro Kato       - Japanese localization.
-    Tim Waugh           - Lots of patches, testing, and Linux integration.
-    Yugami              - LDAP browsing support.
+    Nathaniel Barbour              - Lots of testing and feedback.
+    N. Becker                      - setsid().
+    Jean-Eric Cuendet              - GhostScript filters for CUPS.
+    Van Dang                       - HTTP and IPP policeman.
+    L. Peter Deutsch               - MD5 code.
+    Dr. ZP Han                     - setgid()/setuid().
+    Guy Harris                     - *BSD shared libraries and lots of other
+                                     fixes.
+    Bjoern Jacke                   - I18N stuff.
+    Wang Jian                      - CUPS RPM corrections.
+    Roderick Johnstone             - Beta tester of the millenium.
+    Till Kamppeter                 - Bug fixes, beta testing, evangelism.
+    Kenshi Muto                    - Japanese localization, patches, and
+                                     testing.
+    Kiko                           - Bug fixes.
+    Sergey V. Kovalyov             - ESP Print Pro and CUPS beta tester.
+    Mark Lawrence                  - Microsoft interoperability testing.
+    Jeff Licquia                   - Bug fixes, beta testing, evangelism.
+    Jason McMullan                 - Original CUPS RPM distributions.
+    Wes Morgan                     - *BSD fixes.
+    Ulrich Oldendorf               - German locale.
+    Giulio Orsero                  - Bug fixes and testing.
+    Kurt Pfeifle                   - Bug fixes, beta testing, evangelism.
+    Gilles QUERRET                 - French man pages.
+    Petter Reinholdtsen            - HP-UX compiler stuff.
+    Juan Pablo González Riopedre   - Spanish localization
+    Stuart Stevens                 - HP JetDirect IPP information.
+    Andrea Suatoni                 - IRIX desktop integration and testing.
+    Tomohiro Kato                  - Japanese localization.
+    Tim Waugh                      - Lots of patches, testing, and Linux
+                                     integration.
+    Yugami                         - LDAP browsing support.
 
 If I've missed someone, please let me know by sending an email to
 "mike@easysw.com".
diff -urNad cupsys-1.1.99.b2~/Makedefs.in cupsys-1.1.99.b2/Makedefs.in
--- cupsys-1.1.99.b2~/Makedefs.in	2006-03-10 04:42:19.000000000 +0000
+++ cupsys-1.1.99.b2/Makedefs.in	2006-03-15 11:04:22.000000000 +0000
@@ -97,11 +97,19 @@
 #
 # Program options...
 #
-# OPTIM   defines the common compiler optimization/debugging options.
-# OPTIONS defines other compile-time options (currently only -dDEBUG for
-#         extra debug info)
+# ARCHFLAGS     Defines the default architecture build options, used
+#               when compiling separate 32/64-bit libraries.
+# ARCH32FLAGS   Defines the 32-bit architecture build options, used
+#               when compiling separate 32/64-bit libraries.
+# ARCH64FLAGS   Defines the 64-bit architecture build options, used
+#               when compiling separate 32/64-bit libraries.
+# OPTIM         Defines the common compiler optimization/debugging options
+#               for all architectures.
+# OPTIONS       Defines other compile-time options (currently only -DDEBUG
+#               for extra debug info)
 #
 
+ARCHFLAGS	=	@ARCHFLAGS@
 ARFLAGS		=	@ARFLAGS@
 BACKLIBS	=	@BACKLIBS@
 CFLAGS		=	-I.. $(RC_CFLAGS) $(SSLFLAGS) @CPPFLAGS@ @CFLAGS@ \
@@ -130,14 +138,14 @@
 # Separate 32/64-bit library support...
 #
 
-C32FLAGS	=	@C32FLAGS@
+ARCH32FLAGS	=	@ARCH32FLAGS@
 INSTALL32	=	@INSTALL32@
 LIB32CUPS	=	@LIB32CUPS@
 LIB32CUPSIMAGE	=	@LIB32CUPSIMAGE@
 LIB32DIR	=	$(BUILDROOT)@LIB32DIR@
 UNINSTALL32	=	@UNINSTALL32@
 
-C64FLAGS	=	@C64FLAGS@
+ARCH64FLAGS	=	@ARCH64FLAGS@
 INSTALL64	=	@INSTALL64@
 LIB64CUPS	=	@LIB64CUPS@
 LIB64CUPSIMAGE	=	@LIB64CUPSIMAGE@
@@ -216,19 +224,19 @@
 
 .c.o:
 	echo Compiling $<...
-	$(CC) $(OPTIM) $(CFLAGS) -c $<
+	$(CC) $(ARCHFLAGS) $(OPTIM) $(CFLAGS) -c $<
 
 .c.32.o:
 	echo Compiling 32-bit $<...
-	$(CC) $(C32FLAGS) $(OPTIM) $(CFLAGS) -c -o $@ $<
+	$(CC) $(ARCH32FLAGS) $(OPTIM) $(CFLAGS) -c -o $@ $<
 
 .c.64.o:
 	echo Compiling 64-bit $<...
-	$(CC) $(C64FLAGS) $(OPTIM) $(CFLAGS) -c -o $@ $<
+	$(CC) $(ARCH64FLAGS) $(OPTIM) $(CFLAGS) -c -o $@ $<
 
 .cxx.o:
 	echo Compiling $<...
-	$(CXX) $(OPTIM) $(CXXFLAGS) -c $<
+	$(CXX) $(ARCHFLAGS) $(OPTIM) $(CXXFLAGS) -c $<
 
 .man.1 .man.1m .man.5 .man.7 .man.8:
 	echo Linking $<...
diff -urNad cupsys-1.1.99.b2~/cgi-bin/admin.c cupsys-1.1.99.b2/cgi-bin/admin.c
--- cupsys-1.1.99.b2~/cgi-bin/admin.c	2006-03-08 18:34:07.000000000 +0000
+++ cupsys-1.1.99.b2/cgi-bin/admin.c	2006-03-15 11:04:22.000000000 +0000
@@ -2624,11 +2624,11 @@
         	 NULL, uri);
 
     if (num_users == 0)
-      ippAddString(request, IPP_TAG_OPERATION, IPP_TAG_NAME,
+      ippAddString(request, IPP_TAG_PRINTER, IPP_TAG_NAME,
                    "requesting-user-name-allowed", NULL, "all");
     else
     {
-      attr = ippAddStrings(request, IPP_TAG_OPERATION, IPP_TAG_NAME,
+      attr = ippAddStrings(request, IPP_TAG_PRINTER, IPP_TAG_NAME,
                            type, num_users, NULL, NULL);
 
       for (i = 0, ptr = (char *)users; *ptr; i ++)
diff -urNad cupsys-1.1.99.b2~/config-scripts/cups-common.m4 cupsys-1.1.99.b2/config-scripts/cups-common.m4
--- cupsys-1.1.99.b2~/config-scripts/cups-common.m4	2006-03-10 21:18:04.000000000 +0000
+++ cupsys-1.1.99.b2/config-scripts/cups-common.m4	2006-03-15 11:04:22.000000000 +0000
@@ -63,7 +63,7 @@
 AC_PATH_PROG(LN,ln)
 AC_PATH_PROG(MV,mv)
 AC_PATH_PROG(RM,rm)
-AC_PATH_PROG(RM,rmdir)
+AC_PATH_PROG(RMDIR,rmdir)
 AC_PATH_PROG(SED,sed)
 AC_PATH_PROG(STRIP,strip)
 
diff -urNad cupsys-1.1.99.b2~/config-scripts/cups-compiler.m4 cupsys-1.1.99.b2/config-scripts/cups-compiler.m4
--- cupsys-1.1.99.b2~/config-scripts/cups-compiler.m4	2006-03-10 20:57:09.000000000 +0000
+++ cupsys-1.1.99.b2/config-scripts/cups-compiler.m4	2006-03-15 11:04:22.000000000 +0000
@@ -24,10 +24,13 @@
 
 dnl Clear the debugging and non-shared library options unless the user asks
 dnl for them...
+ARCHFLAGS=""
 OPTIM=""
+AC_SUBST(ARCHFLAGS)
 AC_SUBST(OPTIM)
 
 AC_ARG_WITH(optim, [  --with-optim="flags"    set optimization flags ])
+AC_ARG_WITH(archflags, [  --with-arch="flags"     set default architecture flags ])
 
 AC_ARG_ENABLE(debug, [  --enable-debug          turn on debugging, default=no],
 	[if test x$enable_debug = xyes; then
@@ -36,15 +39,16 @@
 
 dnl Setup support for separate 32/64-bit library generation...
 AC_ARG_ENABLE(32bit, [  --enable-32bit          generate 32-bit libraries on 32/64-bit systems, default=no])
+AC_ARG_WITH(arch32flags, [  --with-arch32="flags"   specifies 32-bit architecture flags])
 
-C32FLAGS=""
+ARCH32FLAGS=""
 INSTALL32=""
 LIB32CUPS=""
 LIB32CUPSIMAGE=""
 LIB32DIR=""
 UNINSTALL32=""
 
-AC_SUBST(C32FLAGS)
+AC_SUBST(ARCH32FLAGS)
 AC_SUBST(INSTALL32)
 AC_SUBST(LIB32CUPS)
 AC_SUBST(LIB32CUPSIMAGE)
@@ -52,15 +56,16 @@
 AC_SUBST(UNINSTALL32)
 
 AC_ARG_ENABLE(64bit, [  --enable-64bit          generate 64-bit libraries on 32/64-bit systems, default=no])
+AC_ARG_WITH(arch64flags, [  --with-arch64="flags"   specifies 64-bit architecture flags])
 
-C64FLAGS=""
+ARCH64FLAGS=""
 INSTALL64=""
 LIB64CUPS=""
 LIB64CUPSIMAGE=""
 LIB64DIR=""
 UNINSTALL64=""
 
-AC_SUBST(C64FLAGS)
+AC_SUBST(ARCH64FLAGS)
 AC_SUBST(INSTALL64)
 AC_SUBST(LIB64CUPS)
 AC_SUBST(LIB64CUPSIMAGE)
@@ -89,16 +94,6 @@
 	fi
 
 	case $uname in
-		Darwin*)
-			if test "x$with_optim" = x; then
-				if test "x`uname -m`" = xi386; then
-					# Build universal binaries for OSX on Intel...
-					OPTIM="-arch i386 -arch ppc $OPTIM"
-					DSOFLAGS="-arch i386 -arch ppc $DSOFLAGS"
-				fi
-			fi
-			;;
-
 		Linux*)
 			if test x$enable_pie = xyes; then
 				OPTIM="$OPTIM -fpie"
@@ -115,35 +110,75 @@
 	fi
 
 	case "$uname" in
+		Darwin*)
+			if test -z "$with_archflags"; then
+				if test "x`uname -m`" = xi386; then
+					# Build universal binaries for OSX on Intel...
+					ARCHFLAGS="-arch i386 -arch ppc"
+				fi
+			else
+				ARCHFLAGS="$with_archflags"
+			fi
+			;;
+
 		IRIX)
 			if test "x$enable_32bit" = xyes; then
-				# Compiling on an IRIX system, build 32-bit
-				# libraries...
-				C32FLAGS="-n32 -mips3"
+				# Build 32-bit libraries, 64-bit base...
+				if test -z "$with_arch32flags"; then
+					ARCH32FLAGS="-n32 -mips3"
+				else
+					ARCH32FLAGS="$with_arch32flags"
+				fi
 				INSTALL32="install32bit"
 				LIB32CUPS="libcups.32.so.2"
 				LIB32CUPSIMAGE="libcupsimage.32.so.2"
 				LIB32DIR="$prefix/lib32"
 				UNINSTALL32="uninstall32bit"
+
+				if test -z "$with_archflags"; then
+					if test -z "$with_arch64flags"; then
+						ARCHFLAGS="-64 -mips4"
+					else
+						ARCHFLAGS="$with_arch64flags"
+					fi
+				else
+					ARCHFLAGS="$with_archflags"
+				fi
 			fi
 
 			if test "x$enable_64bit" = xyes; then
-				# Compiling on an IRIX system, build 64-bit
-				# libraries...
-				C64FLAGS="-64 -mips4"
+				# Build 64-bit libraries, 32-bit base...
+				if test -z "$with_arch64flags"; then
+					ARCH64FLAGS="-64 -mips4"
+				else
+					ARCH64FLAGS="$with_arch64flags"
+				fi
 				INSTALL64="install64bit"
 				LIB64CUPS="libcups.64.so.2"
 				LIB64CUPSIMAGE="libcupsimage.64.so.2"
 				LIB64DIR="$prefix/lib64"
 				UNINSTALL64="uninstall64bit"
+
+				if test -z "$with_archflags"; then
+					if test -z "$with_arch32flags"; then
+						ARCHFLAGS="-n32 -mips3"
+					else
+						ARCHFLAGS="$with_arch32flags"
+					fi
+				else
+					ARCHFLAGS="$with_archflags"
+				fi
 			fi
 			;;
 
 		Linux*)
 			if test "x$enable_32bit" = xyes; then
-				# Compiling on an 64-bit x86 system, build 32-bit
-				# libraries...
-				C32FLAGS="-m32"
+				# Build 32-bit libraries, 64-bit base...
+				if test -z "$with_arch32flags"; then
+					ARCH32FLAGS="-m32"
+				else
+					ARCH32FLAGS="$with_arch32flags"
+				fi
 				INSTALL32="install32bit"
 				LIB32CUPS="libcups.32.so.2"
 				LIB32CUPSIMAGE="libcupsimage.32.so.2"
@@ -152,30 +187,93 @@
 					LIB32DIR="${LIB32DIR}32"
 				fi
 				UNINSTALL32="uninstall32bit"
+
+				if test -z "$with_archflags"; then
+					if test -z "$with_arch64flags"; then
+						ARCHFLAGS="-m64"
+					else
+						ARCHFLAGS="$with_arch64flags"
+					fi
+				else
+					ARCHFLAGS="$with_archflags"
+				fi
+			fi
+
+			if test "x$enable_64bit" = xyes; then
+				# Build 64-bit libraries, 32-bit base...
+				if test -z "$with_arch64flags"; then
+					ARCH64FLAGS="-m64"
+				else
+					ARCH64FLAGS="$with_arch64flags"
+				fi
+				INSTALL64="install64bit"
+				LIB64CUPS="libcups.64.so.2"
+				LIB64CUPSIMAGE="libcupsimage.64.so.2"
+				LIB64DIR="$exec_prefix/lib"
+				if test -d /usr/lib64; then
+					LIB64DIR="${LIB64DIR}64"
+				fi
+				UNINSTALL64="uninstall64bit"
+
+				if test -z "$with_archflags"; then
+					if test -z "$with_arch32flags"; then
+						ARCHFLAGS="-m32"
+					else
+						ARCHFLAGS="$with_arch32flags"
+					fi
+				else
+					ARCHFLAGS="$with_archflags"
+				fi
 			fi
 			;;
 
 		SunOS*)
 			if test "x$enable_32bit" = xyes; then
-				# Compiling on a Solaris system, build 32-bit
-				# libraries...
-				C32FLAGS="-m32"
+				# Build 32-bit libraries, 64-bit base...
+				if test -z "$with_arch32flags"; then
+					ARCH32FLAGS="-m32"
+				else
+					ARCH32FLAGS="$with_arch32flags"
+				fi
 				INSTALL32="install32bit"
 				LIB32CUPS="libcups.32.so.2"
 				LIB32CUPSIMAGE="libcupsimage.32.so.2"
 				LIB32DIR="$exec_prefix/lib/32"
 				UNINSTALL32="uninstall32bit"
+
+				if test -z "$with_archflags"; then
+					if test -z "$with_arch64flags"; then
+						ARCHFLAGS="-m64"
+					else
+						ARCHFLAGS="$with_arch64flags"
+					fi
+				else
+					ARCHFLAGS="$with_archflags"
+				fi
 			fi
 
 			if test "x$enable_64bit" = xyes; then
-				# Compiling on a Solaris system, build 64-bit
-				# libraries...
-				C64FLAGS="-m64"
+				# Build 64-bit libraries, 32-bit base...
+				if test -z "$with_arch64flags"; then
+					ARCH64FLAGS="-m64"
+				else
+					ARCH64FLAGS="$with_arch64flags"
+				fi
 				INSTALL64="install64bit"
 				LIB64CUPS="libcups.64.so.2"
 				LIB64CUPSIMAGE="libcupsimage.64.so.2"
 				LIB64DIR="$exec_prefix/lib/64"
 				UNINSTALL64="uninstall64bit"
+
+				if test -z "$with_archflags"; then
+					if test -z "$with_arch32flags"; then
+						ARCHFLAGS="-m32"
+					else
+						ARCHFLAGS="$with_arch32flags"
+					fi
+				else
+					ARCHFLAGS="$with_archflags"
+				fi
 			fi
 			;;
 	esac
@@ -200,6 +298,9 @@
 			fi
 
 			CFLAGS="-Ae $CFLAGS"
+			# Warning 336 is "empty translation unit"
+			# Warning 829 is passing constant string as char *
+			CXXFLAGS="+W336,829 $CXXFLAGS"
 
 			if test "x$with_optim" = x; then
 				OPTIM="+DAportable $OPTIM"
@@ -223,25 +324,51 @@
 			fi
 
 			if test "x$enable_32bit" = xyes; then
-				# Compiling on an IRIX system, build 32-bit
-				# libraries...
-				C32FLAGS="-n32 -mips3"
+				# Build 32-bit libraries, 64-bit base...
+				if test -z "$with_arch32flags"; then
+					ARCH32FLAGS="-n32 -mips3"
+				else
+					ARCH32FLAGS="$with_arch32flags"
+				fi
 				INSTALL32="install32bit"
 				LIB32CUPS="libcups.32.so.2"
 				LIB32CUPSIMAGE="libcupsimage.32.so.2"
-				LIB32DIR="$exec_prefix/lib32"
+				LIB32DIR="$prefix/lib32"
 				UNINSTALL32="uninstall32bit"
+
+				if test -z "$with_archflags"; then
+					if test -z "$with_arch64flags"; then
+						ARCHFLAGS="-64 -mips4"
+					else
+						ARCHFLAGS="$with_arch64flags"
+					fi
+				else
+					ARCHFLAGS="$with_archflags"
+				fi
 			fi
 
 			if test "x$enable_64bit" = xyes; then
-				# Compiling on an IRIX system, build 64-bit
-				# libraries...
-				C64FLAGS="-64 -mips4"
+				# Build 64-bit libraries, 32-bit base...
+				if test -z "$with_arch64flags"; then
+					ARCH64FLAGS="-64 -mips4"
+				else
+					ARCH64FLAGS="$with_arch64flags"
+				fi
 				INSTALL64="install64bit"
 				LIB64CUPS="libcups.64.so.2"
 				LIB64CUPSIMAGE="libcupsimage.64.so.2"
-				LIB64DIR="$exec_prefix/lib64"
+				LIB64DIR="$prefix/lib64"
 				UNINSTALL64="uninstall64bit"
+
+				if test -z "$with_archflags"; then
+					if test -z "$with_arch32flags"; then
+						ARCHFLAGS="-n32 -mips3"
+					else
+						ARCHFLAGS="$with_arch32flags"
+					fi
+				else
+					ARCHFLAGS="$with_archflags"
+				fi
 			fi
 			;;
 		SunOS*)
@@ -254,36 +381,53 @@
 				fi
 			fi
 
-			if test "x$with_optim" = x; then
-				# Specify "generic" SPARC output and suppress
-				# all of Sun's questionable warning messages...
-				OPTIM="-w $OPTIM -xarch=generic"
-			fi
-
 			if test $PICFLAG = 1; then
 				OPTIM="-KPIC $OPTIM"
 			fi
 
 			if test "x$enable_32bit" = xyes; then
-				# Compiling on a Solaris system, build 32-bit
-				# libraries...
-				C32FLAGS="-xarch=v8"
+				# Compiling on a Solaris system, build 64-bit
+				# binaries with separate 32-bit libraries...
+				ARCH32FLAGS="-xarch=generic"
 				INSTALL32="install32bit"
 				LIB32CUPS="libcups.32.so.2"
 				LIB32CUPSIMAGE="libcupsimage.32.so.2"
 				LIB32DIR="$exec_prefix/lib/32"
 				UNINSTALL32="uninstall32bit"
-			fi
 
-			if test "x$enable_64bit" = xyes; then
-				# Compiling on a Solaris system, build 64-bit
-				# libraries...
-				C64FLAGS="-xarch=v9 -xcode=pic32"
-				INSTALL64="install64bit"
-				LIB64CUPS="libcups.64.so.2"
-				LIB64CUPSIMAGE="libcupsimage.64.so.2"
-				LIB64DIR="$exec_prefix/lib/64"
-				UNINSTALL64="uninstall64bit"
+				if test "x$with_optim" = x; then
+					# Suppress all of Sun's questionable
+					# warning messages, and default to
+					# 64-bit compiles of everything else...
+					OPTIM="-w $OPTIM"
+					CFLAGS="-xarch=generic64 $CFLAGS"
+				fi
+			else
+				if test "x$enable_64bit" = xyes; then
+					# Build 64-bit libraries...
+					ARCH64FLAGS="-xarch=generic64"
+					INSTALL64="install64bit"
+					LIB64CUPS="libcups.64.so.2"
+					LIB64CUPSIMAGE="libcupsimage.64.so.2"
+					LIB64DIR="$exec_prefix/lib/64"
+					UNINSTALL64="uninstall64bit"
+
+					if test "x$with_optim" = x; then
+						# Suppress all of Sun's questionable
+						# warning messages, and default to
+						# 32-bit compiles of everything else...
+						OPTIM="-w $OPTIM"
+						CFLAGS="-xarch=generic $CFLAGS"
+					fi
+				else
+					if test "x$with_optim" = x; then
+						# Suppress all of Sun's questionable
+						# warning messages, and default to
+						# 32-bit compiles of everything else...
+						OPTIM="-w $OPTIM"
+						CFLAGS="-xarch=generic $CFLAGS"
+					fi
+				fi
 			fi
 			;;
 		UNIX_SVR*)
diff -urNad cupsys-1.1.99.b2~/configure cupsys-1.1.99.b2/configure
--- cupsys-1.1.99.b2~/configure	2006-03-10 21:18:08.000000000 +0000
+++ cupsys-1.1.99.b2/configure	2006-03-15 11:05:42.000000000 +0000
@@ -1,9 +1,8 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.57.
+# Generated by GNU Autoconf 2.59.
 #
-# Copyright 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001, 2002
-# Free Software Foundation, Inc.
+# Copyright (C) 2003 Free Software Foundation, Inc.
 # This configure script is free software; the Free Software Foundation
 # gives unlimited permission to copy, distribute and modify it.
 ## --------------------- ##
@@ -20,9 +19,10 @@
 elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
   set -o posix
 fi
+DUALCASE=1; export DUALCASE # for MKS sh
 
 # Support unset when possible.
-if (FOO=FOO; unset FOO) >/dev/null 2>&1; then
+if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
   as_unset=unset
 else
   as_unset=false
@@ -41,7 +41,7 @@
   LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
   LC_TELEPHONE LC_TIME
 do
-  if (set +x; test -n "`(eval $as_var=C; export $as_var) 2>&1`"); then
+  if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
     eval $as_var=C; export $as_var
   else
     $as_unset $as_var
@@ -218,16 +218,17 @@
 if mkdir -p . 2>/dev/null; then
   as_mkdir_p=:
 else
+  test -d ./-p && rmdir ./-p
   as_mkdir_p=false
 fi
 
 as_executable_p="test -f"
 
 # Sed expression to map a string onto a valid CPP name.
-as_tr_cpp="sed y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g"
+as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
 
 # Sed expression to map a string onto a valid variable name.
-as_tr_sh="sed y%*+%pp%;s%[^_$as_cr_alnum]%_%g"
+as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
 
 
 # IFS
@@ -309,7 +310,7 @@
 #endif"
 
 ac_default_prefix=/
-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS CUPS_VERSION CUPS_REVISION AWK CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT CXX CXXFLAGS ac_ct_CXX CPP INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA RANLIB ac_ct_RANLIB AR HTMLDOC LD LN MV RM SED STRIP INSTALLSTATIC LIBMALLOC LIBPAPER EGREP ARFLAGS PKGCONFIG BACKLIBS CUPSDLIBS DBUSDIR DEFAULT_IPP_PORT CUPS_CONFIG_FILE_PERM CUPS_LOG_FILE_PERM CUPS_BROWSING CUPS_BROWSE_LOCAL_PROTOCOLS CUPS_BROWSE_REMOTE_PROTOCOLS CUPS_BROWSE_SHORT_NAMES CUPS_DEFAULT_SHARED CUPS_IMPLICIT_CLASSES CUPS_USE_NETWORK_DEFAULT CUPS_USER CUPS_GROUP CUPS_SYSTEM_GROUPS CUPS_PRIMARY_SYSTEM_GROUP INITDDIR INITDIR CUPS_CACHEDIR CUPS_DATADIR CUPS_DOCROOT CUPS_FONTPATH CUPS_LOCALEDIR CUPS_LOGDIR CUPS_REQUESTS CUPS_SERVERBIN INSTALL_SYSV CUPS_SERVERROOT CUPS_STATEDIR AMANDIR PMANDIR MAN1EXT MAN5EXT MAN7EXT MAN8EXT MAN8DIR DSO DSOFLAGS LIBCUPS LIBCUPSIMAGE LINKCUPS LINKCUPSIMAGE DSOLIBS IMGLIBS EXPORT_LDFLAGS LIBTOOL OPTIM C32FLAGS INSTALL32 LIB32CUPS LIB32CUPSIMAGE LIB32DIR UNINSTALL32 C64FLAGS INSTALL64 LIB64CUPS LIB64CUPSIMAGE LIB64DIR UNINSTALL64 CXXLIBS LIBJPEG LIBPNG LIBTIFF LIBZ EXPORT_LIBJPEG EXPORT_LIBPNG EXPORT_LIBTIFF EXPORT_LIBZ CUPS_DEFAULT_DOMAINSOCKET CUPS_LISTEN_DOMAINSOCKET LIBSLP LIBLDAP SSLFLAGS SSLLIBS EXPORT_SSLLIBS PAMDIR PAMFILE PAMLIBS PAMMOD PTHREAD_FLAGS LARGEFILE DEFAULT_LAUNCHD_CONF LAUNCHDLIBS MAKEDEFS JAVA PERL PHP PHPCONFIG PHPDIR PYTHON LIBOBJS LTLIBOBJS'
+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS CUPS_VERSION CUPS_REVISION AWK CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT CXX CXXFLAGS ac_ct_CXX CPP INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA RANLIB ac_ct_RANLIB AR HTMLDOC LD LN MV RM RMDIR SED STRIP INSTALLSTATIC LIBMALLOC LIBPAPER EGREP ARFLAGS PKGCONFIG BACKLIBS CUPSDLIBS DBUSDIR DEFAULT_IPP_PORT CUPS_CONFIG_FILE_PERM CUPS_LOG_FILE_PERM CUPS_BROWSING CUPS_BROWSE_LOCAL_PROTOCOLS CUPS_BROWSE_REMOTE_PROTOCOLS CUPS_BROWSE_SHORT_NAMES CUPS_DEFAULT_SHARED CUPS_IMPLICIT_CLASSES CUPS_USE_NETWORK_DEFAULT CUPS_USER CUPS_GROUP CUPS_SYSTEM_GROUPS CUPS_PRIMARY_SYSTEM_GROUP INITDDIR INITDIR CUPS_CACHEDIR CUPS_DATADIR CUPS_DOCROOT CUPS_FONTPATH CUPS_LOCALEDIR CUPS_LOGDIR CUPS_REQUESTS CUPS_SERVERBIN INSTALL_SYSV CUPS_SERVERROOT CUPS_STATEDIR AMANDIR PMANDIR MAN1EXT MAN5EXT MAN7EXT MAN8EXT MAN8DIR DSO DSOFLAGS LIBCUPS LIBCUPSIMAGE LINKCUPS LINKCUPSIMAGE DSOLIBS IMGLIBS EXPORT_LDFLAGS LIBTOOL ARCHFLAGS OPTIM ARCH32FLAGS INSTALL32 LIB32CUPS LIB32CUPSIMAGE LIB32DIR UNINSTALL32 ARCH64FLAGS INSTALL64 LIB64CUPS LIB64CUPSIMAGE LIB64DIR UNINSTALL64 CXXLIBS LIBJPEG LIBPNG LIBTIFF LIBZ EXPORT_LIBJPEG EXPORT_LIBPNG EXPORT_LIBTIFF EXPORT_LIBZ CUPS_DEFAULT_DOMAINSOCKET CUPS_LISTEN_DOMAINSOCKET LIBSLP LIBLDAP SSLFLAGS SSLLIBS EXPORT_SSLLIBS PAMDIR PAMFILE PAMLIBS PAMMOD PTHREAD_FLAGS LARGEFILE DEFAULT_LAUNCHD_CONF LAUNCHDLIBS MAKEDEFS JAVA PERL PHP PHPCONFIG PHPDIR PYTHON LIBOBJS LTLIBOBJS'
 ac_subst_files=''
 
 # Initialize some variables set by options.
@@ -668,7 +669,7 @@
 
 # Be sure to have absolute paths.
 for ac_var in bindir sbindir libexecdir datadir sysconfdir sharedstatedir \
-              localstatedir libdir includedir oldincludedir infodir mandir
+	      localstatedir libdir includedir oldincludedir infodir mandir
 do
   eval ac_val=$`echo $ac_var`
   case $ac_val in
@@ -708,10 +709,10 @@
   # Try the directory containing this script, then its parent.
   ac_confdir=`(dirname "$0") 2>/dev/null ||
 $as_expr X"$0" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-         X"$0" : 'X\(//\)[^/]' \| \
-         X"$0" : 'X\(//\)$' \| \
-         X"$0" : 'X\(/\)' \| \
-         .     : '\(.\)' 2>/dev/null ||
+	 X"$0" : 'X\(//\)[^/]' \| \
+	 X"$0" : 'X\(//\)$' \| \
+	 X"$0" : 'X\(/\)' \| \
+	 .     : '\(.\)' 2>/dev/null ||
 echo X"$0" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -811,9 +812,9 @@
   cat <<_ACEOF
 Installation directories:
   --prefix=PREFIX         install architecture-independent files in PREFIX
-                          [$ac_default_prefix]
+			  [$ac_default_prefix]
   --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
-                          [PREFIX]
+			  [PREFIX]
 
 By default, \`make install' will install all the files in
 \`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
@@ -898,6 +899,9 @@
   --with-fontpath         set font path for pstoraster
   --with-logdir           set path for log files
   --with-optim="flags"    set optimization flags
+  --with-arch="flags"     set default architecture flags
+  --with-arch32="flags"   specifies 32-bit architecture flags
+  --with-arch64="flags"   specifies 64-bit architecture flags
   --with-maxfiles=N       set maximum number of file descriptors for scheduler
   --with-domainsocket     set unix domain socket name
   --with-openslp-libs     set directory for OpenSLP library
@@ -959,12 +963,45 @@
     ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
     ac_top_srcdir=$ac_top_builddir$srcdir ;;
 esac
-# Don't blindly perform a `cd "$ac_dir"/$ac_foo && pwd` since $ac_foo can be
-# absolute.
-ac_abs_builddir=`cd "$ac_dir" && cd $ac_builddir && pwd`
-ac_abs_top_builddir=`cd "$ac_dir" && cd ${ac_top_builddir}. && pwd`
-ac_abs_srcdir=`cd "$ac_dir" && cd $ac_srcdir && pwd`
-ac_abs_top_srcdir=`cd "$ac_dir" && cd $ac_top_srcdir && pwd`
+
+# Do not use `cd foo && pwd` to compute absolute paths, because
+# the directories may not exist.
+case `pwd` in
+.) ac_abs_builddir="$ac_dir";;
+*)
+  case "$ac_dir" in
+  .) ac_abs_builddir=`pwd`;;
+  [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
+  *) ac_abs_builddir=`pwd`/"$ac_dir";;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_top_builddir=${ac_top_builddir}.;;
+*)
+  case ${ac_top_builddir}. in
+  .) ac_abs_top_builddir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
+  *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_srcdir=$ac_srcdir;;
+*)
+  case $ac_srcdir in
+  .) ac_abs_srcdir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
+  *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_top_srcdir=$ac_top_srcdir;;
+*)
+  case $ac_top_srcdir in
+  .) ac_abs_top_srcdir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
+  *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
+  esac;;
+esac
 
     cd $ac_dir
     # Check for guested configure; otherwise get Cygnus style configure.
@@ -975,13 +1012,13 @@
       echo
       $SHELL $ac_srcdir/configure  --help=recursive
     elif test -f $ac_srcdir/configure.ac ||
-           test -f $ac_srcdir/configure.in; then
+	   test -f $ac_srcdir/configure.in; then
       echo
       $ac_configure --help
     else
       echo "$as_me: WARNING: no configuration information is in $ac_dir" >&2
     fi
-    cd $ac_popdir
+    cd "$ac_popdir"
   done
 fi
 
@@ -989,8 +1026,7 @@
 if $ac_init_version; then
   cat <<\_ACEOF
 
-Copyright 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001, 2002
-Free Software Foundation, Inc.
+Copyright (C) 2003 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
 _ACEOF
@@ -1002,7 +1038,7 @@
 running configure, to aid debugging if configure makes a mistake.
 
 It was created by $as_me, which was
-generated by GNU Autoconf 2.57.  Invocation command line was
+generated by GNU Autoconf 2.59.  Invocation command line was
 
   $ $0 $@
 
@@ -1079,19 +1115,19 @@
     2)
       ac_configure_args1="$ac_configure_args1 '$ac_arg'"
       if test $ac_must_keep_next = true; then
-        ac_must_keep_next=false # Got value, back to normal.
+	ac_must_keep_next=false # Got value, back to normal.
       else
-        case $ac_arg in
-          *=* | --config-cache | -C | -disable-* | --disable-* \
-          | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \
-          | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \
-          | -with-* | --with-* | -without-* | --without-* | --x)
-            case "$ac_configure_args0 " in
-              "$ac_configure_args1"*" '$ac_arg' "* ) continue ;;
-            esac
-            ;;
-          -* ) ac_must_keep_next=true ;;
-        esac
+	case $ac_arg in
+	  *=* | --config-cache | -C | -disable-* | --disable-* \
+	  | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \
+	  | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \
+	  | -with-* | --with-* | -without-* | --without-* | --x)
+	    case "$ac_configure_args0 " in
+	      "$ac_configure_args1"*" '$ac_arg' "* ) continue ;;
+	    esac
+	    ;;
+	  -* ) ac_must_keep_next=true ;;
+	esac
       fi
       ac_configure_args="$ac_configure_args$ac_sep'$ac_arg'"
       # Get rid of the leading space.
@@ -1125,12 +1161,12 @@
     case `(ac_space='"'"' '"'"'; set | grep ac_space) 2>&1` in
     *ac_space=\ *)
       sed -n \
-        "s/'"'"'/'"'"'\\\\'"'"''"'"'/g;
-    	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='"'"'\\2'"'"'/p"
+	"s/'"'"'/'"'"'\\\\'"'"''"'"'/g;
+	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='"'"'\\2'"'"'/p"
       ;;
     *)
       sed -n \
-        "s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
+	"s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
       ;;
     esac;
 }
@@ -1159,7 +1195,7 @@
       for ac_var in $ac_subst_files
       do
 	eval ac_val=$`echo $ac_var`
-        echo "$ac_var='"'"'$ac_val'"'"'"
+	echo "$ac_var='"'"'$ac_val'"'"'"
       done | sort
       echo
     fi
@@ -1178,7 +1214,7 @@
       echo "$as_me: caught signal $ac_signal"
     echo "$as_me: exit $exit_status"
   } >&5
-  rm -f core core.* *.core &&
+  rm -f core *.core &&
   rm -rf conftest* confdefs* conf$$* $ac_clean_files &&
     exit $exit_status
      ' 0
@@ -1258,7 +1294,7 @@
 # value.
 ac_cache_corrupted=false
 for ac_var in `(set) 2>&1 |
-               sed -n 's/^ac_env_\([a-zA-Z_0-9]*\)_set=.*/\1/p'`; do
+	       sed -n 's/^ac_env_\([a-zA-Z_0-9]*\)_set=.*/\1/p'`; do
   eval ac_old_set=\$ac_cv_env_${ac_var}_set
   eval ac_new_set=\$ac_env_${ac_var}_set
   eval ac_old_val="\$ac_cv_env_${ac_var}_value"
@@ -1275,13 +1311,13 @@
     ,);;
     *)
       if test "x$ac_old_val" != "x$ac_new_val"; then
-        { echo "$as_me:$LINENO: error: \`$ac_var' has changed since the previous run:" >&5
+	{ echo "$as_me:$LINENO: error: \`$ac_var' has changed since the previous run:" >&5
 echo "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
-        { echo "$as_me:$LINENO:   former value:  $ac_old_val" >&5
+	{ echo "$as_me:$LINENO:   former value:  $ac_old_val" >&5
 echo "$as_me:   former value:  $ac_old_val" >&2;}
-        { echo "$as_me:$LINENO:   current value: $ac_new_val" >&5
+	{ echo "$as_me:$LINENO:   current value: $ac_new_val" >&5
 echo "$as_me:   current value: $ac_new_val" >&2;}
-        ac_cache_corrupted=:
+	ac_cache_corrupted=:
       fi;;
   esac
   # Pass precious variables to config.status.
@@ -1751,7 +1787,6 @@
   (exit $ac_status); }
 
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -1771,8 +1806,8 @@
 # Try to create an executable without -o first, disregard a.out.
 # It will help us diagnose broken compilers, and finding out an intuition
 # of exeext.
-echo "$as_me:$LINENO: checking for C compiler default output" >&5
-echo $ECHO_N "checking for C compiler default output... $ECHO_C" >&6
+echo "$as_me:$LINENO: checking for C compiler default output file name" >&5
+echo $ECHO_N "checking for C compiler default output file name... $ECHO_C" >&6
 ac_link_default=`echo "$ac_link" | sed 's/ -o *conftest[^ ]*//'`
 if { (eval echo "$as_me:$LINENO: \"$ac_link_default\"") >&5
   (eval $ac_link_default) 2>&5
@@ -1792,23 +1827,23 @@
   test -f "$ac_file" || continue
   case $ac_file in
     *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj )
-        ;;
+	;;
     conftest.$ac_ext )
-        # This is the source file.
-        ;;
+	# This is the source file.
+	;;
     [ab].out )
-        # We found the default executable, but exeext='' is most
-        # certainly right.
-        break;;
+	# We found the default executable, but exeext='' is most
+	# certainly right.
+	break;;
     *.* )
-        ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
-        # FIXME: I believe we export ac_cv_exeext for Libtool,
-        # but it would be cool to find out if it's true.  Does anybody
-        # maintain Libtool? --akim.
-        export ac_cv_exeext
-        break;;
+	ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
+	# FIXME: I believe we export ac_cv_exeext for Libtool,
+	# but it would be cool to find out if it's true.  Does anybody
+	# maintain Libtool? --akim.
+	export ac_cv_exeext
+	break;;
     * )
-        break;;
+	break;;
   esac
 done
 else
@@ -1882,8 +1917,8 @@
   case $ac_file in
     *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj ) ;;
     *.* ) ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
-          export ac_cv_exeext
-          break;;
+	  export ac_cv_exeext
+	  break;;
     * ) break;;
   esac
 done
@@ -1908,7 +1943,6 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -1959,7 +1993,6 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -1979,11 +2012,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -1996,7 +2038,7 @@
 
 ac_compiler_gnu=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 ac_cv_c_compiler_gnu=$ac_compiler_gnu
 
 fi
@@ -2012,7 +2054,6 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -2029,11 +2070,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -2046,7 +2096,7 @@
 
 ac_cv_prog_cc_g=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
 echo "$as_me:$LINENO: result: $ac_cv_prog_cc_g" >&5
 echo "${ECHO_T}$ac_cv_prog_cc_g" >&6
@@ -2073,7 +2123,6 @@
   ac_cv_prog_cc_stdc=no
 ac_save_CC=$CC
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -2101,6 +2150,16 @@
   va_end (v);
   return s;
 }
+
+/* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
+   function prototypes and stuff, but not '\xHH' hex character constants.
+   These don't provoke an error unfortunately, instead are silently treated
+   as 'x'.  The following induces an error, until -std1 is added to get
+   proper ANSI mode.  Curiously '\x00'!='x' always comes out true, for an
+   array size at least.  It's necessary to write '\x00'==0 to get something
+   that's true only with -std1.  */
+int osf4_cc_array ['\x00' == 0 ? 1 : -1];
+
 int test (int i, double x);
 struct s1 {int (*f) (int a);};
 struct s2 {int (*f) (double a);};
@@ -2127,11 +2186,20 @@
   CC="$ac_save_CC $ac_arg"
   rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -2144,7 +2212,7 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext
+rm -f conftest.err conftest.$ac_objext
 done
 rm -f conftest.$ac_ext conftest.$ac_objext
 CC=$ac_save_CC
@@ -2172,19 +2240,27 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
   for ac_declaration in \
-   ''\
-   '#include <stdlib.h>' \
+   '' \
    'extern "C" void std::exit (int) throw (); using std::exit;' \
    'extern "C" void std::exit (int); using std::exit;' \
    'extern "C" void exit (int) throw ();' \
@@ -2192,14 +2268,13 @@
    'void exit (int);'
 do
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <stdlib.h>
 $ac_declaration
+#include <stdlib.h>
 int
 main ()
 {
@@ -2210,11 +2285,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -2227,9 +2311,8 @@
 
 continue
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -2246,11 +2329,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -2262,7 +2354,7 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 done
 rm -f conftest*
 if test -n "$ac_declaration"; then
@@ -2276,7 +2368,7 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 ac_ext=c
 ac_cpp='$CPP $CPPFLAGS'
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
@@ -2402,7 +2494,6 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -2422,11 +2513,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_cxx_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -2439,7 +2539,7 @@
 
 ac_compiler_gnu=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 ac_cv_cxx_compiler_gnu=$ac_compiler_gnu
 
 fi
@@ -2455,7 +2555,6 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -2472,11 +2571,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_cxx_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -2489,7 +2597,7 @@
 
 ac_cv_prog_cxx_g=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
 echo "$as_me:$LINENO: result: $ac_cv_prog_cxx_g" >&5
 echo "${ECHO_T}$ac_cv_prog_cxx_g" >&6
@@ -2509,8 +2617,7 @@
   fi
 fi
 for ac_declaration in \
-   ''\
-   '#include <stdlib.h>' \
+   '' \
    'extern "C" void std::exit (int) throw (); using std::exit;' \
    'extern "C" void std::exit (int); using std::exit;' \
    'extern "C" void exit (int) throw ();' \
@@ -2518,14 +2625,13 @@
    'void exit (int);'
 do
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <stdlib.h>
 $ac_declaration
+#include <stdlib.h>
 int
 main ()
 {
@@ -2536,11 +2642,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_cxx_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -2553,9 +2668,8 @@
 
 continue
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -2572,11 +2686,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_cxx_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -2588,7 +2711,7 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 done
 rm -f conftest*
 if test -n "$ac_declaration"; then
@@ -2631,7 +2754,6 @@
   # On the NeXT, cc -E runs the code through the compiler's parser,
   # not just through cpp. "Syntax error" is here to catch this case.
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -2642,7 +2764,7 @@
 #else
 # include <assert.h>
 #endif
-                     Syntax error
+		     Syntax error
 _ACEOF
 if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
   (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
@@ -2654,6 +2776,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -2674,7 +2797,6 @@
   # OK, works on sane cases.  Now check whether non-existent headers
   # can be detected and how.
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -2692,6 +2814,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -2738,7 +2861,6 @@
   # On the NeXT, cc -E runs the code through the compiler's parser,
   # not just through cpp. "Syntax error" is here to catch this case.
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -2749,7 +2871,7 @@
 #else
 # include <assert.h>
 #endif
-                     Syntax error
+		     Syntax error
 _ACEOF
 if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
   (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
@@ -2761,6 +2883,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -2781,7 +2904,6 @@
   # OK, works on sane cases.  Now check whether non-existent headers
   # can be detected and how.
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -2799,6 +2921,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -2873,6 +2996,7 @@
 # AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
 # AFS /usr/afsws/bin/install, which mishandles nonexistent args
 # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
+# OS/2's system install, which has a completely different semantic
 # ./install, which can be erroneously created by make from ./install.sh.
 echo "$as_me:$LINENO: checking for a BSD-compatible install" >&5
 echo $ECHO_N "checking for a BSD-compatible install... $ECHO_C" >&6
@@ -2889,6 +3013,7 @@
 case $as_dir/ in
   ./ | .// | /cC/* | \
   /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \
+  ?:\\/os2\\/install\\/* | ?:\\/OS2\\/INSTALL\\/* | \
   /usr/ucb/* ) ;;
   *)
     # OSF1 and SCO ODT 3.0 have their own names for install.
@@ -2896,20 +3021,20 @@
     # by default.
     for ac_prog in ginstall scoinst install; do
       for ac_exec_ext in '' $ac_executable_extensions; do
-        if $as_executable_p "$as_dir/$ac_prog$ac_exec_ext"; then
-          if test $ac_prog = install &&
-            grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
-            # AIX install.  It has an incompatible calling convention.
-            :
-          elif test $ac_prog = install &&
-            grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
-            # program-specific install script used by HP pwplus--don't use.
-            :
-          else
-            ac_cv_path_install="$as_dir/$ac_prog$ac_exec_ext -c"
-            break 3
-          fi
-        fi
+	if $as_executable_p "$as_dir/$ac_prog$ac_exec_ext"; then
+	  if test $ac_prog = install &&
+	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
+	    # AIX install.  It has an incompatible calling convention.
+	    :
+	  elif test $ac_prog = install &&
+	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
+	    # program-specific install script used by HP pwplus--don't use.
+	    :
+	  else
+	    ac_cv_path_install="$as_dir/$ac_prog$ac_exec_ext -c"
+	    break 3
+	  fi
+	fi
       done
     done
     ;;
@@ -3261,12 +3386,12 @@
 set dummy rmdir; ac_word=$2
 echo "$as_me:$LINENO: checking for $ac_word" >&5
 echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
-if test "${ac_cv_path_RM+set}" = set; then
+if test "${ac_cv_path_RMDIR+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  case $RM in
+  case $RMDIR in
   [\\/]* | ?:[\\/]*)
-  ac_cv_path_RM="$RM" # Let the user override the test with a path.
+  ac_cv_path_RMDIR="$RMDIR" # Let the user override the test with a path.
   ;;
   *)
   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -3276,7 +3401,7 @@
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
   if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
-    ac_cv_path_RM="$as_dir/$ac_word$ac_exec_ext"
+    ac_cv_path_RMDIR="$as_dir/$ac_word$ac_exec_ext"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
@@ -3286,11 +3411,11 @@
   ;;
 esac
 fi
-RM=$ac_cv_path_RM
+RMDIR=$ac_cv_path_RMDIR
 
-if test -n "$RM"; then
-  echo "$as_me:$LINENO: result: $RM" >&5
-echo "${ECHO_T}$RM" >&6
+if test -n "$RMDIR"; then
+  echo "$as_me:$LINENO: result: $RMDIR" >&5
+echo "${ECHO_T}$RMDIR" >&6
 else
   echo "$as_me:$LINENO: result: no" >&5
 echo "${ECHO_T}no" >&6
@@ -3413,7 +3538,6 @@
   ac_func_search_save_LIBS=$LIBS
 ac_cv_search_crypt=no
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -3437,11 +3561,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -3453,12 +3586,12 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 if test "$ac_cv_search_crypt" = no; then
   for ac_lib in crypt; do
     LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
     cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -3482,11 +3615,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -3499,7 +3641,8 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
   done
 fi
 LIBS=$ac_func_search_save_LIBS
@@ -3519,7 +3662,6 @@
   ac_func_search_save_LIBS=$LIBS
 ac_cv_search_getspent=no
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -3543,11 +3685,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -3559,12 +3710,12 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 if test "$ac_cv_search_getspent" = no; then
   for ac_lib in sec gen; do
     LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
     cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -3588,11 +3739,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -3605,7 +3765,8 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
   done
 fi
 LIBS=$ac_func_search_save_LIBS
@@ -3634,7 +3795,6 @@
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-lc  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -3658,11 +3818,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -3675,7 +3844,8 @@
 
 ac_cv_lib_c_mallinfo=no
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_c_mallinfo" >&5
@@ -3698,7 +3868,6 @@
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-lmalloc  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -3722,11 +3891,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -3739,7 +3917,8 @@
 
 ac_cv_lib_malloc_mallinfo=no
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_malloc_mallinfo" >&5
@@ -3775,7 +3954,6 @@
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-lpaper  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -3799,11 +3977,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -3816,7 +4003,8 @@
 
 ac_cv_lib_paper_systempapername=no
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_paper_systempapername" >&5
@@ -3858,7 +4046,6 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -3879,11 +4066,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -3896,12 +4092,11 @@
 
 ac_cv_header_stdc=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 
 if test $ac_cv_header_stdc = yes; then
   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -3923,7 +4118,6 @@
 if test $ac_cv_header_stdc = yes; then
   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -3948,7 +4142,6 @@
   :
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -3960,9 +4153,9 @@
 # define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
 #else
 # define ISLOWER(c) \
-                   (('a' <= (c) && (c) <= 'i') \
-                     || ('j' <= (c) && (c) <= 'r') \
-                     || ('s' <= (c) && (c) <= 'z'))
+		   (('a' <= (c) && (c) <= 'i') \
+		     || ('j' <= (c) && (c) <= 'r') \
+		     || ('s' <= (c) && (c) <= 'z'))
 # define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
 #endif
 
@@ -3973,7 +4166,7 @@
   int i;
   for (i = 0; i < 256; i++)
     if (XOR (islower (i), ISLOWER (i))
-        || toupper (i) != TOUPPER (i))
+	|| toupper (i) != TOUPPER (i))
       exit(2);
   exit (0);
 }
@@ -3998,7 +4191,7 @@
 ( exit $ac_status )
 ac_cv_header_stdc=no
 fi
-rm -f core core.* *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
 fi
 fi
@@ -4023,7 +4216,7 @@
 
 
 for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \
-                  inttypes.h stdint.h unistd.h
+		  inttypes.h stdint.h unistd.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 echo "$as_me:$LINENO: checking for $ac_header" >&5
@@ -4032,7 +4225,6 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -4044,11 +4236,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -4061,7 +4262,7 @@
 
 eval "$as_ac_Header=no"
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
 echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
 echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
@@ -4088,7 +4289,6 @@
 echo "$as_me:$LINENO: checking crypt.h usability" >&5
 echo $ECHO_N "checking crypt.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -4099,11 +4299,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -4116,7 +4325,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -4124,7 +4333,6 @@
 echo "$as_me:$LINENO: checking crypt.h presence" >&5
 echo $ECHO_N "checking crypt.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -4142,6 +4350,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -4161,33 +4370,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: crypt.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: crypt.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: crypt.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: crypt.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: crypt.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: crypt.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: crypt.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: crypt.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: crypt.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: crypt.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: crypt.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: crypt.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: crypt.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: crypt.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: crypt.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: crypt.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: crypt.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: crypt.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: crypt.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: crypt.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -4225,7 +4433,6 @@
 echo "$as_me:$LINENO: checking langinfo.h usability" >&5
 echo $ECHO_N "checking langinfo.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -4236,11 +4443,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -4253,7 +4469,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -4261,7 +4477,6 @@
 echo "$as_me:$LINENO: checking langinfo.h presence" >&5
 echo $ECHO_N "checking langinfo.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -4279,6 +4494,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -4298,33 +4514,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: langinfo.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: langinfo.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: langinfo.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: langinfo.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: langinfo.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: langinfo.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: langinfo.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: langinfo.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: langinfo.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: langinfo.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: langinfo.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: langinfo.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: langinfo.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: langinfo.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: langinfo.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: langinfo.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: langinfo.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: langinfo.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: langinfo.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: langinfo.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -4362,7 +4577,6 @@
 echo "$as_me:$LINENO: checking malloc.h usability" >&5
 echo $ECHO_N "checking malloc.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -4373,11 +4587,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -4390,7 +4613,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -4398,7 +4621,6 @@
 echo "$as_me:$LINENO: checking malloc.h presence" >&5
 echo $ECHO_N "checking malloc.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -4416,6 +4638,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -4435,33 +4658,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: malloc.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: malloc.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: malloc.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: malloc.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: malloc.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: malloc.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: malloc.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: malloc.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: malloc.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: malloc.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: malloc.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: malloc.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: malloc.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: malloc.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: malloc.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: malloc.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: malloc.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: malloc.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: malloc.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: malloc.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -4499,7 +4721,6 @@
 echo "$as_me:$LINENO: checking shadow.h usability" >&5
 echo $ECHO_N "checking shadow.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -4510,11 +4731,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -4527,7 +4757,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -4535,7 +4765,6 @@
 echo "$as_me:$LINENO: checking shadow.h presence" >&5
 echo $ECHO_N "checking shadow.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -4553,6 +4782,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -4572,33 +4802,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: shadow.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: shadow.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: shadow.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: shadow.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: shadow.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: shadow.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: shadow.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: shadow.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: shadow.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: shadow.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: shadow.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: shadow.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: shadow.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: shadow.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: shadow.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: shadow.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: shadow.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: shadow.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: shadow.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: shadow.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -4636,7 +4865,6 @@
 echo "$as_me:$LINENO: checking string.h usability" >&5
 echo $ECHO_N "checking string.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -4647,11 +4875,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -4664,7 +4901,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -4672,7 +4909,6 @@
 echo "$as_me:$LINENO: checking string.h presence" >&5
 echo $ECHO_N "checking string.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -4690,6 +4926,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -4709,33 +4946,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: string.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: string.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: string.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: string.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: string.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: string.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: string.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: string.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: string.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: string.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: string.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: string.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: string.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: string.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: string.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: string.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: string.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: string.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: string.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: string.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -4773,7 +5009,6 @@
 echo "$as_me:$LINENO: checking strings.h usability" >&5
 echo $ECHO_N "checking strings.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -4784,11 +5019,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -4801,7 +5045,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -4809,7 +5053,6 @@
 echo "$as_me:$LINENO: checking strings.h presence" >&5
 echo $ECHO_N "checking strings.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -4827,6 +5070,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -4846,33 +5090,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: strings.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: strings.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: strings.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: strings.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: strings.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: strings.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: strings.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: strings.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: strings.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: strings.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: strings.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: strings.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: strings.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: strings.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: strings.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: strings.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: strings.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: strings.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: strings.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: strings.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -4910,7 +5153,6 @@
 echo "$as_me:$LINENO: checking bstring.h usability" >&5
 echo $ECHO_N "checking bstring.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -4921,11 +5163,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -4938,7 +5189,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -4946,7 +5197,6 @@
 echo "$as_me:$LINENO: checking bstring.h presence" >&5
 echo $ECHO_N "checking bstring.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -4964,6 +5214,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -4983,33 +5234,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: bstring.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: bstring.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: bstring.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: bstring.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: bstring.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: bstring.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: bstring.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: bstring.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: bstring.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: bstring.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: bstring.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: bstring.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: bstring.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: bstring.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: bstring.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: bstring.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: bstring.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: bstring.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: bstring.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: bstring.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -5047,7 +5297,6 @@
 echo "$as_me:$LINENO: checking usersec.h usability" >&5
 echo $ECHO_N "checking usersec.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -5058,11 +5307,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -5075,7 +5333,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -5083,7 +5341,6 @@
 echo "$as_me:$LINENO: checking usersec.h presence" >&5
 echo $ECHO_N "checking usersec.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -5101,6 +5358,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -5120,33 +5378,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: usersec.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: usersec.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: usersec.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: usersec.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: usersec.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: usersec.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: usersec.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: usersec.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: usersec.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: usersec.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: usersec.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: usersec.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: usersec.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: usersec.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: usersec.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: usersec.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: usersec.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: usersec.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: usersec.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: usersec.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -5184,7 +5441,6 @@
 echo "$as_me:$LINENO: checking sys/ioctl.h usability" >&5
 echo $ECHO_N "checking sys/ioctl.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -5195,11 +5451,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -5212,7 +5477,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -5220,7 +5485,6 @@
 echo "$as_me:$LINENO: checking sys/ioctl.h presence" >&5
 echo $ECHO_N "checking sys/ioctl.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -5238,6 +5502,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -5257,33 +5522,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: sys/ioctl.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: sys/ioctl.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: sys/ioctl.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: sys/ioctl.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: sys/ioctl.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: sys/ioctl.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: sys/ioctl.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: sys/ioctl.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: sys/ioctl.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: sys/ioctl.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: sys/ioctl.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: sys/ioctl.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: sys/ioctl.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: sys/ioctl.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: sys/ioctl.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: sys/ioctl.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: sys/ioctl.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: sys/ioctl.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: sys/ioctl.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: sys/ioctl.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -5323,21 +5587,28 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
 /* System header to define __stub macros and hopefully few prototypes,
     which can conflict with char $ac_func (); below.
     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
     <limits.h> exists even on freestanding compilers.  */
+
 #ifdef __STDC__
 # include <limits.h>
 #else
 # include <assert.h>
 #endif
+
+#undef $ac_func
+
 /* Override any gcc2 internal prototype to avoid an error.  */
 #ifdef __cplusplus
 extern "C"
@@ -5368,11 +5639,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -5385,7 +5665,8 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 fi
 echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
 echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
@@ -5411,21 +5692,28 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
 /* System header to define __stub macros and hopefully few prototypes,
     which can conflict with char $ac_func (); below.
     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
     <limits.h> exists even on freestanding compilers.  */
+
 #ifdef __STDC__
 # include <limits.h>
 #else
 # include <assert.h>
 #endif
+
+#undef $ac_func
+
 /* Override any gcc2 internal prototype to avoid an error.  */
 #ifdef __cplusplus
 extern "C"
@@ -5456,11 +5744,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -5473,7 +5770,8 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 fi
 echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
 echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
@@ -5498,21 +5796,28 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
 /* System header to define __stub macros and hopefully few prototypes,
     which can conflict with char $ac_func (); below.
     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
     <limits.h> exists even on freestanding compilers.  */
+
 #ifdef __STDC__
 # include <limits.h>
 #else
 # include <assert.h>
 #endif
+
+#undef $ac_func
+
 /* Override any gcc2 internal prototype to avoid an error.  */
 #ifdef __cplusplus
 extern "C"
@@ -5543,11 +5848,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -5560,7 +5874,8 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 fi
 echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
 echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
@@ -5583,21 +5898,28 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
 /* System header to define __stub macros and hopefully few prototypes,
     which can conflict with char $ac_func (); below.
     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
     <limits.h> exists even on freestanding compilers.  */
+
 #ifdef __STDC__
 # include <limits.h>
 #else
 # include <assert.h>
 #endif
+
+#undef $ac_func
+
 /* Override any gcc2 internal prototype to avoid an error.  */
 #ifdef __cplusplus
 extern "C"
@@ -5628,11 +5950,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -5645,7 +5976,8 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 fi
 echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
 echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
@@ -5668,21 +6000,28 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
 /* System header to define __stub macros and hopefully few prototypes,
     which can conflict with char $ac_func (); below.
     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
     <limits.h> exists even on freestanding compilers.  */
+
 #ifdef __STDC__
 # include <limits.h>
 #else
 # include <assert.h>
 #endif
+
+#undef $ac_func
+
 /* Override any gcc2 internal prototype to avoid an error.  */
 #ifdef __cplusplus
 extern "C"
@@ -5713,11 +6052,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -5730,7 +6078,8 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 fi
 echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
 echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
@@ -5759,21 +6108,28 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
 /* System header to define __stub macros and hopefully few prototypes,
     which can conflict with char $ac_func (); below.
     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
     <limits.h> exists even on freestanding compilers.  */
+
 #ifdef __STDC__
 # include <limits.h>
 #else
 # include <assert.h>
 #endif
+
+#undef $ac_func
+
 /* Override any gcc2 internal prototype to avoid an error.  */
 #ifdef __cplusplus
 extern "C"
@@ -5804,11 +6160,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -5821,7 +6186,8 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 fi
 echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
 echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
@@ -5846,21 +6212,28 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
 /* System header to define __stub macros and hopefully few prototypes,
     which can conflict with char $ac_func (); below.
     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
     <limits.h> exists even on freestanding compilers.  */
+
 #ifdef __STDC__
 # include <limits.h>
 #else
 # include <assert.h>
 #endif
+
+#undef $ac_func
+
 /* Override any gcc2 internal prototype to avoid an error.  */
 #ifdef __cplusplus
 extern "C"
@@ -5891,11 +6264,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -5908,7 +6290,8 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 fi
 echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
 echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
@@ -5931,21 +6314,28 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
 /* System header to define __stub macros and hopefully few prototypes,
     which can conflict with char $ac_func (); below.
     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
     <limits.h> exists even on freestanding compilers.  */
+
 #ifdef __STDC__
 # include <limits.h>
 #else
 # include <assert.h>
 #endif
+
+#undef $ac_func
+
 /* Override any gcc2 internal prototype to avoid an error.  */
 #ifdef __cplusplus
 extern "C"
@@ -5976,11 +6366,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -5993,7 +6392,8 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 fi
 echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
 echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
@@ -6015,21 +6415,28 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
 /* System header to define __stub macros and hopefully few prototypes,
     which can conflict with char $ac_func (); below.
     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
     <limits.h> exists even on freestanding compilers.  */
+
 #ifdef __STDC__
 # include <limits.h>
 #else
 # include <assert.h>
 #endif
+
+#undef $ac_func
+
 /* Override any gcc2 internal prototype to avoid an error.  */
 #ifdef __cplusplus
 extern "C"
@@ -6060,11 +6467,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -6077,7 +6493,8 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 fi
 echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
 echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
@@ -6093,7 +6510,6 @@
 echo "$as_me:$LINENO: checking for tm_gmtoff member in tm structure" >&5
 echo $ECHO_N "checking for tm_gmtoff member in tm structure... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -6111,11 +6527,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -6134,7 +6559,7 @@
 echo "$as_me:$LINENO: result: no" >&5
 echo "${ECHO_T}no" >&6
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 
 case $uname in
         Darwin* | *BSD*)
@@ -6190,7 +6615,6 @@
 echo "$as_me:$LINENO: checking CoreFoundation/CoreFoundation.h usability" >&5
 echo $ECHO_N "checking CoreFoundation/CoreFoundation.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -6201,11 +6625,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -6218,7 +6651,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -6226,7 +6659,6 @@
 echo "$as_me:$LINENO: checking CoreFoundation/CoreFoundation.h presence" >&5
 echo $ECHO_N "checking CoreFoundation/CoreFoundation.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -6244,6 +6676,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -6263,33 +6696,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: CoreFoundation/CoreFoundation.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: CoreFoundation/CoreFoundation.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CoreFoundation.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: CoreFoundation/CoreFoundation.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CoreFoundation.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: CoreFoundation/CoreFoundation.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: CoreFoundation/CoreFoundation.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: CoreFoundation/CoreFoundation.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CoreFoundation.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: CoreFoundation/CoreFoundation.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CoreFoundation.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: CoreFoundation/CoreFoundation.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CoreFoundation.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: CoreFoundation/CoreFoundation.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CoreFoundation.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: CoreFoundation/CoreFoundation.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: CoreFoundation/CoreFoundation.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: CoreFoundation/CoreFoundation.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CoreFoundation.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: CoreFoundation/CoreFoundation.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -6327,7 +6759,6 @@
 echo "$as_me:$LINENO: checking CoreFoundation/CFPriv.h usability" >&5
 echo $ECHO_N "checking CoreFoundation/CFPriv.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -6338,11 +6769,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -6355,7 +6795,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -6363,7 +6803,6 @@
 echo "$as_me:$LINENO: checking CoreFoundation/CFPriv.h presence" >&5
 echo $ECHO_N "checking CoreFoundation/CFPriv.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -6381,6 +6820,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -6400,33 +6840,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFPriv.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: CoreFoundation/CFPriv.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFPriv.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: CoreFoundation/CFPriv.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFPriv.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: CoreFoundation/CFPriv.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFPriv.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: CoreFoundation/CFPriv.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFPriv.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: CoreFoundation/CFPriv.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFPriv.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: CoreFoundation/CFPriv.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFPriv.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: CoreFoundation/CFPriv.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFPriv.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: CoreFoundation/CFPriv.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFPriv.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: CoreFoundation/CFPriv.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFPriv.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: CoreFoundation/CFPriv.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -6464,7 +6903,6 @@
 echo "$as_me:$LINENO: checking CoreFoundation/CFBundlePriv.h usability" >&5
 echo $ECHO_N "checking CoreFoundation/CFBundlePriv.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -6475,11 +6913,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -6492,7 +6939,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -6500,7 +6947,6 @@
 echo "$as_me:$LINENO: checking CoreFoundation/CFBundlePriv.h presence" >&5
 echo $ECHO_N "checking CoreFoundation/CFBundlePriv.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -6518,6 +6964,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -6537,33 +6984,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFBundlePriv.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: CoreFoundation/CFBundlePriv.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFBundlePriv.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: CoreFoundation/CFBundlePriv.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFBundlePriv.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: CoreFoundation/CFBundlePriv.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFBundlePriv.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: CoreFoundation/CFBundlePriv.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFBundlePriv.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: CoreFoundation/CFBundlePriv.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFBundlePriv.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: CoreFoundation/CFBundlePriv.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFBundlePriv.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: CoreFoundation/CFBundlePriv.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFBundlePriv.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: CoreFoundation/CFBundlePriv.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFBundlePriv.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: CoreFoundation/CFBundlePriv.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: CoreFoundation/CFBundlePriv.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: CoreFoundation/CFBundlePriv.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -6602,7 +7048,6 @@
 echo "$as_me:$LINENO: checking membership.h usability" >&5
 echo $ECHO_N "checking membership.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -6613,11 +7058,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -6630,7 +7084,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -6638,7 +7092,6 @@
 echo "$as_me:$LINENO: checking membership.h presence" >&5
 echo $ECHO_N "checking membership.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -6656,6 +7109,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -6675,33 +7129,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: membership.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: membership.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: membership.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: membership.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: membership.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: membership.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: membership.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: membership.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: membership.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: membership.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: membership.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: membership.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: membership.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: membership.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: membership.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: membership.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: membership.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: membership.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: membership.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: membership.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -6736,21 +7189,28 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
 /* System header to define __stub macros and hopefully few prototypes,
     which can conflict with char $ac_func (); below.
     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
     <limits.h> exists even on freestanding compilers.  */
+
 #ifdef __STDC__
 # include <limits.h>
 #else
 # include <assert.h>
 #endif
+
+#undef $ac_func
+
 /* Override any gcc2 internal prototype to avoid an error.  */
 #ifdef __cplusplus
 extern "C"
@@ -6781,11 +7241,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -6798,7 +7267,8 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 fi
 echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
 echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
@@ -6824,7 +7294,6 @@
 echo "$as_me:$LINENO: checking notify.h usability" >&5
 echo $ECHO_N "checking notify.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -6835,11 +7304,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -6852,7 +7330,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -6860,7 +7338,6 @@
 echo "$as_me:$LINENO: checking notify.h presence" >&5
 echo $ECHO_N "checking notify.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -6878,6 +7355,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -6897,33 +7375,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: notify.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: notify.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: notify.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: notify.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: notify.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: notify.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: notify.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: notify.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: notify.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: notify.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: notify.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: notify.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: notify.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: notify.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: notify.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: notify.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: notify.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: notify.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: notify.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: notify.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -6958,21 +7435,28 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
 /* System header to define __stub macros and hopefully few prototypes,
     which can conflict with char $ac_func (); below.
     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
     <limits.h> exists even on freestanding compilers.  */
+
 #ifdef __STDC__
 # include <limits.h>
 #else
 # include <assert.h>
 #endif
+
+#undef $ac_func
+
 /* Override any gcc2 internal prototype to avoid an error.  */
 #ifdef __cplusplus
 extern "C"
@@ -7003,11 +7487,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -7020,7 +7513,8 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 fi
 echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
 echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
@@ -7089,7 +7583,6 @@
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-ldbus-1  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -7113,11 +7606,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -7130,7 +7632,8 @@
 
 ac_cv_lib_dbus_1_dbus_message_iter_init_append=no
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_dbus_1_dbus_message_iter_init_append" >&5
@@ -7164,7 +7667,6 @@
   ac_func_search_save_LIBS=$LIBS
 ac_cv_search_acl_init=no
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -7188,11 +7690,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -7204,12 +7715,12 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 if test "$ac_cv_search_acl_init" = no; then
   for ac_lib in acl; do
     LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
     cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -7233,11 +7744,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -7250,7 +7770,8 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
   done
 fi
 LIBS=$ac_func_search_save_LIBS
@@ -8185,16 +8706,24 @@
 
 
 
+ARCHFLAGS=""
 OPTIM=""
 
 
 
+
 # Check whether --with-optim or --without-optim was given.
 if test "${with_optim+set}" = set; then
   withval="$with_optim"
 
 fi;
 
+# Check whether --with-archflags or --without-archflags was given.
+if test "${with_archflags+set}" = set; then
+  withval="$with_archflags"
+
+fi;
+
 # Check whether --enable-debug or --disable-debug was given.
 if test "${enable_debug+set}" = set; then
   enableval="$enable_debug"
@@ -8209,7 +8738,13 @@
 
 fi;
 
-C32FLAGS=""
+# Check whether --with-arch32flags or --without-arch32flags was given.
+if test "${with_arch32flags+set}" = set; then
+  withval="$with_arch32flags"
+
+fi;
+
+ARCH32FLAGS=""
 INSTALL32=""
 LIB32CUPS=""
 LIB32CUPSIMAGE=""
@@ -8229,7 +8764,13 @@
 
 fi;
 
-C64FLAGS=""
+# Check whether --with-arch64flags or --without-arch64flags was given.
+if test "${with_arch64flags+set}" = set; then
+  withval="$with_arch64flags"
+
+fi;
+
+ARCH64FLAGS=""
 INSTALL64=""
 LIB64CUPS=""
 LIB64CUPSIMAGE=""
@@ -8267,16 +8808,6 @@
 	fi
 
 	case $uname in
-		Darwin*)
-			if test "x$with_optim" = x; then
-				if test "x`uname -m`" = xi386; then
-					# Build universal binaries for OSX on Intel...
-					OPTIM="-arch i386 -arch ppc $OPTIM"
-					DSOFLAGS="-arch i386 -arch ppc $DSOFLAGS"
-				fi
-			fi
-			;;
-
 		Linux*)
 			if test x$enable_pie = xyes; then
 				OPTIM="$OPTIM -fpie"
@@ -8293,35 +8824,75 @@
 	fi
 
 	case "$uname" in
+		Darwin*)
+			if test -z "$with_archflags"; then
+				if test "x`uname -m`" = xi386; then
+					# Build universal binaries for OSX on Intel...
+					ARCHFLAGS="-arch i386 -arch ppc"
+				fi
+			else
+				ARCHFLAGS="$with_archflags"
+			fi
+			;;
+
 		IRIX)
 			if test "x$enable_32bit" = xyes; then
-				# Compiling on an IRIX system, build 32-bit
-				# libraries...
-				C32FLAGS="-n32 -mips3"
+				# Build 32-bit libraries, 64-bit base...
+				if test -z "$with_arch32flags"; then
+					ARCH32FLAGS="-n32 -mips3"
+				else
+					ARCH32FLAGS="$with_arch32flags"
+				fi
 				INSTALL32="install32bit"
 				LIB32CUPS="libcups.32.so.2"
 				LIB32CUPSIMAGE="libcupsimage.32.so.2"
 				LIB32DIR="$prefix/lib32"
 				UNINSTALL32="uninstall32bit"
+
+				if test -z "$with_archflags"; then
+					if test -z "$with_arch64flags"; then
+						ARCHFLAGS="-64 -mips4"
+					else
+						ARCHFLAGS="$with_arch64flags"
+					fi
+				else
+					ARCHFLAGS="$with_archflags"
+				fi
 			fi
 
 			if test "x$enable_64bit" = xyes; then
-				# Compiling on an IRIX system, build 64-bit
-				# libraries...
-				C64FLAGS="-64 -mips4"
+				# Build 64-bit libraries, 32-bit base...
+				if test -z "$with_arch64flags"; then
+					ARCH64FLAGS="-64 -mips4"
+				else
+					ARCH64FLAGS="$with_arch64flags"
+				fi
 				INSTALL64="install64bit"
 				LIB64CUPS="libcups.64.so.2"
 				LIB64CUPSIMAGE="libcupsimage.64.so.2"
 				LIB64DIR="$prefix/lib64"
 				UNINSTALL64="uninstall64bit"
+
+				if test -z "$with_archflags"; then
+					if test -z "$with_arch32flags"; then
+						ARCHFLAGS="-n32 -mips3"
+					else
+						ARCHFLAGS="$with_arch32flags"
+					fi
+				else
+					ARCHFLAGS="$with_archflags"
+				fi
 			fi
 			;;
 
 		Linux*)
 			if test "x$enable_32bit" = xyes; then
-				# Compiling on an 64-bit x86 system, build 32-bit
-				# libraries...
-				C32FLAGS="-m32"
+				# Build 32-bit libraries, 64-bit base...
+				if test -z "$with_arch32flags"; then
+					ARCH32FLAGS="-m32"
+				else
+					ARCH32FLAGS="$with_arch32flags"
+				fi
 				INSTALL32="install32bit"
 				LIB32CUPS="libcups.32.so.2"
 				LIB32CUPSIMAGE="libcupsimage.32.so.2"
@@ -8330,30 +8901,93 @@
 					LIB32DIR="${LIB32DIR}32"
 				fi
 				UNINSTALL32="uninstall32bit"
+
+				if test -z "$with_archflags"; then
+					if test -z "$with_arch64flags"; then
+						ARCHFLAGS="-m64"
+					else
+						ARCHFLAGS="$with_arch64flags"
+					fi
+				else
+					ARCHFLAGS="$with_archflags"
+				fi
+			fi
+
+			if test "x$enable_64bit" = xyes; then
+				# Build 64-bit libraries, 32-bit base...
+				if test -z "$with_arch64flags"; then
+					ARCH64FLAGS="-m64"
+				else
+					ARCH64FLAGS="$with_arch64flags"
+				fi
+				INSTALL64="install64bit"
+				LIB64CUPS="libcups.64.so.2"
+				LIB64CUPSIMAGE="libcupsimage.64.so.2"
+				LIB64DIR="$exec_prefix/lib"
+				if test -d /usr/lib64; then
+					LIB64DIR="${LIB64DIR}64"
+				fi
+				UNINSTALL64="uninstall64bit"
+
+				if test -z "$with_archflags"; then
+					if test -z "$with_arch32flags"; then
+						ARCHFLAGS="-m32"
+					else
+						ARCHFLAGS="$with_arch32flags"
+					fi
+				else
+					ARCHFLAGS="$with_archflags"
+				fi
 			fi
 			;;
 
 		SunOS*)
 			if test "x$enable_32bit" = xyes; then
-				# Compiling on a Solaris system, build 32-bit
-				# libraries...
-				C32FLAGS="-m32"
+				# Build 32-bit libraries, 64-bit base...
+				if test -z "$with_arch32flags"; then
+					ARCH32FLAGS="-m32"
+				else
+					ARCH32FLAGS="$with_arch32flags"
+				fi
 				INSTALL32="install32bit"
 				LIB32CUPS="libcups.32.so.2"
 				LIB32CUPSIMAGE="libcupsimage.32.so.2"
 				LIB32DIR="$exec_prefix/lib/32"
 				UNINSTALL32="uninstall32bit"
+
+				if test -z "$with_archflags"; then
+					if test -z "$with_arch64flags"; then
+						ARCHFLAGS="-m64"
+					else
+						ARCHFLAGS="$with_arch64flags"
+					fi
+				else
+					ARCHFLAGS="$with_archflags"
+				fi
 			fi
 
 			if test "x$enable_64bit" = xyes; then
-				# Compiling on a Solaris system, build 64-bit
-				# libraries...
-				C64FLAGS="-m64"
+				# Build 64-bit libraries, 32-bit base...
+				if test -z "$with_arch64flags"; then
+					ARCH64FLAGS="-m64"
+				else
+					ARCH64FLAGS="$with_arch64flags"
+				fi
 				INSTALL64="install64bit"
 				LIB64CUPS="libcups.64.so.2"
 				LIB64CUPSIMAGE="libcupsimage.64.so.2"
 				LIB64DIR="$exec_prefix/lib/64"
 				UNINSTALL64="uninstall64bit"
+
+				if test -z "$with_archflags"; then
+					if test -z "$with_arch32flags"; then
+						ARCHFLAGS="-m32"
+					else
+						ARCHFLAGS="$with_arch32flags"
+					fi
+				else
+					ARCHFLAGS="$with_archflags"
+				fi
 			fi
 			;;
 	esac
@@ -8378,6 +9012,9 @@
 			fi
 
 			CFLAGS="-Ae $CFLAGS"
+			# Warning 336 is "empty translation unit"
+			# Warning 829 is passing constant string as char *
+			CXXFLAGS="+W336,829 $CXXFLAGS"
 
 			if test "x$with_optim" = x; then
 				OPTIM="+DAportable $OPTIM"
@@ -8401,25 +9038,51 @@
 			fi
 
 			if test "x$enable_32bit" = xyes; then
-				# Compiling on an IRIX system, build 32-bit
-				# libraries...
-				C32FLAGS="-n32 -mips3"
+				# Build 32-bit libraries, 64-bit base...
+				if test -z "$with_arch32flags"; then
+					ARCH32FLAGS="-n32 -mips3"
+				else
+					ARCH32FLAGS="$with_arch32flags"
+				fi
 				INSTALL32="install32bit"
 				LIB32CUPS="libcups.32.so.2"
 				LIB32CUPSIMAGE="libcupsimage.32.so.2"
-				LIB32DIR="$exec_prefix/lib32"
+				LIB32DIR="$prefix/lib32"
 				UNINSTALL32="uninstall32bit"
+
+				if test -z "$with_archflags"; then
+					if test -z "$with_arch64flags"; then
+						ARCHFLAGS="-64 -mips4"
+					else
+						ARCHFLAGS="$with_arch64flags"
+					fi
+				else
+					ARCHFLAGS="$with_archflags"
+				fi
 			fi
 
 			if test "x$enable_64bit" = xyes; then
-				# Compiling on an IRIX system, build 64-bit
-				# libraries...
-				C64FLAGS="-64 -mips4"
+				# Build 64-bit libraries, 32-bit base...
+				if test -z "$with_arch64flags"; then
+					ARCH64FLAGS="-64 -mips4"
+				else
+					ARCH64FLAGS="$with_arch64flags"
+				fi
 				INSTALL64="install64bit"
 				LIB64CUPS="libcups.64.so.2"
 				LIB64CUPSIMAGE="libcupsimage.64.so.2"
-				LIB64DIR="$exec_prefix/lib64"
+				LIB64DIR="$prefix/lib64"
 				UNINSTALL64="uninstall64bit"
+
+				if test -z "$with_archflags"; then
+					if test -z "$with_arch32flags"; then
+						ARCHFLAGS="-n32 -mips3"
+					else
+						ARCHFLAGS="$with_arch32flags"
+					fi
+				else
+					ARCHFLAGS="$with_archflags"
+				fi
 			fi
 			;;
 		SunOS*)
@@ -8432,36 +9095,53 @@
 				fi
 			fi
 
-			if test "x$with_optim" = x; then
-				# Specify "generic" SPARC output and suppress
-				# all of Sun's questionable warning messages...
-				OPTIM="-w $OPTIM -xarch=generic"
-			fi
-
 			if test $PICFLAG = 1; then
 				OPTIM="-KPIC $OPTIM"
 			fi
 
 			if test "x$enable_32bit" = xyes; then
-				# Compiling on a Solaris system, build 32-bit
-				# libraries...
-				C32FLAGS="-xarch=v8"
+				# Compiling on a Solaris system, build 64-bit
+				# binaries with separate 32-bit libraries...
+				ARCH32FLAGS="-xarch=generic"
 				INSTALL32="install32bit"
 				LIB32CUPS="libcups.32.so.2"
 				LIB32CUPSIMAGE="libcupsimage.32.so.2"
 				LIB32DIR="$exec_prefix/lib/32"
 				UNINSTALL32="uninstall32bit"
-			fi
 
-			if test "x$enable_64bit" = xyes; then
-				# Compiling on a Solaris system, build 64-bit
-				# libraries...
-				C64FLAGS="-xarch=v9 -xcode=pic32"
-				INSTALL64="install64bit"
-				LIB64CUPS="libcups.64.so.2"
-				LIB64CUPSIMAGE="libcupsimage.64.so.2"
-				LIB64DIR="$exec_prefix/lib/64"
-				UNINSTALL64="uninstall64bit"
+				if test "x$with_optim" = x; then
+					# Suppress all of Sun's questionable
+					# warning messages, and default to
+					# 64-bit compiles of everything else...
+					OPTIM="-w $OPTIM"
+					CFLAGS="-xarch=generic64 $CFLAGS"
+				fi
+			else
+				if test "x$enable_64bit" = xyes; then
+					# Build 64-bit libraries...
+					ARCH64FLAGS="-xarch=generic64"
+					INSTALL64="install64bit"
+					LIB64CUPS="libcups.64.so.2"
+					LIB64CUPSIMAGE="libcupsimage.64.so.2"
+					LIB64DIR="$exec_prefix/lib/64"
+					UNINSTALL64="uninstall64bit"
+
+					if test "x$with_optim" = x; then
+						# Suppress all of Sun's questionable
+						# warning messages, and default to
+						# 32-bit compiles of everything else...
+						OPTIM="-w $OPTIM"
+						CFLAGS="-xarch=generic $CFLAGS"
+					fi
+				else
+					if test "x$with_optim" = x; then
+						# Suppress all of Sun's questionable
+						# warning messages, and default to
+						# 32-bit compiles of everything else...
+						OPTIM="-w $OPTIM"
+						CFLAGS="-xarch=generic $CFLAGS"
+					fi
+				fi
 			fi
 			;;
 		UNIX_SVR*)
@@ -8545,7 +9225,6 @@
 echo "$as_me:$LINENO: checking jpeglib.h usability" >&5
 echo $ECHO_N "checking jpeglib.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -8556,11 +9235,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -8573,7 +9261,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -8581,7 +9269,6 @@
 echo "$as_me:$LINENO: checking jpeglib.h presence" >&5
 echo $ECHO_N "checking jpeglib.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -8599,6 +9286,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -8618,33 +9306,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: jpeglib.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: jpeglib.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: jpeglib.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: jpeglib.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: jpeglib.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: jpeglib.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: jpeglib.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: jpeglib.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: jpeglib.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: jpeglib.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: jpeglib.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: jpeglib.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: jpeglib.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: jpeglib.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: jpeglib.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: jpeglib.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: jpeglib.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: jpeglib.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: jpeglib.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: jpeglib.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -8670,7 +9357,6 @@
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-ljpeg  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -8694,11 +9380,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -8711,7 +9406,8 @@
 
 ac_cv_lib_jpeg_jpeg_destroy_decompress=no
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_jpeg_jpeg_destroy_decompress" >&5
@@ -8746,7 +9442,6 @@
 echo "$as_me:$LINENO: checking zlib.h usability" >&5
 echo $ECHO_N "checking zlib.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -8757,11 +9452,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -8774,7 +9478,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -8782,7 +9486,6 @@
 echo "$as_me:$LINENO: checking zlib.h presence" >&5
 echo $ECHO_N "checking zlib.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -8800,6 +9503,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -8819,33 +9523,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: zlib.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: zlib.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: zlib.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: zlib.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: zlib.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: zlib.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: zlib.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: zlib.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: zlib.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: zlib.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: zlib.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: zlib.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: zlib.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: zlib.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: zlib.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: zlib.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: zlib.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: zlib.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: zlib.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: zlib.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -8871,7 +9574,6 @@
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-lz  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -8895,11 +9597,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -8912,7 +9623,8 @@
 
 ac_cv_lib_z_gzgets=no
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_z_gzgets" >&5
@@ -8939,7 +9651,6 @@
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-lm  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -8963,11 +9674,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -8980,7 +9700,8 @@
 
 ac_cv_lib_m_pow=no
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_m_pow" >&5
@@ -9009,7 +9730,6 @@
 echo "$as_me:$LINENO: checking png.h usability" >&5
 echo $ECHO_N "checking png.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -9020,11 +9740,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -9037,7 +9766,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -9045,7 +9774,6 @@
 echo "$as_me:$LINENO: checking png.h presence" >&5
 echo $ECHO_N "checking png.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -9063,6 +9791,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -9082,33 +9811,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: png.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: png.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: png.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: png.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: png.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: png.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: png.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: png.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: png.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: png.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: png.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: png.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: png.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: png.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: png.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: png.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: png.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: png.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: png.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: png.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -9134,7 +9862,6 @@
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-lpng  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -9158,11 +9885,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -9175,7 +9911,8 @@
 
 ac_cv_lib_png_png_set_tRNS_to_alpha=no
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_png_png_set_tRNS_to_alpha" >&5
@@ -9210,7 +9947,6 @@
 echo "$as_me:$LINENO: checking tiff.h usability" >&5
 echo $ECHO_N "checking tiff.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -9221,11 +9957,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -9238,7 +9983,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -9246,7 +9991,6 @@
 echo "$as_me:$LINENO: checking tiff.h presence" >&5
 echo $ECHO_N "checking tiff.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -9264,6 +10008,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -9283,33 +10028,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: tiff.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: tiff.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: tiff.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: tiff.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: tiff.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: tiff.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: tiff.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: tiff.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: tiff.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: tiff.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: tiff.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: tiff.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: tiff.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: tiff.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: tiff.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: tiff.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: tiff.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: tiff.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: tiff.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: tiff.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -9335,7 +10079,6 @@
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-ltiff  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -9359,11 +10102,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -9376,7 +10128,8 @@
 
 ac_cv_lib_tiff_TIFFReadScanline=no
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_tiff_TIFFReadScanline" >&5
@@ -9422,7 +10175,6 @@
 echo "$as_me:$LINENO: checking stdlib.h usability" >&5
 echo $ECHO_N "checking stdlib.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -9433,11 +10185,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -9450,7 +10211,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -9458,7 +10219,6 @@
 echo "$as_me:$LINENO: checking stdlib.h presence" >&5
 echo $ECHO_N "checking stdlib.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -9476,6 +10236,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -9495,33 +10256,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: stdlib.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: stdlib.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: stdlib.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: stdlib.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: stdlib.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: stdlib.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: stdlib.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: stdlib.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: stdlib.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: stdlib.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: stdlib.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: stdlib.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: stdlib.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: stdlib.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: stdlib.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: stdlib.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: stdlib.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: stdlib.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: stdlib.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: stdlib.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -9557,7 +10317,6 @@
   ac_func_search_save_LIBS=$LIBS
 ac_cv_search_socket=no
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -9581,11 +10340,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -9597,12 +10365,12 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 if test "$ac_cv_search_socket" = no; then
   for ac_lib in socket; do
     LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
     cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -9626,11 +10394,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -9643,7 +10420,8 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
   done
 fi
 LIBS=$ac_func_search_save_LIBS
@@ -9663,7 +10441,6 @@
   ac_func_search_save_LIBS=$LIBS
 ac_cv_search_gethostbyaddr=no
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -9687,11 +10464,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -9703,12 +10489,12 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 if test "$ac_cv_search_gethostbyaddr" = no; then
   for ac_lib in nsl; do
     LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
     cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -9732,11 +10518,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -9749,7 +10544,8 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
   done
 fi
 LIBS=$ac_func_search_save_LIBS
@@ -9769,7 +10565,6 @@
   ac_func_search_save_LIBS=$LIBS
 ac_cv_search_getaddrinfo=no
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -9793,11 +10588,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -9809,12 +10613,12 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 if test "$ac_cv_search_getaddrinfo" = no; then
   for ac_lib in nsl; do
     LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
     cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -9838,11 +10642,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -9855,7 +10668,8 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
   done
 fi
 LIBS=$ac_func_search_save_LIBS
@@ -9878,7 +10692,6 @@
   ac_func_search_save_LIBS=$LIBS
 ac_cv_search_getifaddrs=no
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -9902,11 +10715,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -9918,12 +10740,12 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 if test "$ac_cv_search_getifaddrs" = no; then
   for ac_lib in nsl; do
     LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
     cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -9947,11 +10769,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -9964,7 +10795,8 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
   done
 fi
 LIBS=$ac_func_search_save_LIBS
@@ -9987,7 +10819,6 @@
   ac_func_search_save_LIBS=$LIBS
 ac_cv_search_getnameinfo=no
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -10011,11 +10842,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -10027,12 +10867,12 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 if test "$ac_cv_search_getnameinfo" = no; then
   for ac_lib in nsl; do
     LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
     cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -10056,11 +10896,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -10073,7 +10922,8 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
   done
 fi
 LIBS=$ac_func_search_save_LIBS
@@ -10096,7 +10946,6 @@
   ac_func_search_save_LIBS=$LIBS
 ac_cv_search_hstrerror=no
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -10120,11 +10969,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -10136,12 +10994,12 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 if test "$ac_cv_search_hstrerror" = no; then
   for ac_lib in nsl socket resolv; do
     LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
     cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -10165,11 +11023,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -10182,7 +11049,8 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
   done
 fi
 LIBS=$ac_func_search_save_LIBS
@@ -10205,7 +11073,6 @@
   ac_func_search_save_LIBS=$LIBS
 ac_cv_search_rresvport_af=no
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -10229,11 +11096,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -10245,12 +11121,12 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 if test "$ac_cv_search_rresvport_af" = no; then
   for ac_lib in nsl; do
     LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
     cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -10274,11 +11150,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -10291,7 +11176,8 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
   done
 fi
 LIBS=$ac_func_search_save_LIBS
@@ -10313,7 +11199,6 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -10333,11 +11218,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -10349,7 +11243,6 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -10369,11 +11262,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -10386,9 +11288,9 @@
 
 ac_cv_member_struct_sockaddr_sa_len=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
 echo "$as_me:$LINENO: result: $ac_cv_member_struct_sockaddr_sa_len" >&5
 echo "${ECHO_T}$ac_cv_member_struct_sockaddr_sa_len" >&6
@@ -10406,7 +11308,6 @@
 echo "$as_me:$LINENO: checking sys/sockio.h usability" >&5
 echo $ECHO_N "checking sys/sockio.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -10417,11 +11318,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -10434,7 +11344,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -10442,7 +11352,6 @@
 echo "$as_me:$LINENO: checking sys/sockio.h presence" >&5
 echo $ECHO_N "checking sys/sockio.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -10460,6 +11369,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -10479,33 +11389,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: sys/sockio.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: sys/sockio.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: sys/sockio.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: sys/sockio.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: sys/sockio.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: sys/sockio.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: sys/sockio.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: sys/sockio.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: sys/sockio.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: sys/sockio.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: sys/sockio.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: sys/sockio.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: sys/sockio.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: sys/sockio.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: sys/sockio.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: sys/sockio.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: sys/sockio.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: sys/sockio.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: sys/sockio.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: sys/sockio.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -10635,7 +11544,6 @@
 echo "$as_me:$LINENO: checking slp.h usability" >&5
 echo $ECHO_N "checking slp.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -10646,11 +11554,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -10663,7 +11580,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -10671,7 +11588,6 @@
 echo "$as_me:$LINENO: checking slp.h presence" >&5
 echo $ECHO_N "checking slp.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -10689,6 +11605,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -10708,33 +11625,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: slp.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: slp.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: slp.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: slp.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: slp.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: slp.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: slp.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: slp.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: slp.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: slp.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: slp.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: slp.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: slp.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: slp.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: slp.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: slp.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: slp.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: slp.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: slp.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: slp.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -10760,7 +11676,6 @@
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-lslp  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -10784,11 +11699,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -10801,7 +11725,8 @@
 
 ac_cv_lib_slp_SLPOpen=no
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_slp_SLPOpen" >&5
@@ -10861,7 +11786,6 @@
 echo "$as_me:$LINENO: checking ldap.h usability" >&5
 echo $ECHO_N "checking ldap.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -10872,11 +11796,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -10889,7 +11822,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -10897,7 +11830,6 @@
 echo "$as_me:$LINENO: checking ldap.h presence" >&5
 echo $ECHO_N "checking ldap.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -10915,6 +11847,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -10934,33 +11867,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: ldap.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: ldap.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: ldap.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: ldap.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: ldap.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: ldap.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: ldap.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: ldap.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: ldap.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: ldap.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: ldap.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: ldap.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: ldap.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: ldap.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: ldap.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: ldap.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: ldap.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: ldap.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: ldap.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: ldap.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -10986,7 +11918,6 @@
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-lldap  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -11010,11 +11941,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -11027,7 +11967,8 @@
 
 ac_cv_lib_ldap_ldap_value_free=no
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_ldap_ldap_value_free" >&5
@@ -11109,7 +12050,6 @@
 echo "$as_me:$LINENO: checking Security/SecureTransport.h usability" >&5
 echo $ECHO_N "checking Security/SecureTransport.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -11120,11 +12060,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -11137,7 +12086,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -11145,7 +12094,6 @@
 echo "$as_me:$LINENO: checking Security/SecureTransport.h presence" >&5
 echo $ECHO_N "checking Security/SecureTransport.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -11163,6 +12111,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -11182,33 +12131,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: Security/SecureTransport.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: Security/SecureTransport.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: Security/SecureTransport.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: Security/SecureTransport.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: Security/SecureTransport.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: Security/SecureTransport.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: Security/SecureTransport.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: Security/SecureTransport.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: Security/SecureTransport.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: Security/SecureTransport.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: Security/SecureTransport.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: Security/SecureTransport.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: Security/SecureTransport.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: Security/SecureTransport.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: Security/SecureTransport.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: Security/SecureTransport.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: Security/SecureTransport.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: Security/SecureTransport.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: Security/SecureTransport.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: Security/SecureTransport.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -11255,7 +12203,6 @@
 echo "$as_me:$LINENO: checking gnutls/gnutls.h usability" >&5
 echo $ECHO_N "checking gnutls/gnutls.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -11266,11 +12213,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -11283,7 +12239,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -11291,7 +12247,6 @@
 echo "$as_me:$LINENO: checking gnutls/gnutls.h presence" >&5
 echo $ECHO_N "checking gnutls/gnutls.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -11309,6 +12264,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -11328,33 +12284,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: gnutls/gnutls.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: gnutls/gnutls.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: gnutls/gnutls.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: gnutls/gnutls.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: gnutls/gnutls.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: gnutls/gnutls.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: gnutls/gnutls.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: gnutls/gnutls.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: gnutls/gnutls.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: gnutls/gnutls.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: gnutls/gnutls.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: gnutls/gnutls.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: gnutls/gnutls.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: gnutls/gnutls.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: gnutls/gnutls.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: gnutls/gnutls.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: gnutls/gnutls.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: gnutls/gnutls.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: gnutls/gnutls.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: gnutls/gnutls.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -11382,7 +12337,6 @@
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-lgnutls  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -11406,11 +12360,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -11423,7 +12386,8 @@
 
 ac_cv_lib_gnutls_gnutls_x509_crt_set_dn_by_oid=no
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_gnutls_gnutls_x509_crt_set_dn_by_oid" >&5
@@ -11461,7 +12425,6 @@
 echo "$as_me:$LINENO: checking openssl/ssl.h usability" >&5
 echo $ECHO_N "checking openssl/ssl.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -11472,11 +12435,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -11489,7 +12461,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -11497,7 +12469,6 @@
 echo "$as_me:$LINENO: checking openssl/ssl.h presence" >&5
 echo $ECHO_N "checking openssl/ssl.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -11515,6 +12486,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -11534,33 +12506,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: openssl/ssl.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: openssl/ssl.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: openssl/ssl.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: openssl/ssl.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: openssl/ssl.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: openssl/ssl.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: openssl/ssl.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: openssl/ssl.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: openssl/ssl.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: openssl/ssl.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: openssl/ssl.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: openssl/ssl.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: openssl/ssl.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: openssl/ssl.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: openssl/ssl.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: openssl/ssl.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: openssl/ssl.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: openssl/ssl.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: openssl/ssl.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: openssl/ssl.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -11594,7 +12565,6 @@
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-lssl $libcrypto $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -11618,11 +12588,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -11635,7 +12614,8 @@
 
 ac_cv_lib_ssl_SSL_new=no
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_ssl_SSL_new" >&5
@@ -11702,7 +12682,6 @@
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-ldl  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -11726,11 +12705,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -11743,7 +12731,8 @@
 
 ac_cv_lib_dl_dlopen=no
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_dl_dlopen" >&5
@@ -11766,7 +12755,6 @@
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-lpam  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -11790,11 +12778,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -11807,7 +12804,8 @@
 
 ac_cv_lib_pam_pam_start=no
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_pam_pam_start" >&5
@@ -11834,7 +12832,6 @@
 echo "$as_me:$LINENO: checking security/pam_appl.h usability" >&5
 echo $ECHO_N "checking security/pam_appl.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -11845,11 +12842,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -11862,7 +12868,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -11870,7 +12876,6 @@
 echo "$as_me:$LINENO: checking security/pam_appl.h presence" >&5
 echo $ECHO_N "checking security/pam_appl.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -11888,6 +12893,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -11907,33 +12913,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: security/pam_appl.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: security/pam_appl.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: security/pam_appl.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: security/pam_appl.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: security/pam_appl.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: security/pam_appl.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: security/pam_appl.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: security/pam_appl.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: security/pam_appl.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: security/pam_appl.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: security/pam_appl.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: security/pam_appl.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: security/pam_appl.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: security/pam_appl.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: security/pam_appl.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: security/pam_appl.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: security/pam_appl.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: security/pam_appl.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: security/pam_appl.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: security/pam_appl.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -11966,7 +12971,6 @@
 echo "$as_me:$LINENO: checking pam/pam_appl.h usability" >&5
 echo $ECHO_N "checking pam/pam_appl.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -11977,11 +12981,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -11994,7 +13007,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -12002,7 +13015,6 @@
 echo "$as_me:$LINENO: checking pam/pam_appl.h presence" >&5
 echo $ECHO_N "checking pam/pam_appl.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -12020,6 +13032,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -12039,33 +13052,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: pam/pam_appl.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: pam/pam_appl.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: pam/pam_appl.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: pam/pam_appl.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: pam/pam_appl.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: pam/pam_appl.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: pam/pam_appl.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: pam/pam_appl.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: pam/pam_appl.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: pam/pam_appl.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: pam/pam_appl.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: pam/pam_appl.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: pam/pam_appl.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: pam/pam_appl.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: pam/pam_appl.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: pam/pam_appl.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: pam/pam_appl.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: pam/pam_appl.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: pam/pam_appl.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: pam/pam_appl.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -12165,7 +13177,6 @@
 echo "$as_me:$LINENO: checking pthread.h usability" >&5
 echo $ECHO_N "checking pthread.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -12176,11 +13187,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -12193,7 +13213,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -12201,7 +13221,6 @@
 echo "$as_me:$LINENO: checking pthread.h presence" >&5
 echo $ECHO_N "checking pthread.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -12219,6 +13238,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -12238,33 +13258,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: pthread.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: pthread.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: pthread.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: pthread.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: pthread.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: pthread.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: pthread.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: pthread.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: pthread.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: pthread.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: pthread.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: pthread.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: pthread.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: pthread.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: pthread.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: pthread.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: pthread.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: pthread.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: pthread.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: pthread.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -12297,7 +13316,6 @@
 			SAVELIBS="$LIBS"
 			LIBS="$flag $LIBS"
         		cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -12314,11 +13332,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -12331,7 +13358,8 @@
 
 LIBS="$SAVELIBS"
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
         		echo "$as_me:$LINENO: result: $have_pthread" >&5
 echo "${ECHO_T}$have_pthread" >&6
 
@@ -12365,8 +13393,7 @@
        while :; do
      	 # IRIX 6.2 and later do not support large files by default,
      	 # so use the C compiler's -n32 option if that helps.
-         cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
+	 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -12391,11 +13418,20 @@
 _ACEOF
      	 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -12407,15 +13443,24 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext
+rm -f conftest.err conftest.$ac_objext
      	 CC="$CC -n32"
      	 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -12427,8 +13472,8 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext
-         break
+rm -f conftest.err conftest.$ac_objext
+	 break
        done
        CC=$ac_save_CC
        rm -f conftest.$ac_ext
@@ -12448,7 +13493,6 @@
   while :; do
   ac_cv_sys_file_offset_bits=no
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -12473,11 +13517,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -12489,9 +13542,8 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -12517,11 +13569,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -12533,7 +13594,7 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
   break
 done
 fi
@@ -12555,7 +13616,6 @@
   while :; do
   ac_cv_sys_large_files=no
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -12580,11 +13640,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -12596,9 +13665,8 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -12624,11 +13692,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -12640,7 +13717,7 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
   break
 done
 fi
@@ -12680,7 +13757,6 @@
 		ac_cv_c_long_long=yes
 	else
 		cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -12697,11 +13773,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -12714,7 +13799,7 @@
 
 ac_cv_c_long_long=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 	fi
 fi
 echo "$as_me:$LINENO: result: $ac_cv_c_long_long" >&5
@@ -12733,21 +13818,28 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+/* Define strtoll to an innocuous variant, in case <limits.h> declares strtoll.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define strtoll innocuous_strtoll
+
 /* System header to define __stub macros and hopefully few prototypes,
     which can conflict with char strtoll (); below.
     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
     <limits.h> exists even on freestanding compilers.  */
+
 #ifdef __STDC__
 # include <limits.h>
 #else
 # include <assert.h>
 #endif
+
+#undef strtoll
+
 /* Override any gcc2 internal prototype to avoid an error.  */
 #ifdef __cplusplus
 extern "C"
@@ -12778,11 +13870,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -12795,7 +13896,8 @@
 
 ac_cv_func_strtoll=no
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 fi
 echo "$as_me:$LINENO: result: $ac_cv_func_strtoll" >&5
 echo "${ECHO_T}$ac_cv_func_strtoll" >&6
@@ -12826,21 +13928,28 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+/* Define launch_msg to an innocuous variant, in case <limits.h> declares launch_msg.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define launch_msg innocuous_launch_msg
+
 /* System header to define __stub macros and hopefully few prototypes,
     which can conflict with char launch_msg (); below.
     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
     <limits.h> exists even on freestanding compilers.  */
+
 #ifdef __STDC__
 # include <limits.h>
 #else
 # include <assert.h>
 #endif
+
+#undef launch_msg
+
 /* Override any gcc2 internal prototype to avoid an error.  */
 #ifdef __cplusplus
 extern "C"
@@ -12871,11 +13980,20 @@
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+  (eval $ac_link) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -12888,7 +14006,8 @@
 
 ac_cv_func_launch_msg=no
 fi
-rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 fi
 echo "$as_me:$LINENO: result: $ac_cv_func_launch_msg" >&5
 echo "${ECHO_T}$ac_cv_func_launch_msg" >&6
@@ -12912,7 +14031,6 @@
 echo "$as_me:$LINENO: checking launch.h usability" >&5
 echo $ECHO_N "checking launch.h usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -12923,11 +14041,20 @@
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -12940,7 +14067,7 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
 echo "${ECHO_T}$ac_header_compiler" >&6
 
@@ -12948,7 +14075,6 @@
 echo "$as_me:$LINENO: checking launch.h presence" >&5
 echo $ECHO_N "checking launch.h presence... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
@@ -12966,6 +14092,7 @@
   (exit $ac_status); } >/dev/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
   else
     ac_cpp_err=
   fi
@@ -12985,33 +14112,32 @@
 echo "${ECHO_T}$ac_header_preproc" >&6
 
 # So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
     { echo "$as_me:$LINENO: WARNING: launch.h: accepted by the compiler, rejected by the preprocessor!" >&5
 echo "$as_me: WARNING: launch.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: launch.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: launch.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+    { echo "$as_me:$LINENO: WARNING: launch.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: launch.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
     ;;
-  no:yes )
+  no:yes:* )
     { echo "$as_me:$LINENO: WARNING: launch.h: present but cannot be compiled" >&5
 echo "$as_me: WARNING: launch.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: launch.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: launch.h: check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: launch.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: launch.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: launch.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: launch.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: launch.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: launch.h:     section \"Present But Cannot Be Compiled\"" >&2;}
     { echo "$as_me:$LINENO: WARNING: launch.h: proceeding with the preprocessor's result" >&5
 echo "$as_me: WARNING: launch.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: launch.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: launch.h: in the future, the compiler will take precedence" >&2;}
     (
       cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
+## ------------------------------------------ ##
+## Report this to the AC_PACKAGE_NAME lists.  ##
+## ------------------------------------------ ##
 _ASBOX
     ) |
       sed "s/^/$as_me: WARNING:     /" >&2
@@ -13371,7 +14497,7 @@
 
 
 
-                                                                                                                                                                                                        ac_config_files="$ac_config_files Makedefs packaging/cups.list init/cups.sh cups-config conf/cupsd.conf conf/pam.std doc/index.html doc/ja/index.html doc/help/standard.html man/client.conf.man man/cups-deviced.man man/cups-driverd.man man/cups-lpd.man man/cupsaddsmb.man man/cupsd.man man/cupsd.conf.man man/lpoptions.man templates/edit-config.tmpl templates/header.tmpl templates/ja/header.tmpl"
+                                                                                                                                                                                                                            ac_config_files="$ac_config_files Makedefs packaging/cups.list init/cups.sh cups-config conf/cupsd.conf conf/pam.std doc/index.html doc/es/index.html doc/ja/index.html doc/help/standard.html man/client.conf.man man/cups-deviced.man man/cups-driverd.man man/cups-lpd.man man/cupsaddsmb.man man/cupsd.man man/cupsd.conf.man man/lpoptions.man templates/edit-config.tmpl templates/header.tmpl templates/es/header.tmpl templates/ja/header.tmpl"
 cat >confcache <<\_ACEOF
 # This file is a shell script that caches the results of configure
 # tests run on this system so they can be shared between configure
@@ -13400,13 +14526,13 @@
       # `set' does not quote correctly, so add quotes (double-quote
       # substitution turns \\\\ into \\, and sed turns \\ into \).
       sed -n \
-        "s/'/'\\\\''/g;
-    	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
+	"s/'/'\\\\''/g;
+	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
       ;;
     *)
       # `set' quotes correctly as required by POSIX, so do not add quotes.
       sed -n \
-        "s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
+	"s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
       ;;
     esac;
 } |
@@ -13436,13 +14562,13 @@
 # trailing colons and then remove the whole line if VPATH becomes empty
 # (actually we leave an empty line to preserve line numbers).
 if test "x$srcdir" = x.; then
-  ac_vpsub='/^[ 	]*VPATH[ 	]*=/{
+  ac_vpsub='/^[	 ]*VPATH[	 ]*=/{
 s/:*\$(srcdir):*/:/;
 s/:*\${srcdir}:*/:/;
 s/:*@srcdir@:*/:/;
-s/^\([^=]*=[ 	]*\):*/\1/;
+s/^\([^=]*=[	 ]*\):*/\1/;
 s/:*$//;
-s/^[^=]*=[ 	]*$//;
+s/^[^=]*=[	 ]*$//;
 }'
 fi
 
@@ -13453,7 +14579,7 @@
 for ac_i in : $LIBOBJS; do test "x$ac_i" = x: && continue
   # 1. Remove the extension, and $U if already installed.
   ac_i=`echo "$ac_i" |
-         sed 's/\$U\././;s/\.o$//;s/\.obj$//'`
+	 sed 's/\$U\././;s/\.o$//;s/\.obj$//'`
   # 2. Add them.
   ac_libobjs="$ac_libobjs $ac_i\$U.$ac_objext"
   ac_ltlibobjs="$ac_ltlibobjs $ac_i"'$U.lo'
@@ -13497,9 +14623,10 @@
 elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
   set -o posix
 fi
+DUALCASE=1; export DUALCASE # for MKS sh
 
 # Support unset when possible.
-if (FOO=FOO; unset FOO) >/dev/null 2>&1; then
+if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
   as_unset=unset
 else
   as_unset=false
@@ -13518,7 +14645,7 @@
   LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
   LC_TELEPHONE LC_TIME
 do
-  if (set +x; test -n "`(eval $as_var=C; export $as_var) 2>&1`"); then
+  if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
     eval $as_var=C; export $as_var
   else
     $as_unset $as_var
@@ -13697,16 +14824,17 @@
 if mkdir -p . 2>/dev/null; then
   as_mkdir_p=:
 else
+  test -d ./-p && rmdir ./-p
   as_mkdir_p=false
 fi
 
 as_executable_p="test -f"
 
 # Sed expression to map a string onto a valid CPP name.
-as_tr_cpp="sed y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g"
+as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
 
 # Sed expression to map a string onto a valid variable name.
-as_tr_sh="sed y%*+%pp%;s%[^_$as_cr_alnum]%_%g"
+as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
 
 
 # IFS
@@ -13733,7 +14861,7 @@
 cat >&5 <<_CSEOF
 
 This file was extended by $as_me, which was
-generated by GNU Autoconf 2.57.  Invocation command line was
+generated by GNU Autoconf 2.59.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
@@ -13777,9 +14905,9 @@
   -d, --debug      don't remove temporary files
       --recheck    update $as_me by reconfiguring in the same conditions
   --file=FILE[:TEMPLATE]
-                   instantiate the configuration file FILE
+		   instantiate the configuration file FILE
   --header=FILE[:TEMPLATE]
-                   instantiate the configuration header FILE
+		   instantiate the configuration header FILE
 
 Configuration files:
 $config_files
@@ -13793,11 +14921,10 @@
 cat >>$CONFIG_STATUS <<_ACEOF
 ac_cs_version="\\
 config.status
-configured by $0, generated by GNU Autoconf 2.57,
+configured by $0, generated by GNU Autoconf 2.59,
   with options \\"`echo "$ac_configure_args" | sed 's/[\\""\`\$]/\\\\&/g'`\\"
 
-Copyright 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001
-Free Software Foundation, Inc.
+Copyright (C) 2003 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
 srcdir=$srcdir
@@ -13903,6 +15030,7 @@
   "conf/cupsd.conf" ) CONFIG_FILES="$CONFIG_FILES conf/cupsd.conf" ;;
   "conf/pam.std" ) CONFIG_FILES="$CONFIG_FILES conf/pam.std" ;;
   "doc/index.html" ) CONFIG_FILES="$CONFIG_FILES doc/index.html" ;;
+  "doc/es/index.html" ) CONFIG_FILES="$CONFIG_FILES doc/es/index.html" ;;
   "doc/ja/index.html" ) CONFIG_FILES="$CONFIG_FILES doc/ja/index.html" ;;
   "doc/help/standard.html" ) CONFIG_FILES="$CONFIG_FILES doc/help/standard.html" ;;
   "man/client.conf.man" ) CONFIG_FILES="$CONFIG_FILES man/client.conf.man" ;;
@@ -13915,6 +15043,7 @@
   "man/lpoptions.man" ) CONFIG_FILES="$CONFIG_FILES man/lpoptions.man" ;;
   "templates/edit-config.tmpl" ) CONFIG_FILES="$CONFIG_FILES templates/edit-config.tmpl" ;;
   "templates/header.tmpl" ) CONFIG_FILES="$CONFIG_FILES templates/header.tmpl" ;;
+  "templates/es/header.tmpl" ) CONFIG_FILES="$CONFIG_FILES templates/es/header.tmpl" ;;
   "templates/ja/header.tmpl" ) CONFIG_FILES="$CONFIG_FILES templates/ja/header.tmpl" ;;
   "config.h" ) CONFIG_HEADERS="$CONFIG_HEADERS config.h" ;;
   *) { { echo "$as_me:$LINENO: error: invalid argument: $ac_config_target" >&5
@@ -14026,6 +15155,7 @@
 s,@LN@,$LN,;t t
 s,@MV@,$MV,;t t
 s,@RM@,$RM,;t t
+s,@RMDIR@,$RMDIR,;t t
 s,@SED@,$SED,;t t
 s,@STRIP@,$STRIP,;t t
 s,@INSTALLSTATIC@,$INSTALLSTATIC,;t t
@@ -14081,14 +15211,15 @@
 s,@IMGLIBS@,$IMGLIBS,;t t
 s,@EXPORT_LDFLAGS@,$EXPORT_LDFLAGS,;t t
 s,@LIBTOOL@,$LIBTOOL,;t t
+s,@ARCHFLAGS@,$ARCHFLAGS,;t t
 s,@OPTIM@,$OPTIM,;t t
-s,@C32FLAGS@,$C32FLAGS,;t t
+s,@ARCH32FLAGS@,$ARCH32FLAGS,;t t
 s,@INSTALL32@,$INSTALL32,;t t
 s,@LIB32CUPS@,$LIB32CUPS,;t t
 s,@LIB32CUPSIMAGE@,$LIB32CUPSIMAGE,;t t
 s,@LIB32DIR@,$LIB32DIR,;t t
 s,@UNINSTALL32@,$UNINSTALL32,;t t
-s,@C64FLAGS@,$C64FLAGS,;t t
+s,@ARCH64FLAGS@,$ARCH64FLAGS,;t t
 s,@INSTALL64@,$INSTALL64,;t t
 s,@LIB64CUPS@,$LIB64CUPS,;t t
 s,@LIB64CUPSIMAGE@,$LIB64CUPSIMAGE,;t t
@@ -14156,9 +15287,9 @@
       (echo ':t
   /@[a-zA-Z_][a-zA-Z_0-9]*@/!b' && cat $tmp/subs.frag) >$tmp/subs-$ac_sed_frag.sed
       if test -z "$ac_sed_cmds"; then
-  	ac_sed_cmds="sed -f $tmp/subs-$ac_sed_frag.sed"
+	ac_sed_cmds="sed -f $tmp/subs-$ac_sed_frag.sed"
       else
-  	ac_sed_cmds="$ac_sed_cmds | sed -f $tmp/subs-$ac_sed_frag.sed"
+	ac_sed_cmds="$ac_sed_cmds | sed -f $tmp/subs-$ac_sed_frag.sed"
       fi
       ac_sed_frag=`expr $ac_sed_frag + 1`
       ac_beg=$ac_end
@@ -14176,21 +15307,21 @@
   # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
   case $ac_file in
   - | *:- | *:-:* ) # input from stdin
-        cat >$tmp/stdin
-        ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
-        ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
+	cat >$tmp/stdin
+	ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
+	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
   *:* ) ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
-        ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
+	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
   * )   ac_file_in=$ac_file.in ;;
   esac
 
   # Compute @srcdir@, @top_srcdir@, and @INSTALL@ for subdirectories.
   ac_dir=`(dirname "$ac_file") 2>/dev/null ||
 $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-         X"$ac_file" : 'X\(//\)[^/]' \| \
-         X"$ac_file" : 'X\(//\)$' \| \
-         X"$ac_file" : 'X\(/\)' \| \
-         .     : '\(.\)' 2>/dev/null ||
+	 X"$ac_file" : 'X\(//\)[^/]' \| \
+	 X"$ac_file" : 'X\(//\)$' \| \
+	 X"$ac_file" : 'X\(/\)' \| \
+	 .     : '\(.\)' 2>/dev/null ||
 echo X"$ac_file" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -14206,10 +15337,10 @@
       as_dirs="$as_dir $as_dirs"
       as_dir=`(dirname "$as_dir") 2>/dev/null ||
 $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-         X"$as_dir" : 'X\(//\)[^/]' \| \
-         X"$as_dir" : 'X\(//\)$' \| \
-         X"$as_dir" : 'X\(/\)' \| \
-         .     : '\(.\)' 2>/dev/null ||
+	 X"$as_dir" : 'X\(//\)[^/]' \| \
+	 X"$as_dir" : 'X\(//\)$' \| \
+	 X"$as_dir" : 'X\(/\)' \| \
+	 .     : '\(.\)' 2>/dev/null ||
 echo X"$as_dir" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -14247,12 +15378,45 @@
     ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
     ac_top_srcdir=$ac_top_builddir$srcdir ;;
 esac
-# Don't blindly perform a `cd "$ac_dir"/$ac_foo && pwd` since $ac_foo can be
-# absolute.
-ac_abs_builddir=`cd "$ac_dir" && cd $ac_builddir && pwd`
-ac_abs_top_builddir=`cd "$ac_dir" && cd ${ac_top_builddir}. && pwd`
-ac_abs_srcdir=`cd "$ac_dir" && cd $ac_srcdir && pwd`
-ac_abs_top_srcdir=`cd "$ac_dir" && cd $ac_top_srcdir && pwd`
+
+# Do not use `cd foo && pwd` to compute absolute paths, because
+# the directories may not exist.
+case `pwd` in
+.) ac_abs_builddir="$ac_dir";;
+*)
+  case "$ac_dir" in
+  .) ac_abs_builddir=`pwd`;;
+  [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
+  *) ac_abs_builddir=`pwd`/"$ac_dir";;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_top_builddir=${ac_top_builddir}.;;
+*)
+  case ${ac_top_builddir}. in
+  .) ac_abs_top_builddir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
+  *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_srcdir=$ac_srcdir;;
+*)
+  case $ac_srcdir in
+  .) ac_abs_srcdir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
+  *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_top_srcdir=$ac_top_srcdir;;
+*)
+  case $ac_top_srcdir in
+  .) ac_abs_top_srcdir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
+  *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
+  esac;;
+esac
 
 
   case $INSTALL in
@@ -14260,11 +15424,6 @@
   *) ac_INSTALL=$ac_top_builddir$INSTALL ;;
   esac
 
-  if test x"$ac_file" != x-; then
-    { echo "$as_me:$LINENO: creating $ac_file" >&5
-echo "$as_me: creating $ac_file" >&6;}
-    rm -f "$ac_file"
-  fi
   # Let's still pretend it is `configure' which instantiates (i.e., don't
   # use $as_me), people would be surprised to read:
   #    /* config.h.  Generated by config.status.  */
@@ -14274,7 +15433,7 @@
     configure_input="$ac_file.  "
   fi
   configure_input=$configure_input"Generated from `echo $ac_file_in |
-                                     sed 's,.*/,,'` by configure."
+				     sed 's,.*/,,'` by configure."
 
   # First look for the input files in the build tree, otherwise in the
   # src tree.
@@ -14283,26 +15442,32 @@
       case $f in
       -) echo $tmp/stdin ;;
       [\\/$]*)
-         # Absolute (can't be DOS-style, as IFS=:)
-         test -f "$f" || { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
+	 # Absolute (can't be DOS-style, as IFS=:)
+	 test -f "$f" || { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
-         echo $f;;
+	 echo "$f";;
       *) # Relative
-         if test -f "$f"; then
-           # Build tree
-           echo $f
-         elif test -f "$srcdir/$f"; then
-           # Source tree
-           echo $srcdir/$f
-         else
-           # /dev/null tree
-           { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
+	 if test -f "$f"; then
+	   # Build tree
+	   echo "$f"
+	 elif test -f "$srcdir/$f"; then
+	   # Source tree
+	   echo "$srcdir/$f"
+	 else
+	   # /dev/null tree
+	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
-         fi;;
+	 fi;;
       esac
     done` || { (exit 1); exit 1; }
+
+  if test x"$ac_file" != x-; then
+    { echo "$as_me:$LINENO: creating $ac_file" >&5
+echo "$as_me: creating $ac_file" >&6;}
+    rm -f "$ac_file"
+  fi
 _ACEOF
 cat >>$CONFIG_STATUS <<_ACEOF
   sed "$ac_vpsub
@@ -14342,12 +15507,12 @@
 # NAME is the cpp macro being defined and VALUE is the value it is being given.
 #
 # ac_d sets the value in "#define NAME VALUE" lines.
-ac_dA='s,^\([ 	]*\)#\([ 	]*define[ 	][ 	]*\)'
-ac_dB='[ 	].*$,\1#\2'
+ac_dA='s,^\([	 ]*\)#\([	 ]*define[	 ][	 ]*\)'
+ac_dB='[	 ].*$,\1#\2'
 ac_dC=' '
 ac_dD=',;t'
 # ac_u turns "#undef NAME" without trailing blanks into "#define NAME VALUE".
-ac_uA='s,^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
+ac_uA='s,^\([	 ]*\)#\([	 ]*\)undef\([	 ][	 ]*\)'
 ac_uB='$,\1#\2define\3'
 ac_uC=' '
 ac_uD=',;t'
@@ -14356,11 +15521,11 @@
   # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
   case $ac_file in
   - | *:- | *:-:* ) # input from stdin
-        cat >$tmp/stdin
-        ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
-        ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
+	cat >$tmp/stdin
+	ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
+	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
   *:* ) ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
-        ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
+	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
   * )   ac_file_in=$ac_file.in ;;
   esac
 
@@ -14374,28 +15539,29 @@
       case $f in
       -) echo $tmp/stdin ;;
       [\\/$]*)
-         # Absolute (can't be DOS-style, as IFS=:)
-         test -f "$f" || { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
+	 # Absolute (can't be DOS-style, as IFS=:)
+	 test -f "$f" || { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
-         echo $f;;
+	 # Do quote $f, to prevent DOS paths from being IFS'd.
+	 echo "$f";;
       *) # Relative
-         if test -f "$f"; then
-           # Build tree
-           echo $f
-         elif test -f "$srcdir/$f"; then
-           # Source tree
-           echo $srcdir/$f
-         else
-           # /dev/null tree
-           { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
+	 if test -f "$f"; then
+	   # Build tree
+	   echo "$f"
+	 elif test -f "$srcdir/$f"; then
+	   # Source tree
+	   echo "$srcdir/$f"
+	 else
+	   # /dev/null tree
+	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
-         fi;;
+	 fi;;
       esac
     done` || { (exit 1); exit 1; }
   # Remove the trailing spaces.
-  sed 's/[ 	]*$//' $ac_file_inputs >$tmp/in
+  sed 's/[	 ]*$//' $ac_file_inputs >$tmp/in
 
 _ACEOF
 
@@ -14418,9 +15584,9 @@
 s,[\\$`],\\&,g
 t clear
 : clear
-s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	(][^ 	(]*\)\(([^)]*)\)[ 	]*\(.*\)$,${ac_dA}\1${ac_dB}\1\2${ac_dC}\3${ac_dD},gp
+s,^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 (][^	 (]*\)\(([^)]*)\)[	 ]*\(.*\)$,${ac_dA}\1${ac_dB}\1\2${ac_dC}\3${ac_dD},gp
 t end
-s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	][^ 	]*\)[ 	]*\(.*\)$,${ac_dA}\1${ac_dB}\1${ac_dC}\2${ac_dD},gp
+s,^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 ][^	 ]*\)[	 ]*\(.*\)$,${ac_dA}\1${ac_dB}\1${ac_dC}\2${ac_dD},gp
 : end
 _ACEOF
 # If some macros were called several times there might be several times
@@ -14434,13 +15600,13 @@
 # example, in the case of _POSIX_SOURCE, which is predefined and required
 # on some systems where configure will not decide to define it.
 cat >>conftest.undefs <<\_ACEOF
-s,^[ 	]*#[ 	]*undef[ 	][ 	]*[a-zA-Z_][a-zA-Z_0-9]*,/* & */,
+s,^[	 ]*#[	 ]*undef[	 ][	 ]*[a-zA-Z_][a-zA-Z_0-9]*,/* & */,
 _ACEOF
 
 # Break up conftest.defines because some shells have a limit on the size
 # of here documents, and old seds have small limits too (100 cmds).
 echo '  # Handle all the #define templates only if necessary.' >>$CONFIG_STATUS
-echo '  if grep "^[ 	]*#[ 	]*define" $tmp/in >/dev/null; then' >>$CONFIG_STATUS
+echo '  if grep "^[	 ]*#[	 ]*define" $tmp/in >/dev/null; then' >>$CONFIG_STATUS
 echo '  # If there are no defines, we may have an empty if/fi' >>$CONFIG_STATUS
 echo '  :' >>$CONFIG_STATUS
 rm -f conftest.tail
@@ -14449,7 +15615,7 @@
   # Write a limited-size here document to $tmp/defines.sed.
   echo '  cat >$tmp/defines.sed <<CEOF' >>$CONFIG_STATUS
   # Speed up: don't consider the non `#define' lines.
-  echo '/^[ 	]*#[ 	]*define/!b' >>$CONFIG_STATUS
+  echo '/^[	 ]*#[	 ]*define/!b' >>$CONFIG_STATUS
   # Work around the forget-to-reset-the-flag bug.
   echo 't clr' >>$CONFIG_STATUS
   echo ': clr' >>$CONFIG_STATUS
@@ -14476,7 +15642,7 @@
   # Write a limited-size here document to $tmp/undefs.sed.
   echo '  cat >$tmp/undefs.sed <<CEOF' >>$CONFIG_STATUS
   # Speed up: don't consider the non `#undef'
-  echo '/^[ 	]*#[ 	]*undef/!b' >>$CONFIG_STATUS
+  echo '/^[	 ]*#[	 ]*undef/!b' >>$CONFIG_STATUS
   # Work around the forget-to-reset-the-flag bug.
   echo 't clr' >>$CONFIG_STATUS
   echo ': clr' >>$CONFIG_STATUS
@@ -14510,10 +15676,10 @@
     else
       ac_dir=`(dirname "$ac_file") 2>/dev/null ||
 $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-         X"$ac_file" : 'X\(//\)[^/]' \| \
-         X"$ac_file" : 'X\(//\)$' \| \
-         X"$ac_file" : 'X\(/\)' \| \
-         .     : '\(.\)' 2>/dev/null ||
+	 X"$ac_file" : 'X\(//\)[^/]' \| \
+	 X"$ac_file" : 'X\(//\)$' \| \
+	 X"$ac_file" : 'X\(/\)' \| \
+	 .     : '\(.\)' 2>/dev/null ||
 echo X"$ac_file" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -14529,10 +15695,10 @@
       as_dirs="$as_dir $as_dirs"
       as_dir=`(dirname "$as_dir") 2>/dev/null ||
 $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-         X"$as_dir" : 'X\(//\)[^/]' \| \
-         X"$as_dir" : 'X\(//\)$' \| \
-         X"$as_dir" : 'X\(/\)' \| \
-         .     : '\(.\)' 2>/dev/null ||
+	 X"$as_dir" : 'X\(//\)[^/]' \| \
+	 X"$as_dir" : 'X\(//\)$' \| \
+	 X"$as_dir" : 'X\(/\)' \| \
+	 .     : '\(.\)' 2>/dev/null ||
 echo X"$as_dir" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
diff -urNad cupsys-1.1.99.b2~/configure.in cupsys-1.1.99.b2/configure.in
--- cupsys-1.1.99.b2~/configure.in	2006-02-26 04:10:27.000000000 +0000
+++ cupsys-1.1.99.b2/configure.in	2006-03-15 11:04:22.000000000 +0000
@@ -50,12 +50,14 @@
 sinclude(config-scripts/cups-scripting.m4)
 
 AC_OUTPUT(Makedefs packaging/cups.list init/cups.sh cups-config
-          conf/cupsd.conf conf/pam.std doc/index.html doc/ja/index.html
-	  doc/help/standard.html man/client.conf.man man/cups-deviced.man
-	  man/cups-driverd.man man/cups-lpd.man man/cupsaddsmb.man
-	  man/cupsd.man man/cupsd.conf.man man/lpoptions.man
+	  conf/cupsd.conf conf/pam.std doc/index.html
+	  doc/es/index.html doc/ja/index.html
+	  doc/help/standard.html man/client.conf.man
+	  man/cups-deviced.man man/cups-driverd.man
+	  man/cups-lpd.man man/cupsaddsmb.man man/cupsd.man
+	  man/cupsd.conf.man man/lpoptions.man
 	  templates/edit-config.tmpl templates/header.tmpl
-	  templates/ja/header.tmpl)
+	  templates/es/header.tmpl templates/ja/header.tmpl)
 
 chmod +x cups-config
 
diff -urNad cupsys-1.1.99.b2~/cups/Makefile cupsys-1.1.99.b2/cups/Makefile
--- cupsys-1.1.99.b2~/cups/Makefile	2006-03-10 04:42:19.000000000 +0000
+++ cupsys-1.1.99.b2/cups/Makefile	2006-03-15 11:04:22.000000000 +0000
@@ -232,7 +232,7 @@
 
 libcups.so.2 libcups.sl.2:	$(LIBOBJS)
 	echo Linking $@...
-	$(DSO) $(DSOFLAGS) -o $@ $(LIBOBJS) $(SSLLIBS) $(COMMONLIBS) $(LIBZ)
+	$(DSO) $(ARCHFLAGS) $(DSOFLAGS) -o $@ $(LIBOBJS) $(SSLLIBS) $(COMMONLIBS) $(LIBZ)
 	$(RM) `basename $@ .2`
 	$(LN) $@ `basename $@ .2`
 
@@ -243,7 +243,7 @@
 
 libcups.32.so.2:	$(LIB32OBJS)
 	echo Linking 32-bit $@...
-	$(DSO) $(C32FLAGS) $(DSOFLAGS) -o $@ $(LIB32OBJS) $(SSLLIBS) $(COMMONLIBS) $(LIBZ)
+	$(DSO) $(ARCH32FLAGS) $(DSOFLAGS) -o $@ $(LIB32OBJS) $(SSLLIBS) $(COMMONLIBS) $(LIBZ)
 
 
 #
@@ -252,7 +252,7 @@
 
 libcups.64.so.2:	$(LIB64OBJS)
 	echo Linking 64-bit $@...
-	$(DSO) $(C64FLAGS) $(DSOFLAGS) -o $@ $(LIB64OBJS) $(SSLLIBS) $(COMMONLIBS) $(LIBZ)
+	$(DSO) $(ARCH64FLAGS) $(DSOFLAGS) -o $@ $(LIB64OBJS) $(SSLLIBS) $(COMMONLIBS) $(LIBZ)
 
 
 #
@@ -261,7 +261,7 @@
 
 libcups.2.dylib:	$(LIBOBJS)
 	echo Linking $@...
-	$(DSO) $(DSOFLAGS) -o $@ \
+	$(DSO) $(ARCHFLAGS) $(DSOFLAGS) -o $@ \
 		-install_name $(libdir)/$@ \
 		-current_version 2.7.0 \
 		-compatibility_version 2.0.0 \
@@ -287,7 +287,7 @@
 
 libcups.la:    $(LIBOBJS)
 	echo Linking $@...
-	$(CC) $(DSOFLAGS) -o $@ $(LIBOBJS:.o=.lo) -rpath $(LIBDIR) \
+	$(CC) $(ARCHFLAGS) $(DSOFLAGS) -o $@ $(LIBOBJS:.o=.lo) -rpath $(LIBDIR) \
 		-version-info 2:7 $(SSLLIBS) $(COMMONLIBS) $(LIBZ)
 
 
diff -urNad cupsys-1.1.99.b2~/cups/adminutil.c cupsys-1.1.99.b2/cups/adminutil.c
--- cupsys-1.1.99.b2~/cups/adminutil.c	2006-03-08 18:34:07.000000000 +0000
+++ cupsys-1.1.99.b2/cups/adminutil.c	2006-03-15 11:04:22.000000000 +0000
@@ -168,7 +168,7 @@
   * Create a temporary output file using the destination buffer...
   */
 
-  if ((dstfp = cupsTempFile2(buffer, bufsize)) < 0)
+  if ((dstfp = cupsTempFile2(buffer, bufsize)) == NULL)
   {
     cupsFileClose(srcfp);
 
diff -urNad cupsys-1.1.99.b2~/cups/http.c cupsys-1.1.99.b2/cups/http.c
--- cupsys-1.1.99.b2~/cups/http.c	2006-03-10 01:15:19.000000000 +0000
+++ cupsys-1.1.99.b2/cups/http.c	2006-03-15 11:04:22.000000000 +0000
@@ -1692,6 +1692,7 @@
 	case HTTP_PUT :
 	    http->state ++;
 	case HTTP_POST_SEND :
+	case HTTP_HEAD :
 	    break;
 
 	default :
diff -urNad cupsys-1.1.99.b2~/cups/ppd.c cupsys-1.1.99.b2/cups/ppd.c
--- cupsys-1.1.99.b2~/cups/ppd.c	2006-03-15 11:03:50.000000000 +0000
+++ cupsys-1.1.99.b2/cups/ppd.c	2006-03-15 11:04:22.000000000 +0000
@@ -54,6 +54,8 @@
  *   ppd_free_option()      - Free a single option.
  *   ppd_get_coption()      - Get a custom option record.
  *   ppd_get_cparam()       - Get a custom parameter record.
+ *   ppd_get_encoding()     - Get the CUPS encoding value for the given
+ *                            LanguageEncoding.
  *   ppd_get_group()        - Find or create the named group as needed.
  *   ppd_get_option()       - Find or create the named option as needed.
  *   ppd_read()             - Read a line from a PPD file, skipping comment
@@ -110,8 +112,10 @@
 static ppd_cparam_t	*ppd_get_cparam(ppd_coption_t *opt,
 			                const char *param,
 					const char *text);
+static cups_encoding_t	ppd_get_encoding(const char *name);
 static ppd_group_t	*ppd_get_group(ppd_file_t *ppd, const char *name,
-			               const char *text, _cups_globals_t *cg);
+			               const char *text, _cups_globals_t *cg,
+				       cups_encoding_t encoding);
 static ppd_option_t	*ppd_get_option(ppd_group_t *group, const char *name);
 static int		ppd_read(cups_file_t *fp, char *keyword, char *option,
 			         char *text, char **string, int ignoreblank,
@@ -421,6 +425,7 @@
   cups_lang_t		*language;	/* Default language */
   struct lconv		*loc;		/* Locale data */
   int			ui_keyword;	/* Is this line a UI keyword? */
+  cups_encoding_t	encoding;	/* Encoding of PPD file */
   _cups_globals_t	*cg = _cupsGlobals();
 					/* Global data */
   static const char * const ui_keywords[] =
@@ -565,6 +570,7 @@
   option     = NULL;
   choice     = NULL;
   ui_keyword = 0;
+  encoding   = CUPS_ISO8859_1;
 
   while ((mask = ppd_read(fp, keyword, name, text, &string, 1, cg)) != 0)
   {
@@ -643,7 +649,8 @@
 
         if (!group)
 	{
-          if ((group = ppd_get_group(ppd, "General", _("General"), cg)) == NULL)
+          if ((group = ppd_get_group(ppd, "General", _("General"), cg,
+	                             encoding)) == NULL)
 	    goto error;
 
           DEBUG_printf(("Adding to group %s...\n", group->text));
@@ -706,7 +713,14 @@
     if (!strcmp(keyword, "LanguageLevel"))
       ppd->language_level = atoi(string);
     else if (!strcmp(keyword, "LanguageEncoding"))
-      ppd->lang_encoding = string;
+    {
+     /*
+      * Say all PPD files are UTF-8, since we convert to UTF-8...
+      */
+
+      ppd->lang_encoding = strdup("UTF-8");
+      encoding           = ppd_get_encoding(string);
+    }
     else if (!strcmp(keyword, "LanguageVersion"))
       ppd->lang_version = string;
     else if (!strcmp(keyword, "Manufacturer"))
@@ -718,7 +732,18 @@
     else if (!strcmp(keyword, "PCFileName"))
       ppd->pcfilename = string;
     else if (!strcmp(keyword, "NickName"))
-      ppd->nickname = string;
+    {
+      if (encoding != CUPS_UTF8)
+      {
+        cups_utf8_t	utf8[256];	/* UTF-8 version of NickName */
+
+
+        cupsCharsetToUTF8(utf8, string, sizeof(utf8), encoding);
+	ppd->nickname = strdup((char *)utf8);
+      }
+      else
+        ppd->nickname = string;
+    }
     else if (!strcmp(keyword, "Product"))
       ppd->product = string;
     else if (!strcmp(keyword, "ShortNickName"))
@@ -967,7 +992,8 @@
 
         DEBUG_printf(("%s option not found for %s...\n", keyword + 6, keyword));
 
-	if ((gtemp = ppd_get_group(ppd, "General", _("General"), cg)) == NULL)
+	if ((gtemp = ppd_get_group(ppd, "General", _("General"), cg,
+	                           encoding)) == NULL)
 	{
 	  DEBUG_puts("Unable to get general group!");
 
@@ -1132,7 +1158,8 @@
         option = ppd_get_option(subgroup, name);
       else if (group == NULL)
       {
-	if ((group = ppd_get_group(ppd, "General", _("General"), cg)) == NULL)
+	if ((group = ppd_get_group(ppd, "General", _("General"), cg,
+	                           encoding)) == NULL)
 	  goto error;
 
         DEBUG_printf(("Adding to group %s...\n", group->text));
@@ -1181,7 +1208,8 @@
 	}
 
       if (text[0])
-        strlcpy(option->text, text, sizeof(option->text));
+        cupsCharsetToUTF8((cups_utf8_t *)option->text, text,
+	                   sizeof(option->text), encoding);
       else
       {
         if (!strcmp(name, "PageSize"))
@@ -1220,7 +1248,7 @@
       * Find the JCL group, and add if needed...
       */
 
-      group = ppd_get_group(ppd, "JCL", _("JCL"), cg);
+      group = ppd_get_group(ppd, "JCL", _("JCL"), cg, encoding);
 
       if (group == NULL)
 	goto error;
@@ -1270,7 +1298,11 @@
 	  break;
 	}
 
-      strlcpy(option->text, text, sizeof(option->text));
+      if (text[0])
+        cupsCharsetToUTF8((cups_utf8_t *)option->text, text,
+	                   sizeof(option->text), encoding);
+      else
+        strlcpy(option->text, name, sizeof(option->text));
 
       option->section = PPD_ORDER_JCL;
       group = NULL;
@@ -1324,7 +1356,7 @@
       * Find/add the group...
       */
 
-      group = ppd_get_group(ppd, string, sptr, cg);
+      group = ppd_get_group(ppd, string, sptr, cg, encoding);
 
       if (group == NULL)
 	goto error;
@@ -1613,8 +1645,9 @@
 
       choice = ppd_add_choice(option, name);
 
-      if (mask & PPD_TEXT)
-        strlcpy(choice->text, text, sizeof(choice->text));
+      if (text[0])
+        cupsCharsetToUTF8((cups_utf8_t *)choice->text, text,
+	                   sizeof(choice->text), encoding);
       else if (!strcmp(name, "True"))
         strcpy(choice->text, _("Yes"));
       else if (!strcmp(name, "False"))
@@ -2219,14 +2252,40 @@
 
 
 /*
+ * 'ppd_get_encoding()' - Get the CUPS encoding value for the given
+ *                        LanguageEncoding.
+ */
+
+static cups_encoding_t			/* O - CUPS encoding value */
+ppd_get_encoding(const char *name)	/* I - LanguageEncoding string */
+{
+  if (!strcasecmp(name, "ISOLatin1"))
+    return (CUPS_ISO8859_1);
+  else if (!strcasecmp(name, "ISOLatin2"))
+    return (CUPS_ISO8859_2);
+  else if (!strcasecmp(name, "ISOLatin5"))
+    return (CUPS_ISO8859_5);
+  else if (!strcasecmp(name, "JIS83-RKSJ"))
+    return (CUPS_WINDOWS_932);
+  else if (!strcasecmp(name, "MacStandard"))
+    return (CUPS_MAC_ROMAN);
+  else if (!strcasecmp(name, "WindowsANSI"))
+    return (CUPS_WINDOWS_1252);
+  else
+    return (CUPS_UTF8);
+}
+
+
+/*
  * 'ppd_get_group()' - Find or create the named group as needed.
  */
 
 static ppd_group_t *			/* O - Named group */
-ppd_get_group(ppd_file_t     *ppd,	/* I - PPD file */
-              const char     *name,	/* I - Name of group */
-	      const char     *text,	/* I - Text for group */
-              _cups_globals_t *cg)	/* I - Global data */
+ppd_get_group(ppd_file_t      *ppd,	/* I - PPD file */
+              const char      *name,	/* I - Name of group */
+	      const char      *text,	/* I - Text for group */
+              _cups_globals_t *cg,	/* I - Global data */
+	      cups_encoding_t encoding)	/* I - Encoding of text */
 {
   int		i;			/* Looping var */
   ppd_group_t	*group;			/* Group */
@@ -2269,7 +2328,9 @@
 
     memset(group, 0, sizeof(ppd_group_t));
     strlcpy(group->name, name, sizeof(group->name));
-    strlcpy(group->text, text, sizeof(group->text));
+
+    cupsCharsetToUTF8((cups_utf8_t *)group->text, text,
+	               sizeof(group->text), encoding);
   }
 
   return (group);
diff -urNad cupsys-1.1.99.b2~/cups/ppd.c.orig cupsys-1.1.99.b2/cups/ppd.c.orig
--- cupsys-1.1.99.b2~/cups/ppd.c.orig	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/cups/ppd.c.orig	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,2879 @@
+/*
+ * "$Id: ppd.c 5272 2006-03-10 20:18:44Z mike $"
+ *
+ *   PPD file routines for the Common UNIX Printing System (CUPS).
+ *
+ *   Copyright 1997-2006 by Easy Software Products, all rights reserved.
+ *
+ *   These coded instructions, statements, and computer programs are the
+ *   property of Easy Software Products and are protected by Federal
+ *   copyright law.  Distribution and use rights are outlined in the file
+ *   "LICENSE.txt" which should have been included with this file.  If this
+ *   file is missing or damaged please contact Easy Software Products
+ *   at:
+ *
+ *       Attn: CUPS Licensing Information
+ *       Easy Software Products
+ *       44141 Airport View Drive, Suite 204
+ *       Hollywood, Maryland 20636 USA
+ *
+ *       Voice: (301) 373-9600
+ *       EMail: cups-info@cups.org
+ *         WWW: http://www.cups.org
+ *
+ *   PostScript is a trademark of Adobe Systems, Inc.
+ *
+ *   This code and any derivative of it may be used and distributed
+ *   freely under the terms of the GNU General Public License when
+ *   used with GNU Ghostscript or its derivatives.  Use of the code
+ *   (or any derivative of it) with software other than GNU
+ *   GhostScript (or its derivatives) is governed by the CUPS license
+ *   agreement.
+ *
+ *   This file is subject to the Apple OS-Developed Software exception.
+ *
+ * Contents:
+ *
+ *   ppdClose()             - Free all memory used by the PPD file.
+ *   ppdErrorString()       - Returns the text assocated with a status.
+ *   ppdLastError()         - Return the status from the last ppdOpen*().
+ *   ppdOpen()              - Read a PPD file into memory.
+ *   ppdOpen2()             - Read a PPD file into memory.
+ *   ppdOpenFd()            - Read a PPD file into memory.
+ *   ppdOpenFile()          - Read a PPD file into memory.
+ *   ppdSetConformance()    - Set the conformance level for PPD files.
+ *   ppd_add_attr()         - Add an attribute to the PPD data.
+ *   ppd_add_choice()       - Add a choice to an option.
+ *   ppd_add_size()         - Add a page size.
+ *   ppd_compare_attrs()    - Compare two attributes.
+ *   ppd_compare_coptions() - Compare two custom options.
+ *   ppd_compare_cparams()  - Compare two custom parameters.
+ *   ppd_compare_options()  - Compare two options.
+ *   ppd_decode()           - Decode a string value...
+ *   ppd_free_group()       - Free a single UI group.
+ *   ppd_free_option()      - Free a single option.
+ *   ppd_get_coption()      - Get a custom option record.
+ *   ppd_get_cparam()       - Get a custom parameter record.
+ *   ppd_get_group()        - Find or create the named group as needed.
+ *   ppd_get_option()       - Find or create the named option as needed.
+ *   ppd_read()             - Read a line from a PPD file, skipping comment
+ *                            lines as necessary.
+ */
+
+/*
+ * Include necessary headers.
+ */
+
+#include "globals.h"
+#include "debug.h"
+#include <stdlib.h>
+
+
+/*
+ * Definitions...
+ */
+
+#if defined(WIN32) || defined(__EMX__)
+#  define READ_BINARY	"rb"		/* Open a binary file for reading */
+#  define WRITE_BINARY	"wb"		/* Open a binary file for writing */
+#else
+#  define READ_BINARY	"r"		/* Open a binary file for reading */
+#  define WRITE_BINARY	"w"		/* Open a binary file for writing */
+#endif /* WIN32 || __EMX__ */
+
+#define ppd_free(p)	if (p) free(p)	/* Safe free macro */
+
+#define PPD_KEYWORD	1		/* Line contained a keyword */
+#define PPD_OPTION	2		/* Line contained an option name */
+#define PPD_TEXT	4		/* Line contained human-readable text */
+#define PPD_STRING	8		/* Line contained a string or code */
+
+
+/*
+ * Local functions...
+ */
+
+static ppd_attr_t	*ppd_add_attr(ppd_file_t *ppd, const char *name,
+			              const char *spec, const char *text,
+				      const char *value);
+static ppd_choice_t	*ppd_add_choice(ppd_option_t *option, const char *name);
+static ppd_size_t	*ppd_add_size(ppd_file_t *ppd, const char *name);
+static int		ppd_compare_attrs(ppd_attr_t *a, ppd_attr_t *b);
+static int		ppd_compare_coptions(ppd_coption_t *a,
+			                     ppd_coption_t *b);
+static int		ppd_compare_cparams(ppd_cparam_t *a, ppd_cparam_t *b);
+static int		ppd_compare_options(ppd_option_t *a, ppd_option_t *b);
+static int		ppd_decode(char *string);
+static void		ppd_free_group(ppd_group_t *group);
+static void		ppd_free_option(ppd_option_t *option);
+static ppd_coption_t	*ppd_get_coption(ppd_file_t *ppd, const char *name);
+static ppd_cparam_t	*ppd_get_cparam(ppd_coption_t *opt,
+			                const char *param,
+					const char *text);
+static ppd_group_t	*ppd_get_group(ppd_file_t *ppd, const char *name,
+			               const char *text, _cups_globals_t *cg);
+static ppd_option_t	*ppd_get_option(ppd_group_t *group, const char *name);
+static int		ppd_read(cups_file_t *fp, char *keyword, char *option,
+			         char *text, char **string, int ignoreblank,
+				 _cups_globals_t *cg);
+
+
+/*
+ * 'ppdClose()' - Free all memory used by the PPD file.
+ */
+
+void
+ppdClose(ppd_file_t *ppd)		/* I - PPD file record */
+{
+  int			i;		/* Looping var */
+  ppd_emul_t		*emul;		/* Current emulation */
+  ppd_group_t		*group;		/* Current group */
+  char			**font;		/* Current font */
+  char			**filter;	/* Current filter */
+  ppd_attr_t		**attr;		/* Current attribute */
+  ppd_coption_t		*coption;	/* Current custom option */
+  ppd_cparam_t		*cparam;	/* Current custom parameter */
+
+
+ /*
+  * Range check arguments...
+  */
+
+  if (!ppd)
+    return;
+
+ /*
+  * Free all strings at the top level...
+  */
+
+  ppd_free(ppd->patches);
+  ppd_free(ppd->jcl_begin);
+  ppd_free(ppd->jcl_end);
+  ppd_free(ppd->jcl_ps);
+
+ /*
+  * Free any emulations...
+  */
+
+  if (ppd->num_emulations > 0)
+  {
+    for (i = ppd->num_emulations, emul = ppd->emulations; i > 0; i --, emul ++)
+    {
+      ppd_free(emul->start);
+      ppd_free(emul->stop);
+    }
+
+    ppd_free(ppd->emulations);
+  }
+
+ /*
+  * Free any UI groups, subgroups, and options...
+  */
+
+  if (ppd->num_groups > 0)
+  {
+    for (i = ppd->num_groups, group = ppd->groups; i > 0; i --, group ++)
+      ppd_free_group(group);
+
+    ppd_free(ppd->groups);
+  }
+
+  cupsArrayDelete(ppd->options);
+
+ /*
+  * Free any page sizes...
+  */
+
+  if (ppd->num_sizes > 0)
+    ppd_free(ppd->sizes);
+
+ /*
+  * Free any constraints...
+  */
+
+  if (ppd->num_consts > 0)
+    ppd_free(ppd->consts);
+
+ /*
+  * Free any filters...
+  */
+
+  if (ppd->num_filters > 0)
+  {
+    for (i = ppd->num_filters, filter = ppd->filters; i > 0; i --, filter ++)
+    {
+      ppd_free(*filter);
+    }
+
+    ppd_free(ppd->filters);
+  }
+
+ /*
+  * Free any fonts...
+  */
+
+  if (ppd->num_fonts > 0)
+  {
+    for (i = ppd->num_fonts, font = ppd->fonts; i > 0; i --, font ++)
+    {
+      ppd_free(*font);
+    }
+
+    ppd_free(ppd->fonts);
+  }
+
+ /*
+  * Free any profiles...
+  */
+
+  if (ppd->num_profiles > 0)
+    ppd_free(ppd->profiles);
+
+ /*
+  * Free any attributes...
+  */
+
+  if (ppd->num_attrs > 0)
+  {
+    for (i = ppd->num_attrs, attr = ppd->attrs; i > 0; i --, attr ++)
+    {
+      ppd_free((*attr)->value);
+      ppd_free(*attr);
+    }
+
+    ppd_free(ppd->attrs);
+  }
+
+  cupsArrayDelete(ppd->sorted_attrs);
+
+ /*
+  * Free custom options...
+  */
+
+  for (coption = (ppd_coption_t *)cupsArrayFirst(ppd->coptions);
+       coption;
+       coption = (ppd_coption_t *)cupsArrayNext(ppd->coptions))
+  {
+    for (cparam = (ppd_cparam_t *)cupsArrayFirst(coption->params);
+         cparam;
+	 cparam = (ppd_cparam_t *)cupsArrayNext(coption->params))
+    {
+      switch (cparam->type)
+      {
+        case PPD_CUSTOM_PASSCODE :
+        case PPD_CUSTOM_PASSWORD :
+        case PPD_CUSTOM_STRING :
+            ppd_free(cparam->current.custom_string);
+	    break;
+
+	default :
+	    break;
+      }
+
+      free(cparam);
+    }
+
+    cupsArrayDelete(coption->params);
+
+    free(coption);
+  }
+
+  cupsArrayDelete(ppd->coptions);
+
+ /*
+  * Free the whole record...
+  */
+
+  ppd_free(ppd);
+}
+
+
+/*
+ * 'ppdErrorString()' - Returns the text assocated with a status.
+ *
+ * @since CUPS 1.1.19@
+ */
+
+const char *				/* O - Status string */
+ppdErrorString(ppd_status_t status)	/* I - PPD status */
+{
+  static const char * const messages[] =/* Status messages */
+		{
+		  _("OK"),
+		  _("Unable to open PPD file"),
+		  _("NULL PPD file pointer"),
+		  _("Memory allocation error"),
+		  _("Missing PPD-Adobe-4.x header"),
+		  _("Missing value string"),
+		  _("Internal error"),
+		  _("Bad OpenGroup"),
+		  _("OpenGroup without a CloseGroup first"),
+		  _("Bad OpenUI/JCLOpenUI"),
+		  _("OpenUI/JCLOpenUI without a CloseUI/JCLCloseUI first"),
+		  _("Bad OrderDependency"),
+		  _("Bad UIConstraints"),
+		  _("Missing asterisk in column 1"),
+		  _("Line longer than the maximum allowed (255 characters)"),
+		  _("Illegal control character"),
+		  _("Illegal main keyword string"),
+		  _("Illegal option keyword string"),
+		  _("Illegal translation string"),
+		  _("Illegal whitespace character"),
+		  _("Bad custom parameter")
+		};
+
+
+  if (status < PPD_OK || status > PPD_ILLEGAL_WHITESPACE)
+    return (_cupsLangString(cupsLangDefault(), _("Unknown")));
+  else
+    return (_cupsLangString(cupsLangDefault(), messages[status]));
+}
+
+
+/*
+ * 'ppdLastError()' - Return the status from the last ppdOpen*().
+ *
+ * @since CUPS 1.1.19@
+ */
+
+ppd_status_t				/* O - Status code */
+ppdLastError(int *line)			/* O - Line number */
+{
+  _cups_globals_t	*cg = _cupsGlobals();
+					/* Global data */
+
+
+  if (line)
+    *line = cg->ppd_line;
+
+  return (cg->ppd_status);
+}
+
+
+/*
+ * 'ppdOpen()' - Read a PPD file into memory.
+ */
+
+ppd_file_t *				/* O - PPD file record */
+ppdOpen(FILE *fp)			/* I - File to read from */
+{
+  ppd_file_t	*ppd;			/* PPD file record */
+  cups_file_t	*cf;			/* CUPS file */
+
+
+ /*
+  * Reopen the stdio file as a CUPS file...
+  */
+
+  if ((cf = cupsFileOpenFd(fileno(fp), "r")) == NULL)
+    return (NULL);
+
+ /*
+  * Load the PPD file using the newer API...
+  */
+
+  ppd = ppdOpen2(cf);
+
+ /*
+  * Close the CUPS file and return the PPD...
+  */
+
+  cupsFileClose(cf);
+
+  return (ppd);
+}
+
+
+/*
+ * 'ppdOpen2()' - Read a PPD file into memory.
+ *
+ * @since CUPS 1.2@
+ */
+
+ppd_file_t *				/* O - PPD file record */
+ppdOpen2(cups_file_t *fp)		/* I - File to read from */
+{
+  int			i, j, k;	/* Looping vars */
+  int			count;		/* Temporary count */
+  ppd_file_t		*ppd;		/* PPD file record */
+  ppd_group_t		*group,		/* Current group */
+			*subgroup;	/* Current sub-group */
+  ppd_option_t		*option;	/* Current option */
+  ppd_choice_t		*choice;	/* Current choice */
+  ppd_const_t		*constraint;	/* Current constraint */
+  ppd_size_t		*size;		/* Current page size */
+  int			mask;		/* Line data mask */
+  char			keyword[PPD_MAX_NAME],
+  					/* Keyword from file */
+			name[PPD_MAX_NAME],
+					/* Option from file */
+			text[PPD_MAX_LINE],
+					/* Human-readable text from file */
+			*string,	/* Code/text from file */
+			*sptr,		/* Pointer into string */
+			*nameptr,	/* Pointer into name */
+			*temp,		/* Temporary string pointer */
+			**tempfonts;	/* Temporary fonts pointer */
+  float			order;		/* Order dependency number */
+  ppd_section_t		section;	/* Order dependency section */
+  ppd_profile_t		*profile;	/* Pointer to color profile */
+  char			**filter;	/* Pointer to filter */
+  cups_lang_t		*language;	/* Default language */
+  struct lconv		*loc;		/* Locale data */
+  int			ui_keyword;	/* Is this line a UI keyword? */
+  _cups_globals_t	*cg = _cupsGlobals();
+					/* Global data */
+  static const char * const ui_keywords[] =
+			{
+#ifdef CUPS_USE_FULL_UI_KEYWORDS_LIST
+ /*
+  * Adobe defines some 41 keywords as "UI", meaning that they are
+  * user interface elements and that they should be treated as such
+  * even if the PPD creator doesn't use Open/CloseUI around them.
+  *
+  * Since this can cause previously invisible options to appear and
+  * confuse users, the default is to only treat the PageSize and
+  * PageRegion keywords this way.
+  */
+			  /* Boolean keywords */
+			  "BlackSubstitution",
+			  "Booklet",
+			  "Collate",
+			  "ManualFeed",
+			  "MirrorPrint",
+			  "NegativePrint",
+			  "Sorter",
+			  "TraySwitch",
+
+			  /* PickOne keywords */
+			  "AdvanceMedia",
+			  "BindColor",
+			  "BindEdge",
+			  "BindType",
+			  "BindWhen",
+			  "BitsPerPixel",
+			  "ColorModel",
+			  "CutMedia",
+			  "Duplex",
+			  "FoldType",
+			  "FoldWhen",
+			  "InputSlot",
+			  "JCLFrameBufferSize",
+			  "JCLResolution",
+			  "Jog",
+			  "MediaColor",
+			  "MediaType",
+			  "MediaWeight",
+			  "OutputBin",
+			  "OutputMode",
+			  "OutputOrder",
+			  "PageRegion",
+			  "PageSize",
+			  "Resolution",
+			  "Separations",
+			  "Signature",
+			  "Slipsheet",
+			  "Smoothing",
+			  "StapleLocation",
+			  "StapleOrientation",
+			  "StapleWhen",
+			  "StapleX",
+			  "StapleY"
+#else /* !CUPS_USE_FULL_UI_KEYWORDS_LIST */
+			  "PageRegion",
+			  "PageSize"
+#endif /* CUPS_USE_FULL_UI_KEYWORDS_LIST */
+			};
+
+
+ /*
+  * Default to "OK" status...
+  */
+
+  cg->ppd_status = PPD_OK;
+  cg->ppd_line   = 0;
+
+ /*
+  * Range check input...
+  */
+
+  if (fp == NULL)
+  {
+    cg->ppd_status = PPD_NULL_FILE;
+    return (NULL);
+  }
+
+ /*
+  * Grab the first line and make sure it reads '*PPD-Adobe: "major.minor"'...
+  */
+
+  mask = ppd_read(fp, keyword, name, text, &string, 0, cg);
+
+  DEBUG_printf(("mask=%x, keyword=\"%s\"...\n", mask, keyword));
+
+  if (mask == 0 ||
+      strcmp(keyword, "PPD-Adobe") ||
+      string == NULL || string[0] != '4')
+  {
+   /*
+    * Either this is not a PPD file, or it is not a 4.x PPD file.
+    */
+
+    if (cg->ppd_status == PPD_OK)
+      cg->ppd_status = PPD_MISSING_PPDADOBE4;
+
+    ppd_free(string);
+
+    return (NULL);
+  }
+
+  DEBUG_printf(("ppdOpen: keyword = %s, string = %p\n", keyword, string));
+
+  ppd_free(string);
+
+ /*
+  * Allocate memory for the PPD file record...
+  */
+
+  if ((ppd = calloc(1, sizeof(ppd_file_t))) == NULL)
+  {
+    cg->ppd_status = PPD_ALLOC_ERROR;
+
+    return (NULL);
+  }
+
+  ppd->language_level = 1;
+  ppd->color_device   = 0;
+  ppd->colorspace     = PPD_CS_GRAY;
+  ppd->landscape      = -90;
+  ppd->coptions       = cupsArrayNew((cups_array_func_t)ppd_compare_coptions,
+                                     NULL);
+
+ /*
+  * Get the default language for the user...
+  */
+
+  language = cupsLangDefault();
+  loc      = localeconv();
+
+ /*
+  * Read lines from the PPD file and add them to the file record...
+  */
+
+  group      = NULL;
+  subgroup   = NULL;
+  option     = NULL;
+  choice     = NULL;
+  ui_keyword = 0;
+
+  while ((mask = ppd_read(fp, keyword, name, text, &string, 1, cg)) != 0)
+  {
+#ifdef DEBUG
+    printf("mask = %x, keyword = \"%s\"", mask, keyword);
+
+    if (name[0] != '\0')
+      printf(", name = \"%s\"", name);
+
+    if (text[0] != '\0')
+      printf(", text = \"%s\"", text);
+
+    if (string != NULL)
+    {
+      if (strlen(string) > 40)
+        printf(", string = %p", string);
+      else
+        printf(", string = \"%s\"", string);
+    }
+
+    puts("");
+#endif /* DEBUG */
+
+    if (strcmp(keyword, "CloseUI") && strcmp(keyword, "CloseGroup") &&
+	strcmp(keyword, "CloseSubGroup") && strncmp(keyword, "Default", 7) &&
+        strcmp(keyword, "JCLCloseUI") && strcmp(keyword, "JCLOpenUI") &&
+	strcmp(keyword, "OpenUI") && strcmp(keyword, "OpenGroup") &&
+	strcmp(keyword, "OpenSubGroup") && string == NULL)
+    {
+     /*
+      * Need a string value!
+      */
+
+      cg->ppd_status = PPD_MISSING_VALUE;
+
+      goto error;
+    }
+
+   /*
+    * Certain main keywords (as defined by the PPD spec) may be used
+    * without the usual OpenUI/CloseUI stuff.  Presumably this is just
+    * so that Adobe wouldn't completely break compatibility with PPD
+    * files prior to v4.0 of the spec, but it is hopelessly
+    * inconsistent...  Catch these main keywords and automatically
+    * create the corresponding option, as needed...
+    */
+
+    if (ui_keyword)
+    {
+     /*
+      * Previous line was a UI keyword...
+      */
+
+      option     = NULL;
+      ui_keyword = 0;
+    }
+
+    if (option == NULL &&
+        (mask & (PPD_KEYWORD | PPD_OPTION | PPD_STRING)) ==
+	    (PPD_KEYWORD | PPD_OPTION | PPD_STRING))
+    {
+      for (i = 0; i < (int)(sizeof(ui_keywords) / sizeof(ui_keywords[0])); i ++)
+        if (!strcmp(keyword, ui_keywords[i]))
+	  break;
+
+      if (i < (int)(sizeof(ui_keywords) / sizeof(ui_keywords[0])))
+      {
+       /*
+        * Create the option in the appropriate group...
+	*/
+
+        ui_keyword = 1;
+
+        DEBUG_printf(("**** FOUND ADOBE UI KEYWORD %s WITHOUT OPENUI!\n",
+	              keyword));
+
+        if (!group)
+	{
+          if ((group = ppd_get_group(ppd, "General", _("General"), cg)) == NULL)
+	    goto error;
+
+          DEBUG_printf(("Adding to group %s...\n", group->text));
+          option = ppd_get_option(group, keyword);
+	  group  = NULL;
+	}
+	else
+          option = ppd_get_option(group, keyword);
+
+	if (option == NULL)
+	{
+          cg->ppd_status = PPD_ALLOC_ERROR;
+
+          goto error;
+	}
+
+       /*
+	* Now fill in the initial information for the option...
+	*/
+
+	if (!strncmp(keyword, "JCL", 3))
+          option->section = PPD_ORDER_JCL;
+	else
+          option->section = PPD_ORDER_ANY;
+
+	option->order = 10.0f;
+
+	if (i < 8)
+          option->ui = PPD_UI_BOOLEAN;
+	else
+          option->ui = PPD_UI_PICKONE;
+
+        for (j = 0; j < ppd->num_attrs; j ++)
+	  if (!strncmp(ppd->attrs[j]->name, "Default", 7) &&
+	      !strcmp(ppd->attrs[j]->name + 7, keyword) &&
+	      ppd->attrs[j]->value)
+	  {
+	    DEBUG_printf(("Setting Default%s to %s via attribute...\n",
+	                  option->keyword, ppd->attrs[j]->value));
+	    strlcpy(option->defchoice, ppd->attrs[j]->value,
+	            sizeof(option->defchoice));
+	    break;
+	  }
+
+        if (!strcmp(keyword, "PageSize"))
+	  strlcpy(option->text, _("Media Size"), sizeof(option->text));
+	else if (!strcmp(keyword, "MediaType"))
+	  strlcpy(option->text, _("Media Type"), sizeof(option->text));
+	else if (!strcmp(keyword, "InputSlot"))
+	  strlcpy(option->text, _("Media Source"), sizeof(option->text));
+	else if (!strcmp(keyword, "ColorModel"))
+	  strlcpy(option->text, _("Output Mode"), sizeof(option->text));
+	else if (!strcmp(keyword, "Resolution"))
+	  strlcpy(option->text, _("Resolution"), sizeof(option->text));
+        else
+	  strlcpy(option->text, keyword, sizeof(option->text));
+      }
+    }
+
+    if (!strcmp(keyword, "LanguageLevel"))
+      ppd->language_level = atoi(string);
+    else if (!strcmp(keyword, "LanguageEncoding"))
+      ppd->lang_encoding = string;
+    else if (!strcmp(keyword, "LanguageVersion"))
+      ppd->lang_version = string;
+    else if (!strcmp(keyword, "Manufacturer"))
+      ppd->manufacturer = string;
+    else if (!strcmp(keyword, "ModelName"))
+      ppd->modelname = string;
+    else if (!strcmp(keyword, "Protocols"))
+      ppd->protocols = string;
+    else if (!strcmp(keyword, "PCFileName"))
+      ppd->pcfilename = string;
+    else if (!strcmp(keyword, "NickName"))
+      ppd->nickname = string;
+    else if (!strcmp(keyword, "Product"))
+      ppd->product = string;
+    else if (!strcmp(keyword, "ShortNickName"))
+      ppd->shortnickname = string;
+    else if (!strcmp(keyword, "TTRasterizer"))
+      ppd->ttrasterizer = string;
+    else if (!strcmp(keyword, "JCLBegin"))
+    {
+      ppd->jcl_begin = strdup(string);
+      ppd_decode(ppd->jcl_begin);	/* Decode quoted string */
+    }
+    else if (!strcmp(keyword, "JCLEnd"))
+    {
+      ppd->jcl_end = strdup(string);
+      ppd_decode(ppd->jcl_end);		/* Decode quoted string */
+    }
+    else if (!strcmp(keyword, "JCLToPSInterpreter"))
+    {
+      ppd->jcl_ps = strdup(string);
+      ppd_decode(ppd->jcl_ps);		/* Decode quoted string */
+    }
+    else if (!strcmp(keyword, "AccurateScreensSupport"))
+      ppd->accurate_screens = !strcmp(string, "True");
+    else if (!strcmp(keyword, "ColorDevice"))
+      ppd->color_device = !strcmp(string, "True");
+    else if (!strcmp(keyword, "ContoneOnly"))
+      ppd->contone_only = !strcmp(string, "True");
+    else if (!strcmp(keyword, "cupsFlipDuplex"))
+      ppd->flip_duplex = !strcmp(string, "True");
+    else if (!strcmp(keyword, "cupsManualCopies"))
+      ppd->manual_copies = !strcmp(string, "True");
+    else if (!strcmp(keyword, "cupsModelNumber"))
+      ppd->model_number = atoi(string);
+    else if (!strcmp(keyword, "cupsColorProfile"))
+    {
+      if (ppd->num_profiles == 0)
+        profile = malloc(sizeof(ppd_profile_t));
+      else
+        profile = realloc(ppd->profiles, sizeof(ppd_profile_t) *
+	                                 (ppd->num_profiles + 1));
+
+      ppd->profiles     = profile;
+      profile           += ppd->num_profiles;
+      ppd->num_profiles ++;
+
+      memset(profile, 0, sizeof(ppd_profile_t));
+      strlcpy(profile->resolution, name, sizeof(profile->resolution));
+      strlcpy(profile->media_type, text, sizeof(profile->media_type));
+
+      profile->density      = _cupsStrScand(string, &sptr, loc);
+      profile->gamma        = _cupsStrScand(sptr, &sptr, loc);
+      profile->matrix[0][0] = _cupsStrScand(sptr, &sptr, loc);
+      profile->matrix[0][1] = _cupsStrScand(sptr, &sptr, loc);
+      profile->matrix[0][2] = _cupsStrScand(sptr, &sptr, loc);
+      profile->matrix[1][0] = _cupsStrScand(sptr, &sptr, loc);
+      profile->matrix[1][1] = _cupsStrScand(sptr, &sptr, loc);
+      profile->matrix[1][2] = _cupsStrScand(sptr, &sptr, loc);
+      profile->matrix[2][0] = _cupsStrScand(sptr, &sptr, loc);
+      profile->matrix[2][1] = _cupsStrScand(sptr, &sptr, loc);
+      profile->matrix[2][2] = _cupsStrScand(sptr, &sptr, loc);
+    }
+    else if (!strcmp(keyword, "cupsFilter"))
+    {
+      if (ppd->num_filters == 0)
+        filter = malloc(sizeof(char *));
+      else
+        filter = realloc(ppd->filters, sizeof(char *) * (ppd->num_filters + 1));
+
+      if (filter == NULL)
+      {
+        ppd_free(filter);
+
+        cg->ppd_status = PPD_ALLOC_ERROR;
+
+	goto error;
+      }
+
+      ppd->filters     = filter;
+      filter           += ppd->num_filters;
+      ppd->num_filters ++;
+
+     /*
+      * Copy filter string and prevent it from being freed below...
+      */
+
+      *filter = string;
+      string  = NULL;
+    }
+    else if (!strcmp(keyword, "Throughput"))
+      ppd->throughput = atoi(string);
+    else if (!strcmp(keyword, "Font"))
+    {
+     /*
+      * Add this font to the list of available fonts...
+      */
+
+      if (ppd->num_fonts == 0)
+        tempfonts = (char **)malloc(sizeof(char *));
+      else
+        tempfonts = (char **)realloc(ppd->fonts,
+	                             sizeof(char *) * (ppd->num_fonts + 1));
+
+      if (tempfonts == NULL)
+      {
+        cg->ppd_status = PPD_ALLOC_ERROR;
+
+	goto error;
+      }
+      
+      ppd->fonts                 = tempfonts;
+      ppd->fonts[ppd->num_fonts] = strdup(name);
+      ppd->num_fonts ++;
+    }
+    else if (!strncmp(keyword, "ParamCustom", 11))
+    {
+      ppd_coption_t	*coption;	/* Custom option */
+      ppd_cparam_t	*cparam;	/* Custom parameter */
+      int		corder;		/* Order number */
+      char		ctype[33],	/* Data type */
+			cminimum[65],	/* Minimum value */
+			cmaximum[65];	/* Maximum value */
+
+
+     /*
+      * Get the custom option and parameter...
+      */
+
+      if ((coption = ppd_get_coption(ppd, keyword + 11)) == NULL)
+      {
+        cg->ppd_status = PPD_ALLOC_ERROR;
+
+	goto error;
+      }
+
+      if ((cparam = ppd_get_cparam(coption, name, text)) == NULL)
+      {
+        cg->ppd_status = PPD_ALLOC_ERROR;
+
+	goto error;
+      }
+
+     /*
+      * Get the parameter data...
+      */
+
+      if (sscanf(string, "%d%32s%64s%64s", &corder, ctype, cminimum,
+                 cmaximum) != 4)
+      {
+        cg->ppd_status = PPD_BAD_CUSTOM_PARAM;
+
+	goto error;
+      }
+
+      cparam->order = corder;
+
+      if (!strcmp(ctype, "curve"))
+      {
+        cparam->type = PPD_CUSTOM_CURVE;
+	cparam->minimum.custom_curve = _cupsStrScand(cminimum, NULL, loc);
+	cparam->maximum.custom_curve = _cupsStrScand(cmaximum, NULL, loc);
+      }
+      else if (!strcmp(ctype, "int"))
+      {
+        cparam->type = PPD_CUSTOM_INT;
+	cparam->minimum.custom_int = atoi(cminimum);
+	cparam->maximum.custom_int = atoi(cmaximum);
+      }
+      else if (!strcmp(ctype, "invcurve"))
+      {
+        cparam->type = PPD_CUSTOM_INVCURVE;
+	cparam->minimum.custom_invcurve = _cupsStrScand(cminimum, NULL, loc);
+	cparam->maximum.custom_invcurve = _cupsStrScand(cmaximum, NULL, loc);
+      }
+      else if (!strcmp(ctype, "passcode"))
+      {
+        cparam->type = PPD_CUSTOM_PASSCODE;
+	cparam->minimum.custom_passcode = atoi(cminimum);
+	cparam->maximum.custom_passcode = atoi(cmaximum);
+      }
+      else if (!strcmp(ctype, "password"))
+      {
+        cparam->type = PPD_CUSTOM_PASSWORD;
+	cparam->minimum.custom_password = atoi(cminimum);
+	cparam->maximum.custom_password = atoi(cmaximum);
+      }
+      else if (!strcmp(ctype, "points"))
+      {
+        cparam->type = PPD_CUSTOM_POINTS;
+	cparam->minimum.custom_points = _cupsStrScand(cminimum, NULL, loc);
+	cparam->maximum.custom_points = _cupsStrScand(cmaximum, NULL, loc);
+      }
+      else if (!strcmp(ctype, "real"))
+      {
+        cparam->type = PPD_CUSTOM_REAL;
+	cparam->minimum.custom_real = _cupsStrScand(cminimum, NULL, loc);
+	cparam->maximum.custom_real = _cupsStrScand(cmaximum, NULL, loc);
+      }
+      else if (!strcmp(ctype, "string"))
+      {
+        cparam->type = PPD_CUSTOM_STRING;
+	cparam->minimum.custom_string = atoi(cminimum);
+	cparam->maximum.custom_string = atoi(cmaximum);
+      }
+      else
+      {
+        cg->ppd_status = PPD_BAD_CUSTOM_PARAM;
+
+	goto error;
+      }
+
+     /*
+      * Now special-case for CustomPageSize...
+      */
+
+      if (!strcmp(coption->keyword, "PageSize"))
+      {
+	if (!strcmp(name, "Width"))
+	{
+	  ppd->custom_min[0] = cparam->minimum.custom_points;
+	  ppd->custom_max[0] = cparam->maximum.custom_points;
+	}
+	else if (!strcmp(name, "Height"))
+	{
+	  ppd->custom_min[1] = cparam->minimum.custom_points;
+	  ppd->custom_max[1] = cparam->maximum.custom_points;
+	}
+      }
+    }
+    else if (!strcmp(keyword, "HWMargins"))
+    {
+      for (i = 0, sptr = string; i < 4; i ++)
+        ppd->custom_margins[i] = _cupsStrScand(sptr, &sptr, loc);
+    }
+    else if (!strncmp(keyword, "Custom", 6) && !strcmp(name, "True"))
+    {
+      DEBUG_puts("Processing Custom option...");
+
+     /*
+      * Get the option and custom option...
+      */
+
+      if ((option = ppdFindOption(ppd, keyword + 6)) == NULL)
+      {
+	ppd_group_t	*gtemp;		/* Temporary group */
+
+
+        DEBUG_printf(("%s option not found for %s...\n", keyword + 6, keyword));
+
+	if ((gtemp = ppd_get_group(ppd, "General", _("General"), cg)) == NULL)
+	{
+	  DEBUG_puts("Unable to get general group!");
+
+	  goto error;
+	}
+
+	if ((option = ppd_get_option(gtemp, keyword + 6)) == NULL)
+	{
+	  DEBUG_printf(("Unable to get %s option!\n", keyword + 6));
+
+          cg->ppd_status = PPD_ALLOC_ERROR;
+
+	  goto error;
+	}
+      }
+
+      if (!ppd_get_coption(ppd, keyword + 6))
+      {
+        cg->ppd_status = PPD_ALLOC_ERROR;
+
+	goto error;
+      }
+
+     /*
+      * Add the "custom" option...
+      */
+
+      if ((choice = ppd_add_choice(option, "Custom")) == NULL)
+      {
+	DEBUG_puts("Unable to add Custom choice!");
+
+        cg->ppd_status = PPD_ALLOC_ERROR;
+
+	goto error;
+      }
+
+      strlcpy(choice->text, text[0] ? text : _("Custom"),
+              sizeof(choice->text));
+
+      choice->code = string;
+      string       = NULL;		/* Don't add as an attribute below */
+      option       = NULL;
+
+     /*
+      * Now process custom page sizes specially...
+      */
+
+      if (!strcmp(keyword, "CustomPageSize"))
+      {
+	ppd->variable_sizes = 1;
+
+       /*
+	* Add a "Custom" page size entry...
+	*/
+
+	ppd_add_size(ppd, "Custom");
+      }
+    }
+    else if (!strcmp(keyword, "LandscapeOrientation"))
+    {
+      if (!strcmp(string, "Minus90"))
+        ppd->landscape = -90;
+      else if (!strcmp(string, "Plus90"))
+        ppd->landscape = 90;
+    }
+    else if (!strcmp(keyword, "Emulators"))
+    {
+      for (count = 1, sptr = string; sptr != NULL;)
+        if ((sptr = strchr(sptr, ' ')) != NULL)
+	{
+	  count ++;
+	  while (*sptr == ' ')
+	    sptr ++;
+	}
+
+      ppd->num_emulations = count;
+      ppd->emulations     = calloc(count, sizeof(ppd_emul_t));
+
+      for (i = 0, sptr = string; i < count; i ++)
+      {
+        for (nameptr = ppd->emulations[i].name;
+	     *sptr != '\0' && *sptr != ' ';
+	     sptr ++)
+	  if (nameptr < (ppd->emulations[i].name + sizeof(ppd->emulations[i].name) - 1))
+	    *nameptr++ = *sptr;
+
+	*nameptr = '\0';
+
+	while (*sptr == ' ')
+	  sptr ++;
+      }
+    }
+    else if (!strncmp(keyword, "StartEmulator_", 14))
+    {
+      ppd_decode(string);
+
+      for (i = 0; i < ppd->num_emulations; i ++)
+        if (!strcmp(keyword + 14, ppd->emulations[i].name))
+	{
+	  ppd->emulations[i].start = string;
+	  string = NULL;
+	}
+    }
+    else if (!strncmp(keyword, "StopEmulator_", 13))
+    {
+      ppd_decode(string);
+
+      for (i = 0; i < ppd->num_emulations; i ++)
+        if (!strcmp(keyword + 13, ppd->emulations[i].name))
+	{
+	  ppd->emulations[i].stop = string;
+	  string = NULL;
+	}
+    }
+    else if (!strcmp(keyword, "JobPatchFile"))
+    {
+      if (ppd->patches == NULL)
+        ppd->patches = strdup(string);
+      else
+      {
+        temp = realloc(ppd->patches, strlen(ppd->patches) +
+	                             strlen(string) + 1);
+        if (temp == NULL)
+	{
+          cg->ppd_status = PPD_ALLOC_ERROR;
+
+	  goto error;
+	}
+
+        ppd->patches = temp;
+
+        strcpy(ppd->patches + strlen(ppd->patches), string);
+      }
+    }
+    else if (!strcmp(keyword, "OpenUI"))
+    {
+     /*
+      * Don't allow nesting of options...
+      */
+
+      if (option && cg->ppd_conform == PPD_CONFORM_STRICT)
+      {
+        cg->ppd_status = PPD_NESTED_OPEN_UI;
+
+	goto error;
+      }
+
+     /*
+      * Add an option record to the current sub-group, group, or file...
+      */
+
+      if (name[0] == '*')
+        _cups_strcpy(name, name + 1); /* Eliminate leading asterisk */
+
+      for (i = (int)strlen(name) - 1; i > 0 && isspace(name[i] & 255); i --)
+        name[i] = '\0'; /* Eliminate trailing spaces */
+
+      DEBUG_printf(("OpenUI of %s in group %s...\n", name,
+                    group ? group->text : "(null)"));
+
+      if (subgroup != NULL)
+        option = ppd_get_option(subgroup, name);
+      else if (group == NULL)
+      {
+	if ((group = ppd_get_group(ppd, "General", _("General"), cg)) == NULL)
+	  goto error;
+
+        DEBUG_printf(("Adding to group %s...\n", group->text));
+        option = ppd_get_option(group, name);
+	group  = NULL;
+      }
+      else
+        option = ppd_get_option(group, name);
+
+      if (option == NULL)
+      {
+        cg->ppd_status = PPD_ALLOC_ERROR;
+
+	goto error;
+      }
+
+     /*
+      * Now fill in the initial information for the option...
+      */
+
+      if (string && !strcmp(string, "PickMany"))
+        option->ui = PPD_UI_PICKMANY;
+      else if (string && !strcmp(string, "Boolean"))
+        option->ui = PPD_UI_BOOLEAN;
+      else if (string && !strcmp(string, "PickOne"))
+        option->ui = PPD_UI_PICKONE;
+      else if (cg->ppd_conform == PPD_CONFORM_STRICT)
+      {
+        cg->ppd_status = PPD_BAD_OPEN_UI;
+
+	goto error;
+      }
+      else
+        option->ui = PPD_UI_PICKONE;
+
+      for (j = 0; j < ppd->num_attrs; j ++)
+	if (!strncmp(ppd->attrs[j]->name, "Default", 7) &&
+	    !strcmp(ppd->attrs[j]->name + 7, name) &&
+	    ppd->attrs[j]->value)
+	{
+	  DEBUG_printf(("Setting Default%s to %s via attribute...\n",
+	                option->keyword, ppd->attrs[j]->value));
+	  strlcpy(option->defchoice, ppd->attrs[j]->value,
+	          sizeof(option->defchoice));
+	  break;
+	}
+
+      if (text[0])
+        strlcpy(option->text, text, sizeof(option->text));
+      else
+      {
+        if (!strcmp(name, "PageSize"))
+	  strlcpy(option->text, _("Media Size"), sizeof(option->text));
+	else if (!strcmp(name, "MediaType"))
+	  strlcpy(option->text, _("Media Type"), sizeof(option->text));
+	else if (!strcmp(name, "InputSlot"))
+	  strlcpy(option->text, _("Media Source"), sizeof(option->text));
+	else if (!strcmp(name, "ColorModel"))
+	  strlcpy(option->text, _("Output Mode"), sizeof(option->text));
+	else if (!strcmp(name, "Resolution"))
+	  strlcpy(option->text, _("Resolution"), sizeof(option->text));
+        else
+	  strlcpy(option->text, name, sizeof(option->text));
+      }
+
+      option->section = PPD_ORDER_ANY;
+
+      ppd_free(string);
+      string = NULL;
+    }
+    else if (!strcmp(keyword, "JCLOpenUI"))
+    {
+     /*
+      * Don't allow nesting of options...
+      */
+
+      if (option && cg->ppd_conform == PPD_CONFORM_STRICT)
+      {
+        cg->ppd_status = PPD_NESTED_OPEN_UI;
+
+	goto error;
+      }
+
+     /*
+      * Find the JCL group, and add if needed...
+      */
+
+      group = ppd_get_group(ppd, "JCL", _("JCL"), cg);
+
+      if (group == NULL)
+	goto error;
+
+     /*
+      * Add an option record to the current JCLs...
+      */
+
+      if (name[0] == '*')
+        _cups_strcpy(name, name + 1);
+
+      option = ppd_get_option(group, name);
+
+      if (option == NULL)
+      {
+        cg->ppd_status = PPD_ALLOC_ERROR;
+
+	goto error;
+      }
+
+     /*
+      * Now fill in the initial information for the option...
+      */
+
+      if (string && !strcmp(string, "PickMany"))
+        option->ui = PPD_UI_PICKMANY;
+      else if (string && !strcmp(string, "Boolean"))
+        option->ui = PPD_UI_BOOLEAN;
+      else if (string && !strcmp(string, "PickOne"))
+        option->ui = PPD_UI_PICKONE;
+      else
+      {
+        cg->ppd_status = PPD_BAD_OPEN_UI;
+
+	goto error;
+      }
+
+      for (j = 0; j < ppd->num_attrs; j ++)
+	if (!strncmp(ppd->attrs[j]->name, "Default", 7) &&
+	    !strcmp(ppd->attrs[j]->name + 7, name) &&
+	    ppd->attrs[j]->value)
+	{
+	  DEBUG_printf(("Setting Default%s to %s via attribute...\n",
+	                option->keyword, ppd->attrs[j]->value));
+	  strlcpy(option->defchoice, ppd->attrs[j]->value,
+	          sizeof(option->defchoice));
+	  break;
+	}
+
+      strlcpy(option->text, text, sizeof(option->text));
+
+      option->section = PPD_ORDER_JCL;
+      group = NULL;
+
+      ppd_free(string);
+      string = NULL;
+    }
+    else if (!strcmp(keyword, "CloseUI") || !strcmp(keyword, "JCLCloseUI"))
+    {
+      option = NULL;
+
+      ppd_free(string);
+      string = NULL;
+    }
+    else if (!strcmp(keyword, "OpenGroup"))
+    {
+     /*
+      * Open a new group...
+      */
+
+      if (group != NULL)
+      {
+        cg->ppd_status = PPD_NESTED_OPEN_GROUP;
+
+	goto error;
+      }
+
+      if (!string)
+      {
+        cg->ppd_status = PPD_BAD_OPEN_GROUP;
+
+	goto error;
+      }
+
+     /*
+      * Separate the group name from the text (name/text)...
+      */
+
+      if ((sptr = strchr(string, '/')) != NULL)
+        *sptr++ = '\0';
+      else
+        sptr = string;
+
+     /*
+      * Fix up the text...
+      */
+
+      ppd_decode(sptr);
+
+     /*
+      * Find/add the group...
+      */
+
+      group = ppd_get_group(ppd, string, sptr, cg);
+
+      if (group == NULL)
+	goto error;
+
+      ppd_free(string);
+      string = NULL;
+    }
+    else if (!strcmp(keyword, "CloseGroup"))
+    {
+      group = NULL;
+
+      ppd_free(string);
+      string = NULL;
+    }
+    else if (!strcmp(keyword, "OrderDependency") ||
+             !strcmp(keyword, "NonUIOrderDependency"))
+    {
+      order = _cupsStrScand(string, &sptr, loc);
+
+      if (!sptr || sscanf(sptr, "%40s%40s", name, keyword) != 2)
+      {
+        cg->ppd_status = PPD_BAD_ORDER_DEPENDENCY;
+
+	goto error;
+      }
+
+      if (keyword[0] == '*')
+        _cups_strcpy(keyword, keyword + 1);
+
+      if (!strcmp(name, "ExitServer"))
+        section = PPD_ORDER_EXIT;
+      else if (!strcmp(name, "Prolog"))
+        section = PPD_ORDER_PROLOG;
+      else if (!strcmp(name, "DocumentSetup"))
+        section = PPD_ORDER_DOCUMENT;
+      else if (!strcmp(name, "PageSetup"))
+        section = PPD_ORDER_PAGE;
+      else if (!strcmp(name, "JCLSetup"))
+        section = PPD_ORDER_JCL;
+      else
+        section = PPD_ORDER_ANY;
+
+      if (option == NULL)
+      {
+        ppd_group_t	*gtemp;
+
+
+       /*
+        * Only valid for Non-UI options...
+	*/
+
+        for (i = ppd->num_groups, gtemp = ppd->groups; i > 0; i --, gtemp ++)
+          if (gtemp->text[0] == '\0')
+	    break;
+
+        if (i > 0)
+          for (i = 0; i < gtemp->num_options; i ++)
+	    if (!strcmp(keyword, gtemp->options[i].keyword))
+	    {
+	      gtemp->options[i].section = section;
+	      gtemp->options[i].order   = order;
+	      break;
+	    }
+      }
+      else
+      {
+        option->section = section;
+	option->order   = order;
+      }
+
+      ppd_free(string);
+      string = NULL;
+    }
+    else if (!strncmp(keyword, "Default", 7))
+    {
+      if (string == NULL)
+        continue;
+
+     /*
+      * Drop UI text, if any, from value...
+      */
+
+      if (strchr(string, '/') != NULL)
+        *strchr(string, '/') = '\0';
+
+     /*
+      * Assign the default value as appropriate...
+      */
+
+      if (!strcmp(keyword, "DefaultColorSpace"))
+      {
+       /*
+        * Set default colorspace...
+	*/
+
+	if (!strcmp(string, "CMY"))
+          ppd->colorspace = PPD_CS_CMY;
+	else if (!strcmp(string, "CMYK"))
+          ppd->colorspace = PPD_CS_CMYK;
+	else if (!strcmp(string, "RGB"))
+          ppd->colorspace = PPD_CS_RGB;
+	else if (!strcmp(string, "RGBK"))
+          ppd->colorspace = PPD_CS_RGBK;
+	else if (!strcmp(string, "N"))
+          ppd->colorspace = PPD_CS_N;
+	else
+          ppd->colorspace = PPD_CS_GRAY;
+      }
+      else if (option && !strcmp(keyword + 7, option->keyword))
+      {
+       /*
+        * Set the default as part of the current option...
+	*/
+
+        DEBUG_printf(("Setting %s to %s...\n", keyword, string));
+
+        strlcpy(option->defchoice, string, sizeof(option->defchoice));
+
+        DEBUG_printf(("%s is now %s...\n", keyword, option->defchoice));
+      }
+      else
+      {
+       /*
+        * Lookup option and set if it has been defined...
+	*/
+
+        ppd_option_t	*toption;	/* Temporary option */
+
+
+        if ((toption = ppdFindOption(ppd, keyword + 7)) != NULL)
+	{
+	  DEBUG_printf(("Setting %s to %s...\n", keyword, string));
+	  strlcpy(toption->defchoice, string, sizeof(toption->defchoice));
+	}
+      }
+    }
+    else if (!strcmp(keyword, "UIConstraints") ||
+             !strcmp(keyword, "NonUIConstraints"))
+    {
+      if (ppd->num_consts == 0)
+	constraint = calloc(1, sizeof(ppd_const_t));
+      else
+	constraint = realloc(ppd->consts,
+	                     (ppd->num_consts + 1) * sizeof(ppd_const_t));
+
+      if (constraint == NULL)
+      {
+        cg->ppd_status = PPD_ALLOC_ERROR;
+
+	goto error;
+      }
+
+      ppd->consts = constraint;
+      constraint += ppd->num_consts;
+      ppd->num_consts ++;
+
+      switch (sscanf(string, "%40s%40s%40s%40s", constraint->option1,
+                     constraint->choice1, constraint->option2,
+		     constraint->choice2))
+      {
+        case 0 : /* Error */
+	case 1 : /* Error */
+	    cg->ppd_status = PPD_BAD_UI_CONSTRAINTS;
+	    goto error;
+
+	case 2 : /* Two options... */
+	   /*
+	    * The following strcpy's are safe, as optionN and
+	    * choiceN are all the same size (size defined by PPD spec...)
+	    */
+
+	    if (constraint->option1[0] == '*')
+	      _cups_strcpy(constraint->option1, constraint->option1 + 1);
+
+	    if (constraint->choice1[0] == '*')
+	      _cups_strcpy(constraint->option2, constraint->choice1 + 1);
+	    else
+	      _cups_strcpy(constraint->option2, constraint->choice1);
+
+            constraint->choice1[0] = '\0';
+            constraint->choice2[0] = '\0';
+	    break;
+	    
+	case 3 : /* Two options, one choice... */
+	   /*
+	    * The following _cups_strcpy's are safe, as optionN and
+	    * choiceN are all the same size (size defined by PPD spec...)
+	    */
+
+	    if (constraint->option1[0] == '*')
+	      _cups_strcpy(constraint->option1, constraint->option1 + 1);
+
+	    if (constraint->choice1[0] == '*')
+	    {
+	      _cups_strcpy(constraint->choice2, constraint->option2);
+	      _cups_strcpy(constraint->option2, constraint->choice1 + 1);
+              constraint->choice1[0] = '\0';
+	    }
+	    else
+	    {
+	      if (constraint->option2[0] == '*')
+  	        _cups_strcpy(constraint->option2, constraint->option2 + 1);
+
+              constraint->choice2[0] = '\0';
+	    }
+	    break;
+	    
+	case 4 : /* Two options, two choices... */
+	    if (constraint->option1[0] == '*')
+	      _cups_strcpy(constraint->option1, constraint->option1 + 1);
+
+	    if (constraint->option2[0] == '*')
+  	      _cups_strcpy(constraint->option2, constraint->option2 + 1);
+	    break;
+      }
+
+      ppd_free(string);
+      string = NULL;
+    }
+    else if (!strcmp(keyword, "PaperDimension"))
+    {
+      if ((size = ppdPageSize(ppd, name)) == NULL)
+	size = ppd_add_size(ppd, name);
+
+      if (size == NULL)
+      {
+       /*
+        * Unable to add or find size!
+	*/
+
+        cg->ppd_status = PPD_ALLOC_ERROR;
+
+	goto error;
+      }
+
+      size->width  = _cupsStrScand(string, &sptr, loc);
+      size->length = _cupsStrScand(sptr, NULL, loc);
+
+      ppd_free(string);
+      string = NULL;
+    }
+    else if (!strcmp(keyword, "ImageableArea"))
+    {
+      if ((size = ppdPageSize(ppd, name)) == NULL)
+	size = ppd_add_size(ppd, name);
+
+      if (size == NULL)
+      {
+       /*
+        * Unable to add or find size!
+	*/
+
+        cg->ppd_status = PPD_ALLOC_ERROR;
+
+	goto error;
+      }
+
+      size->left   = _cupsStrScand(string, &sptr, loc);
+      size->bottom = _cupsStrScand(sptr, &sptr, loc);
+      size->right  = _cupsStrScand(sptr, &sptr, loc);
+      size->top    = _cupsStrScand(sptr, NULL, loc);
+
+      ppd_free(string);
+      string = NULL;
+    }
+    else if (option != NULL &&
+             (mask & (PPD_KEYWORD | PPD_OPTION | PPD_STRING)) ==
+	         (PPD_KEYWORD | PPD_OPTION | PPD_STRING) &&
+	     !strcmp(keyword, option->keyword))
+    {
+      DEBUG_printf(("group = %p, subgroup = %p\n", group, subgroup));
+
+      if (!strcmp(keyword, "PageSize"))
+      {
+       /*
+        * Add a page size...
+	*/
+
+        if (ppdPageSize(ppd, name) == NULL)
+	  ppd_add_size(ppd, name);
+      }
+
+     /*
+      * Add the option choice...
+      */
+
+      choice = ppd_add_choice(option, name);
+
+      if (mask & PPD_TEXT)
+        strlcpy(choice->text, text, sizeof(choice->text));
+      else if (!strcmp(name, "True"))
+        strcpy(choice->text, _("Yes"));
+      else if (!strcmp(name, "False"))
+        strcpy(choice->text, _("No"));
+      else
+        strlcpy(choice->text, name, sizeof(choice->text));
+
+      if (option->section == PPD_ORDER_JCL)
+        ppd_decode(string);		/* Decode quoted string */
+
+      choice->code = string;
+      string       = NULL;		/* Don't add as an attribute below */
+    }
+
+   /*
+    * Add remaining lines with keywords and string values as attributes...
+    */
+
+    if (string &&
+        (mask & (PPD_KEYWORD | PPD_STRING)) == (PPD_KEYWORD | PPD_STRING))
+      ppd_add_attr(ppd, keyword, name, text, string);
+    else
+      ppd_free(string);
+  }
+
+ /*
+  * Reset language preferences...
+  */
+
+  cupsLangFree(language);
+
+#ifdef DEBUG
+  if (!feof(fp))
+    printf("Premature EOF at %lu...\n", (unsigned long)ftell(fp));
+#endif /* DEBUG */
+
+  if (cg->ppd_status != PPD_OK)
+  {
+   /*
+    * Had an error reading the PPD file, cannot continue!
+    */
+
+    ppdClose(ppd);
+
+    return (NULL);
+  }
+
+ /*
+  * Create the sorted options array and set the option back-pointer for
+  * each choice and custom option...
+  */
+
+  ppd->options = cupsArrayNew((cups_array_func_t)ppd_compare_options, NULL);
+
+  for (i = ppd->num_groups, group = ppd->groups;
+       i > 0;
+       i --, group ++)
+  {
+    for (j = group->num_options, option = group->options;
+         j > 0;
+	 j --, option ++)
+    {
+      ppd_coption_t	*coption;	/* Custom option */
+
+
+      cupsArrayAdd(ppd->options, option);
+
+      for (k = 0; k < option->num_choices; k ++)
+        option->choices[k].option = option;
+
+      if ((coption = ppdFindCustomOption(ppd, option->keyword)) != NULL)
+        coption->option = option;
+    }
+  }
+
+ /*
+  * Return the PPD file structure...
+  */
+
+  return (ppd);
+
+ /*
+  * Common exit point for errors to save code size...
+  */
+
+  error:
+
+  ppd_free(string);
+
+  ppdClose(ppd);
+
+  cupsLangFree(language);
+
+  return (NULL);
+}
+
+
+/*
+ * 'ppdOpenFd()' - Read a PPD file into memory.
+ */
+
+ppd_file_t *				/* O - PPD file record */
+ppdOpenFd(int fd)			/* I - File to read from */
+{
+  cups_file_t		*fp;		/* CUPS file pointer */
+  ppd_file_t		*ppd;		/* PPD file record */
+  _cups_globals_t	*cg = _cupsGlobals();
+					/* Global data */
+
+
+ /*
+  * Set the line number to 0...
+  */
+
+  cg->ppd_line = 0;
+
+ /*
+  * Range check input...
+  */
+
+  if (fd < 0)
+  {
+    cg->ppd_status = PPD_NULL_FILE;
+
+    return (NULL);
+  }
+
+ /*
+  * Try to open the file and parse it...
+  */
+
+  if ((fp = cupsFileOpenFd(fd, "r")) != NULL)
+  {
+    ppd = ppdOpen2(fp);
+
+    cupsFileClose(fp);
+  }
+  else
+  {
+    cg->ppd_status = PPD_FILE_OPEN_ERROR;
+    ppd            = NULL;
+  }
+
+  return (ppd);
+}
+
+
+/*
+ * 'ppdOpenFile()' - Read a PPD file into memory.
+ */
+
+ppd_file_t *				/* O - PPD file record */
+ppdOpenFile(const char *filename)	/* I - File to read from */
+{
+  cups_file_t		*fp;		/* File pointer */
+  ppd_file_t		*ppd;		/* PPD file record */
+  _cups_globals_t	*cg = _cupsGlobals();
+					/* Global data */
+
+
+ /*
+  * Set the line number to 0...
+  */
+
+  cg->ppd_line = 0;
+
+ /*
+  * Range check input...
+  */
+
+  if (filename == NULL)
+  {
+    cg->ppd_status = PPD_NULL_FILE;
+
+    return (NULL);
+  }
+
+ /*
+  * Try to open the file and parse it...
+  */
+
+  if ((fp = cupsFileOpen(filename, "r")) != NULL)
+  {
+    ppd = ppdOpen2(fp);
+
+    cupsFileClose(fp);
+  }
+  else
+  {
+    cg->ppd_status = PPD_FILE_OPEN_ERROR;
+    ppd            = NULL;
+  }
+
+  return (ppd);
+}
+
+
+/*
+ * 'ppdSetConformance()' - Set the conformance level for PPD files.
+ *
+ * @since CUPS 1.1.20@
+ */
+
+void
+ppdSetConformance(ppd_conform_t c)	/* I - Conformance level */
+{
+  _cups_globals_t	*cg = _cupsGlobals();
+					/* Global data */
+
+
+  cg->ppd_conform = c;
+}
+
+
+/*
+ * 'ppd_add_attr()' - Add an attribute to the PPD data.
+ */
+
+static ppd_attr_t *			/* O - New attribute */
+ppd_add_attr(ppd_file_t *ppd,		/* I - PPD file data */
+             const char *name,		/* I - Attribute name */
+             const char *spec,		/* I - Specifier string, if any */
+	     const char *text,		/* I - Text string, if any */
+	     const char *value)		/* I - Value of attribute */
+{
+  ppd_attr_t	**ptr,			/* New array */
+		*temp;			/* New attribute */
+
+
+ /*
+  * Range check input...
+  */
+
+  if (ppd == NULL || name == NULL || spec == NULL)
+    return (NULL);
+
+ /*
+  * Create the array as needed...
+  */
+
+  if (!ppd->sorted_attrs)
+    ppd->sorted_attrs = cupsArrayNew((cups_array_func_t)ppd_compare_attrs,
+                                     NULL);
+
+ /*
+  * Allocate memory for the new attribute...
+  */
+
+  if (ppd->num_attrs == 0)
+    ptr = malloc(sizeof(ppd_attr_t *));
+  else
+    ptr = realloc(ppd->attrs, (ppd->num_attrs + 1) * sizeof(ppd_attr_t *));
+
+  if (ptr == NULL)
+    return (NULL);
+
+  ppd->attrs = ptr;
+  ptr += ppd->num_attrs;
+
+  if ((temp = calloc(1, sizeof(ppd_attr_t))) == NULL)
+    return (NULL);
+
+  *ptr = temp;
+
+  ppd->num_attrs ++;
+
+ /*
+  * Copy data over...
+  */
+
+  strlcpy(temp->name, name, sizeof(temp->name));
+  strlcpy(temp->spec, spec, sizeof(temp->spec));
+  strlcpy(temp->text, text, sizeof(temp->text));
+  temp->value = (char *)value;
+
+ /*
+  * Add the attribute to the sorted array...
+  */
+
+  cupsArrayAdd(ppd->sorted_attrs, temp);
+
+ /*
+  * Return the attribute...
+  */
+
+  return (temp);
+}
+
+
+/*
+ * 'ppd_add_choice()' - Add a choice to an option.
+ */
+
+static ppd_choice_t *			/* O - Named choice */
+ppd_add_choice(ppd_option_t *option,	/* I - Option */
+               const char   *name)	/* I - Name of choice */
+{
+  ppd_choice_t	*choice;		/* Choice */
+
+
+  if (option->num_choices == 0)
+    choice = malloc(sizeof(ppd_choice_t));
+  else
+    choice = realloc(option->choices,
+	             sizeof(ppd_choice_t) * (option->num_choices + 1));
+
+  if (choice == NULL)
+    return (NULL);
+
+  option->choices = choice;
+  choice += option->num_choices;
+  option->num_choices ++;
+
+  memset(choice, 0, sizeof(ppd_choice_t));
+  strlcpy(choice->choice, name, sizeof(choice->choice));
+
+  return (choice);
+}
+
+
+/*
+ * 'ppd_add_size()' - Add a page size.
+ */
+
+static ppd_size_t *			/* O - Named size */
+ppd_add_size(ppd_file_t *ppd,		/* I - PPD file */
+             const char *name)		/* I - Name of size */
+{
+  ppd_size_t	*size;			/* Size */
+
+
+  if (ppd->num_sizes == 0)
+    size = malloc(sizeof(ppd_size_t));
+  else
+    size = realloc(ppd->sizes, sizeof(ppd_size_t) * (ppd->num_sizes + 1));
+
+  if (size == NULL)
+    return (NULL);
+
+  ppd->sizes = size;
+  size += ppd->num_sizes;
+  ppd->num_sizes ++;
+
+  memset(size, 0, sizeof(ppd_size_t));
+  strlcpy(size->name, name, sizeof(size->name));
+
+  return (size);
+}
+
+
+/*
+ * 'ppd_compare_attrs()' - Compare two attributes.
+ */
+
+static int				/* O - Result of comparison */
+ppd_compare_attrs(ppd_attr_t *a,	/* I - First attribute */
+                  ppd_attr_t *b)	/* I - Second attribute */
+{
+  int	ret;				/* Result of comparison */
+
+
+  if ((ret = strcasecmp(a->name, b->name)) != 0)
+    return (ret);
+  else if (a->spec[0] && b->spec[0])
+    return (strcasecmp(a->spec, b->spec));
+  else
+    return (0);
+}
+
+
+/*
+ * 'ppd_compare_coptions()' - Compare two custom options.
+ */
+
+static int				/* O - Result of comparison */
+ppd_compare_coptions(ppd_coption_t *a,	/* I - First option */
+                     ppd_coption_t *b)	/* I - Second option */
+{
+  return (strcasecmp(a->keyword, b->keyword));
+}
+
+
+/*
+ * 'ppd_compare_cparams()' - Compare two custom parameters.
+ */
+
+static int				/* O - Result of comparison */
+ppd_compare_cparams(ppd_cparam_t *a,	/* I - First parameter */
+                    ppd_cparam_t *b)	/* I - Second parameter */
+{
+  return (strcasecmp(a->name, b->name));
+}
+
+
+/*
+ * 'ppd_compare_options()' - Compare two options.
+ */
+
+static int				/* O - Result of comparison */
+ppd_compare_options(ppd_option_t *a,	/* I - First option */
+                    ppd_option_t *b)	/* I - Second option */
+{
+  return (strcasecmp(a->keyword, b->keyword));
+}
+
+
+/*
+ * 'ppd_decode()' - Decode a string value...
+ */
+
+static int				/* O - Length of decoded string */
+ppd_decode(char *string)		/* I - String to decode */
+{
+  char	*inptr,				/* Input pointer */
+	*outptr;			/* Output pointer */
+
+  inptr  = string;
+  outptr = string;
+
+  while (*inptr != '\0')
+    if (*inptr == '<' && isxdigit(inptr[1] & 255))
+    {
+     /*
+      * Convert hex to 8-bit values...
+      */
+
+      inptr ++;
+      while (isxdigit(*inptr & 255))
+      {
+	if (isalpha(*inptr))
+	  *outptr = (tolower(*inptr) - 'a' + 10) << 4;
+	else
+	  *outptr = (*inptr - '0') << 4;
+
+	inptr ++;
+
+        if (!isxdigit(*inptr & 255))
+	  break;
+
+	if (isalpha(*inptr))
+	  *outptr |= tolower(*inptr) - 'a' + 10;
+	else
+	  *outptr |= *inptr - '0';
+
+	inptr ++;
+	outptr ++;
+      }
+
+      while (*inptr != '>' && *inptr != '\0')
+	inptr ++;
+      while (*inptr == '>')
+	inptr ++;
+    }
+    else
+      *outptr++ = *inptr++;
+
+  *outptr = '\0';
+
+  return ((int)(outptr - string));
+}
+
+
+/*
+ * 'ppd_free_group()' - Free a single UI group.
+ */
+
+static void
+ppd_free_group(ppd_group_t *group)	/* I - Group to free */
+{
+  int		i;			/* Looping var */
+  ppd_option_t	*option;		/* Current option */
+  ppd_group_t	*subgroup;		/* Current sub-group */
+
+
+  if (group->num_options > 0)
+  {
+    for (i = group->num_options, option = group->options;
+         i > 0;
+	 i --, option ++)
+      ppd_free_option(option);
+
+    ppd_free(group->options);
+  }
+
+  if (group->num_subgroups > 0)
+  {
+    for (i = group->num_subgroups, subgroup = group->subgroups;
+         i > 0;
+	 i --, subgroup ++)
+      ppd_free_group(subgroup);
+
+    ppd_free(group->subgroups);
+  }
+}
+
+
+/*
+ * 'ppd_free_option()' - Free a single option.
+ */
+
+static void
+ppd_free_option(ppd_option_t *option)	/* I - Option to free */
+{
+  int		i;			/* Looping var */
+  ppd_choice_t	*choice;		/* Current choice */
+
+
+  if (option->num_choices > 0)
+  {
+    for (i = option->num_choices, choice = option->choices;
+         i > 0;
+         i --, choice ++)
+    {
+      ppd_free(choice->code);
+    }
+
+    ppd_free(option->choices);
+  }
+}
+
+
+/*
+ * 'ppd_get_coption()' - Get a custom option record.
+ */
+
+static ppd_coption_t	*		/* O - Custom option... */
+ppd_get_coption(ppd_file_t *ppd,	/* I - PPD file */
+                const char *name)	/* I - Name of option */
+{
+  ppd_coption_t	*copt;			/* New custom option */
+
+
+ /*
+  * See if the option already exists...
+  */
+
+  if ((copt = ppdFindCustomOption(ppd, name)) != NULL)
+    return (copt);
+
+ /*
+  * Not found, so create the custom option record...
+  */
+
+  if ((copt = calloc(1, sizeof(ppd_coption_t))) == NULL)
+    return (NULL);
+
+  strlcpy(copt->keyword, name, sizeof(copt->keyword));
+
+  copt->params = cupsArrayNew((cups_array_func_t)ppd_compare_cparams, NULL);
+
+  cupsArrayAdd(ppd->coptions, copt);
+
+ /*
+  * Return the new record...
+  */
+
+  return (copt);
+}
+
+
+/*
+ * 'ppd_get_cparam()' - Get a custom parameter record.
+ */
+
+static ppd_cparam_t *			/* O - Extended option... */
+ppd_get_cparam(ppd_coption_t *opt,	/* I - PPD file */
+               const char    *param,	/* I - Name of parameter */
+	       const char    *text)	/* I - Human-readable text */
+{
+  ppd_cparam_t	*cparam;		/* New custom parameter */
+
+
+ /*
+  * See if the parameter already exists...
+  */
+
+  if ((cparam = ppdFindCustomParam(opt, param)) != NULL)
+    return (cparam);
+
+ /*
+  * Not found, so create the custom parameter record...
+  */
+
+  if ((cparam = calloc(1, sizeof(ppd_cparam_t))) == NULL)
+    return (NULL);
+
+  strlcpy(cparam->name, param, sizeof(cparam->name));
+  strlcpy(cparam->text, text, sizeof(cparam->text));
+
+ /*
+  * Add this record to the array...
+  */
+
+  cupsArrayAdd(opt->params, cparam);
+
+ /*
+  * Return the new record...
+  */
+
+  return (cparam);
+}
+
+
+/*
+ * 'ppd_get_group()' - Find or create the named group as needed.
+ */
+
+static ppd_group_t *			/* O - Named group */
+ppd_get_group(ppd_file_t     *ppd,	/* I - PPD file */
+              const char     *name,	/* I - Name of group */
+	      const char     *text,	/* I - Text for group */
+              _cups_globals_t *cg)	/* I - Global data */
+{
+  int		i;			/* Looping var */
+  ppd_group_t	*group;			/* Group */
+
+
+  DEBUG_printf(("ppd_get_group(ppd=%p, name=\"%s\", text=\"%s\", cg=%p)\n",
+                ppd, name, text, cg));
+
+  for (i = ppd->num_groups, group = ppd->groups; i > 0; i --, group ++)
+    if (!strcmp(group->name, name))
+      break;
+
+  if (i == 0)
+  {
+    DEBUG_printf(("Adding group %s...\n", name));
+
+    if (cg->ppd_conform == PPD_CONFORM_STRICT && strlen(text) >= sizeof(group->text))
+    {
+      cg->ppd_status = PPD_ILLEGAL_TRANSLATION;
+
+      return (NULL);
+    }
+	    
+    if (ppd->num_groups == 0)
+      group = malloc(sizeof(ppd_group_t));
+    else
+      group = realloc(ppd->groups,
+	              (ppd->num_groups + 1) * sizeof(ppd_group_t));
+
+    if (group == NULL)
+    {
+      cg->ppd_status = PPD_ALLOC_ERROR;
+
+      return (NULL);
+    }
+
+    ppd->groups = group;
+    group += ppd->num_groups;
+    ppd->num_groups ++;
+
+    memset(group, 0, sizeof(ppd_group_t));
+    strlcpy(group->name, name, sizeof(group->name));
+    strlcpy(group->text, text, sizeof(group->text));
+  }
+
+  return (group);
+}
+
+
+/*
+ * 'ppd_get_option()' - Find or create the named option as needed.
+ */
+
+static ppd_option_t *			/* O - Named option */
+ppd_get_option(ppd_group_t *group,	/* I - Group */
+               const char  *name)	/* I - Name of option */
+{
+  int		i;			/* Looping var */
+  ppd_option_t	*option;		/* Option */
+
+
+  DEBUG_printf(("ppd_get_option(group=%p(\"%s\"), name=\"%s\")\n",
+                group, group->name, name));
+
+  for (i = group->num_options, option = group->options; i > 0; i --, option ++)
+    if (!strcmp(option->keyword, name))
+      break;
+
+  if (i == 0)
+  {
+    if (group->num_options == 0)
+      option = malloc(sizeof(ppd_option_t));
+    else
+      option = realloc(group->options,
+	               (group->num_options + 1) * sizeof(ppd_option_t));
+
+    if (option == NULL)
+      return (NULL);
+
+    group->options = option;
+    option += group->num_options;
+    group->num_options ++;
+
+    memset(option, 0, sizeof(ppd_option_t));
+    strlcpy(option->keyword, name, sizeof(option->keyword));
+  }
+
+  return (option);
+}
+
+
+/*
+ * 'ppd_read()' - Read a line from a PPD file, skipping comment lines as
+ *                necessary.
+ */
+
+static int				/* O - Bitmask of fields read */
+ppd_read(cups_file_t    *fp,		/* I - File to read from */
+         char           *keyword,	/* O - Keyword from line */
+	 char           *option,	/* O - Option from line */
+         char           *text,		/* O - Human-readable text from line */
+	 char           **string,	/* O - Code/string data */
+         int            ignoreblank,	/* I - Ignore blank lines? */
+	 _cups_globals_t *cg)		/* I - Global data */
+{
+  int		ch,			/* Character from file */
+		col,			/* Column in line */
+		colon,			/* Colon seen? */
+		endquote,		/* Waiting for an end quote */
+		mask,			/* Mask to be returned */
+		startline,		/* Start line */
+		textlen;		/* Length of text */
+  char		*keyptr,		/* Keyword pointer */
+		*optptr,		/* Option pointer */
+		*textptr,		/* Text pointer */
+		*strptr,		/* Pointer into string */
+		*lineptr,		/* Current position in line buffer */
+		*line;			/* Line buffer */
+  int		linesize;		/* Current size of line buffer */
+
+ /*
+  * Range check everything...
+  */
+
+  if (!fp || !keyword || !option || !text || !string)
+    return (0);
+
+ /*
+  * Now loop until we have a valid line...
+  */
+
+  *string   = NULL;
+  col       = 0;
+  startline = cg->ppd_line + 1;
+  linesize  = 1024;
+  line      = malloc(linesize);
+
+  if (!line)
+    return (0);
+
+  do
+  {
+   /*
+    * Read the line...
+    */
+
+    lineptr  = line;
+    endquote = 0;
+    colon    = 0;
+
+    while ((ch = cupsFileGetChar(fp)) != EOF)
+    {
+      if (lineptr >= (line + linesize - 1))
+      {
+       /*
+        * Expand the line buffer...
+	*/
+
+        char *temp;			/* Temporary line pointer */
+
+
+        linesize += 1024;
+	if (linesize > 262144)
+	{
+	 /*
+	  * Don't allow lines longer than 256k!
+	  */
+
+          cg->ppd_line   = startline;
+          cg->ppd_status = PPD_LINE_TOO_LONG;
+
+	  free(line);
+
+	  return (0);
+	}
+
+        temp = realloc(line, linesize);
+	if (!temp)
+	{
+          cg->ppd_line   = startline;
+          cg->ppd_status = PPD_LINE_TOO_LONG;
+
+	  free(line);
+
+	  return (0);
+	}
+
+        lineptr = temp + (lineptr - line);
+	line    = temp;
+      }
+
+      if (ch == '\r' || ch == '\n')
+      {
+       /*
+	* Line feed or carriage return...
+	*/
+
+        cg->ppd_line ++;
+	col = 0;
+
+	if (ch == '\r')
+	{
+	 /*
+          * Check for a trailing line feed...
+	  */
+
+	  if ((ch = cupsFilePeekChar(fp)) == EOF)
+	  {
+	    ch = '\n';
+	    break;
+	  }
+
+	  if (ch == 0x0a)
+	    cupsFileGetChar(fp);
+	}
+
+	if (lineptr == line && ignoreblank)
+          continue;			/* Skip blank lines */
+
+	ch = '\n';
+
+	if (!endquote)			/* Continue for multi-line text */
+          break;
+
+	*lineptr++ = '\n';
+      }
+      else if (ch < ' ' && ch != '\t' && cg->ppd_conform == PPD_CONFORM_STRICT)
+      {
+       /*
+        * Other control characters...
+	*/
+
+        cg->ppd_line   = startline;
+        cg->ppd_status = PPD_ILLEGAL_CHARACTER;
+
+        free(line);
+
+        return (0);
+      }
+      else if (ch != 0x1a)
+      {
+       /*
+	* Any other character...
+	*/
+
+	*lineptr++ = ch;
+	col ++;
+
+	if (col > (PPD_MAX_LINE - 1))
+	{
+	 /*
+          * Line is too long...
+	  */
+
+          cg->ppd_line   = startline;
+          cg->ppd_status = PPD_LINE_TOO_LONG;
+
+          free(line);
+
+          return (0);
+	}
+
+	if (ch == ':' && strncmp(line, "*%", 2) != 0)
+	  colon = 1;
+
+	if (ch == '\"' && colon)
+	  endquote = !endquote;
+      }
+    }
+
+    if (endquote)
+    {
+     /*
+      * Didn't finish this quoted string...
+      */
+
+      while ((ch = cupsFileGetChar(fp)) != EOF)
+        if (ch == '\"')
+	  break;
+	else if (ch == '\r' || ch == '\n')
+	{
+	  cg->ppd_line ++;
+	  col = 0;
+
+	  if (ch == '\r')
+	  {
+	   /*
+            * Check for a trailing line feed...
+	    */
+
+	    if ((ch = cupsFilePeekChar(fp)) == EOF)
+	      break;
+	    if (ch == 0x0a)
+	      cupsFileGetChar(fp);
+	  }
+
+	  ch = '\n';
+	}
+	else if (ch < ' ' && ch != '\t' && cg->ppd_conform == PPD_CONFORM_STRICT)
+	{
+	 /*
+          * Other control characters...
+	  */
+
+          cg->ppd_line   = startline;
+          cg->ppd_status = PPD_ILLEGAL_CHARACTER;
+
+          free(line);
+
+          return (0);
+	}
+	else if (ch != 0x1a)
+	{
+	  col ++;
+
+	  if (col > (PPD_MAX_LINE - 1))
+	  {
+	   /*
+            * Line is too long...
+	    */
+
+            cg->ppd_line   = startline;
+            cg->ppd_status = PPD_LINE_TOO_LONG;
+
+            free(line);
+
+            return (0);
+	  }
+	}
+    }
+
+    if (ch != '\n')
+    {
+     /*
+      * Didn't finish this line...
+      */
+
+      while ((ch = cupsFileGetChar(fp)) != EOF)
+	if (ch == '\r' || ch == '\n')
+	{
+	 /*
+	  * Line feed or carriage return...
+	  */
+
+          cg->ppd_line ++;
+	  col = 0;
+
+	  if (ch == '\r')
+	  {
+	   /*
+            * Check for a trailing line feed...
+	    */
+
+	    if ((ch = cupsFilePeekChar(fp)) == EOF)
+	      break;
+	    if (ch == 0x0a)
+	      cupsFileGetChar(fp);
+	  }
+
+	  break;
+	}
+	else if (ch < ' ' && ch != '\t' && cg->ppd_conform == PPD_CONFORM_STRICT)
+	{
+	 /*
+          * Other control characters...
+	  */
+
+          cg->ppd_line   = startline;
+          cg->ppd_status = PPD_ILLEGAL_CHARACTER;
+
+          free(line);
+
+          return (0);
+	}
+	else if (ch != 0x1a)
+	{
+	  col ++;
+
+	  if (col > (PPD_MAX_LINE - 1))
+	  {
+	   /*
+            * Line is too long...
+	    */
+
+            cg->ppd_line   = startline;
+            cg->ppd_status = PPD_LINE_TOO_LONG;
+
+            free(line);
+
+            return (0);
+	  }
+	}
+    }
+
+    if (lineptr > line && lineptr[-1] == '\n')
+      lineptr --;
+
+    *lineptr = '\0';
+
+    DEBUG_printf(("LINE = \"%s\"\n", line));
+
+   /*
+    * The dynamically created PPDs for older style Mac OS X
+    * drivers include a large blob of data inserted as comments
+    * at the end of the file.  As an optimization we can stop
+    * reading the PPD when we get to the start of this data.
+    */
+
+    if (!strcmp(line, "*%APLWORKSET START"))
+    {
+      free(line);
+      return (0);
+    }
+
+    if (ch == EOF && lineptr == line)
+    {
+      free(line);
+      return (0);
+    }
+
+   /*
+    * Now parse it...
+    */
+
+    mask    = 0;
+    lineptr = line + 1;
+
+    keyword[0] = '\0';
+    option[0]  = '\0';
+    text[0]    = '\0';
+    *string    = NULL;
+
+    if ((!line[0] ||			/* Blank line */
+         !strncmp(line, "*%", 2) ||	/* Comment line */
+         !strcmp(line, "*End")) &&	/* End of multi-line string */
+        ignoreblank)			/* Ignore these? */
+    {
+      startline = cg->ppd_line + 1;
+      continue;
+    }
+
+    if (!strcmp(line, "*"))		/* (Bad) comment line */
+    {
+      if (cg->ppd_conform == PPD_CONFORM_RELAXED)
+      {
+	startline = cg->ppd_line + 1;
+	continue;
+      }
+      else
+      {
+        cg->ppd_line   = startline;
+        cg->ppd_status = PPD_ILLEGAL_MAIN_KEYWORD;
+
+        free(line);
+        return (0);
+      }
+    }
+
+    if (line[0] != '*')			/* All lines start with an asterisk */
+    {
+     /*
+      * Allow lines consisting of just whitespace...
+      */
+
+      for (lineptr = line; *lineptr; lineptr ++)
+        if (!isspace(*lineptr & 255))
+	  break;
+
+      if (*lineptr)
+      {
+        cg->ppd_status = PPD_MISSING_ASTERISK;
+        free(line);
+        return (0);
+      }
+      else if (ignoreblank)
+        continue;
+      else
+      {
+        free(line);
+        return (0);
+      }
+    }
+
+   /*
+    * Get a keyword...
+    */
+
+    keyptr = keyword;
+
+    while (*lineptr != '\0' && *lineptr != ':' && !isspace(*lineptr & 255))
+    {
+      if (*lineptr <= ' ' || *lineptr > 126 || *lineptr == '/' ||
+          (keyptr - keyword) >= (PPD_MAX_NAME - 1))
+      {
+        cg->ppd_status = PPD_ILLEGAL_MAIN_KEYWORD;
+        free(line);
+	return (0);
+      }
+
+      *keyptr++ = *lineptr++;
+    }
+
+    *keyptr = '\0';
+
+    if (!strcmp(keyword, "End"))
+      continue;
+
+    mask |= PPD_KEYWORD;
+
+/*    DEBUG_printf(("keyword = \"%s\", lineptr = \"%s\"\n", keyword, lineptr));*/
+
+    if (isspace(*lineptr & 255))
+    {
+     /*
+      * Get an option name...
+      */
+
+      while (isspace(*lineptr & 255))
+        lineptr ++;
+
+      optptr = option;
+
+      while (*lineptr != '\0' && !isspace(*lineptr & 255) && *lineptr != ':' &&
+             *lineptr != '/')
+      {
+	if (*lineptr <= ' ' || *lineptr > 126 ||
+	    (optptr - option) >= (PPD_MAX_NAME - 1))
+        {
+          cg->ppd_status = PPD_ILLEGAL_OPTION_KEYWORD;
+          free(line);
+	  return (0);
+	}
+
+        *optptr++ = *lineptr++;
+      }
+
+      *optptr = '\0';
+
+      if (isspace(*lineptr & 255) && cg->ppd_conform == PPD_CONFORM_STRICT)
+      {
+        cg->ppd_status = PPD_ILLEGAL_WHITESPACE;
+        free(line);
+	return (0);
+      }
+
+      while (isspace(*lineptr & 255))
+	lineptr ++;
+
+      mask |= PPD_OPTION;
+
+/*      DEBUG_printf(("option = \"%s\", lineptr = \"%s\"\n", option, lineptr));*/
+
+      if (*lineptr == '/')
+      {
+       /*
+        * Get human-readable text...
+	*/
+
+        lineptr ++;
+	
+	textptr = text;
+
+	while (*lineptr != '\0' && *lineptr != '\n' && *lineptr != ':')
+	{
+	  if (((unsigned char)*lineptr < ' ' && *lineptr != '\t') ||
+	      (textptr - text) >= (PPD_MAX_LINE - 1))
+	  {
+	    cg->ppd_status = PPD_ILLEGAL_TRANSLATION;
+            free(line);
+	    return (0);
+	  }
+
+	  *textptr++ = *lineptr++;
+        }
+
+	*textptr = '\0';
+	textlen  = ppd_decode(text);
+
+	if (textlen > PPD_MAX_TEXT && cg->ppd_conform == PPD_CONFORM_STRICT)
+	{
+	  cg->ppd_status = PPD_ILLEGAL_TRANSLATION;
+          free(line);
+	  return (0);
+	}
+	    
+	mask |= PPD_TEXT;
+      }
+
+/*      DEBUG_printf(("text = \"%s\", lineptr = \"%s\"\n", text, lineptr));*/
+    }
+
+    if (isspace(*lineptr & 255) && cg->ppd_conform == PPD_CONFORM_STRICT)
+    {
+      cg->ppd_status = PPD_ILLEGAL_WHITESPACE;
+      free(line);
+      return (0);
+    }
+
+    while (isspace(*lineptr & 255))
+      lineptr ++;
+
+    if (*lineptr == ':')
+    {
+     /*
+      * Get string after triming leading and trailing whitespace...
+      */
+
+      lineptr ++;
+      while (isspace(*lineptr & 255))
+        lineptr ++;
+
+      strptr = lineptr + strlen(lineptr) - 1;
+      while (strptr >= lineptr && isspace(*strptr & 255))
+        *strptr-- = '\0';
+
+      if (*strptr == '\"')
+      {
+       /*
+        * Quoted string by itself...
+	*/
+
+	*string = malloc(strlen(lineptr) + 1);
+
+	strptr = *string;
+
+	for (; *lineptr != '\0'; lineptr ++)
+	  if (*lineptr != '\"')
+	    *strptr++ = *lineptr;
+
+	*strptr = '\0';
+      }
+      else
+        *string = strdup(lineptr);
+
+/*      DEBUG_printf(("string = \"%s\", lineptr = \"%s\"\n", *string, lineptr));*/
+
+      mask |= PPD_STRING;
+    }
+  }
+  while (mask == 0);
+
+  free(line);
+
+  return (mask);
+}
+
+
+/*
+ * End of "$Id: ppd.c 5272 2006-03-10 20:18:44Z mike $".
+ */
diff -urNad cupsys-1.1.99.b2~/cups/string.c cupsys-1.1.99.b2/cups/string.c
--- cupsys-1.1.99.b2~/cups/string.c	2006-03-07 04:41:42.000000000 +0000
+++ cupsys-1.1.99.b2/cups/string.c	2006-03-15 11:04:23.000000000 +0000
@@ -343,6 +343,12 @@
 
   if (*buf == '.')
   {
+   /*
+    * Read fractional portion of number...
+    */
+
+    buf ++;
+
     if (loc && loc->decimal_point)
     {
       strlcpy(tempptr, loc->decimal_point, sizeof(temp) - (tempptr - temp));
diff -urNad cupsys-1.1.99.b2~/cups/testi18n.c cupsys-1.1.99.b2/cups/testi18n.c
--- cupsys-1.1.99.b2~/cups/testi18n.c	2006-02-27 21:05:46.000000000 +0000
+++ cupsys-1.1.99.b2/cups/testi18n.c	2006-03-15 11:04:23.000000000 +0000
@@ -48,32 +48,14 @@
 
 
 /*
- * Local Globals...
- */
-
-static const char *program_synopsis[] = /* Program help */
-{
-  "testi18n [-vh]",
-  "         -v  verbose (print each called function and result)",
-  "         -h  help (print this synopsis)",
-  "",
-  "'testi18n' is a utility to test CUPS internationalization",
-  "Copyright 1997-2005 by Easy Software Products.",
-  NULL
-};
-static int	error_count = 0;	/* Total error count */
-
-
-/*
  * Local functions...
  */
 
-static void	print_synopsis(void);
 static void	print_utf8(const char *msg, const cups_utf8_t *src);
 static void	print_utf16(const char *msg, const cups_utf16_t *src);
 static void	print_utf32(const char *msg, const cups_utf32_t *src);
-static int	test_transcode(const int verbose);
-static int	test_normalize(const int verbose);
+static int	test_transcode(void);
+static int	test_normalize(void);
 
 
 /*
@@ -84,71 +66,13 @@
 main(int  argc,				/* I - Argument Count */
      char *argv[])			/* I - Arguments */
 {
-  int		ai;			/* Argument index */
-  char		*ap;			/* Argument pointer */
-  int		verbose;		/* Verbose flag */
   int		errors;			/* Error count */
 
 
- /*
-  * Check for switches...
-  */
-
-  verbose = 0;
-
-  for (ai = 1; ai < argc; ai ++)
-  {
-    ap = argv[ai];
-    if (*ap != '-')
-      break;
-
-    for (ap ++; *ap != '\0'; ap ++)
-    {
-      switch (*ap)
-      {
-	case 'v':			/* verbose */
-	  verbose = 1;
-	  break;
-
-	case 'h':			/* help */
-	  print_synopsis();
-	  return (0);
-
-	default:
-	  print_synopsis();
-	  return (1);
-      }
-    }
-  }
-
- /*
-  * Test all internationalization modules and functions...
-  */
-
-  errors = test_transcode(verbose);
-  error_count += errors;
-  printf("\ntesti18n: %d errors found in 'transcode.c'\n", errors);
-
-  errors = test_normalize(verbose);
-  error_count += errors;
-  printf("\ntesti18n: %d errors found in 'normalize.c'\n", errors);
-
-  return (error_count > 0);
-}
-
-
-/*
- * 'print_synopsis()' - Print program synopsis (help).
- */
-
-static void
-print_synopsis(void)
-{
-  int	i;				/* Looping variable */
-
+  errors = test_transcode();
+  errors += test_normalize();
 
-  for (i = 0; program_synopsis[i]; i ++)
-    puts(program_synopsis[i]);
+  return (errors > 0);
 }
 
 
@@ -160,13 +84,13 @@
 print_utf8(const char	     *msg,	/* I - Message String */
 	   const cups_utf8_t *src)	/* I - UTF-8 Source String */
 {
-  if (msg != NULL)
+  if (msg)
     printf("%s:", msg);
 
   for (; *src; src ++)
     printf(" %02x", *src);
-  printf("\n");
-  return;
+
+  putchar('\n');
 }
 
 
@@ -178,12 +102,13 @@
 print_utf16(const char	       *msg,	/* I - Message String */
 	    const cups_utf16_t *src)	/* I - UTF-16 Source String */
 {
-  if (msg != NULL)
+  if (msg)
     printf("%s:", msg);
+
   for (; *src; src ++)
     printf(" %04x", (int) *src);
-  printf("\n");
-  return;
+
+  putchar('\n');
 }
 
 
@@ -195,12 +120,13 @@
 print_utf32(const char	       *msg,	/* I - Message String */
 	    const cups_utf32_t *src)	/* I - UTF-32 Source String */
 {
-  if (msg != NULL)
+  if (msg)
     printf("%s:", msg);
+
   for (; *src; src ++)
     printf(" %04x", (int) *src);
-  printf("\n");
-  return;
+
+  putchar('\n');
 }
 
 
@@ -209,10 +135,12 @@
  */
 
 static int				/* O - Zero or error count */
-test_transcode(const int verbose)	/* I - Verbose flag */
+test_transcode(void)
 {
   FILE		*fp;			/* File pointer */
   int		count;			/* File line counter */
+  int		status,			/* Status of current test */
+		errors;			/* Error count */
   char		line[1024];		/* File line source string */
   int		len;			/* Length (count) of string */
   char		legsrc[1024];		/* Legacy source string */
@@ -250,116 +178,187 @@
 
 
  /*
-  * Test with (inserted) and (deleted) leading BOM...
+  * Start with some conversion tests from a UTF-8 test file.
   */
 
-  if (verbose)
+  errors = 0;
+
+  if ((fp = fopen("utf8demo.txt", "r")) == NULL)
   {
-    printf("\ntesti18n: Testing 'transcode.c'...\n");
-    printf(" testing with insert/delete leading BOM...\n");
+    perror("utf8demo.txt");
+    return (1);
   }
 
  /*
-  * Test UTF-8 to UTF-32/EUC-JP on demo file...
+  * cupsUTF8ToUTF32
   */
 
-  if (verbose)
+  fputs("cupsUTF8ToUTF32: ", stdout);
+
+  for (count = 0, status = 0; fgets(line, sizeof(line), fp);)
   {
-    printf("\ntesti18n: Testing UTF-8 source 'utf8demo.txt'...\n");
-    printf(" testing UTF-8 to UTF-32...\n");
-    printf(" testing UTF-8 to EUC-JP...\n");
+    count ++;
+
+    if (cupsUTF8ToUTF32(utf32dest, (cups_utf8_t *)line, 1024) < 0)
+    {
+      printf("FAIL (UTF-8 to UTF-32 on line %d)\n", count);
+      errors ++;
+      status = 1;
+      break;
+    }
   }
 
-  if ((fp = fopen("utf8demo.txt", "r")) == NULL)
-    return (1);
+  if (!status)
+    puts("PASS");
 
-  for (count = 0;;)
-  {
-    if (fgets(line, 1024, fp) == NULL)
-      break;
+ /*
+  * cupsUTF8ToCharset
+  */
 
-    count ++;
+  fputs("cupsUTF8ToCharset: ", stdout);
 
-    len = cupsUTF8ToUTF32(utf32dest, (cups_utf8_t *)line, 1024);
-    if (len < 0)
-      printf(" error line: %d (UTF-8 to UTF-32)\n", count);
+  rewind(fp);
+
+  for (count = 0, status = 0; fgets(line, sizeof(line), fp);)
+  {
+    count ++;
 
     len = cupsUTF8ToCharset(legdest, (cups_utf8_t *)line, 1024, CUPS_EUC_JP);
     if (len < 0)
-      printf(" error line: %d (UTF-8 to EUC-JP)\n", count);
+    {
+      printf("FAIL (UTF-8 to EUC-JP on line %d)\n", count);
+      errors ++;
+      status = 1;
+      break;
+    }
   }
 
+  if (!status)
+    puts("PASS");
+
   fclose(fp);
 
-  if (verbose)
-    printf(" total lines: %d\n", count);
+ /*
+  * Test charmap load for ISO-8859-1...
+  */
+
+  fputs("cupsCharmapGet(CUPS_ISO8859_1): ", stdout);
+
+  if ((vmap = (_cups_vmap_t *)cupsCharmapGet(CUPS_ISO8859_1)) == NULL)
+  {
+    errors ++;
+    puts("FAIL");
+  }
+  else
+  {
+    puts("PASS");
+    printf("    charcount=%d, widecount=%d\n", vmap->charcount,
+           vmap->widecount);
+  }
 
  /*
-  * Test VBCS charmap load for EUC-JP...
+  * Test charmap load for Windows-932 (Shift-JIS)...
   */
 
-  if (verbose)
-    printf("\ntesti18n: Loading VBCS charmap EUC-JP (Japanese)...\n");
+  fputs("cupsCharmapGet(CUPS_WINDOWS_932): ", stdout);
 
-  vmap = (_cups_vmap_t *) cupsCharmapGet(CUPS_EUC_JP);
-  if (vmap == NULL)
-    return (1);
+  if ((vmap = (_cups_vmap_t *)cupsCharmapGet(CUPS_WINDOWS_932)) == NULL)
+  {
+    errors ++;
+    puts("FAIL");
+  }
+  else
+  {
+    puts("PASS");
+    printf("    charcount=%d, widecount=%d\n", vmap->charcount,
+           vmap->widecount);
+  }
 
-  if (verbose)
+ /*
+  * Test VBCS charmap load for EUC-JP...
+  */
+
+  fputs("cupsCharmapGet(CUPS_EUC_JP): ", stdout);
+
+  if ((vmap = (_cups_vmap_t *)cupsCharmapGet(CUPS_EUC_JP)) == NULL)
   {
-    printf(" charcount: %d\n", vmap->charcount);
-    printf(" widecount: %d\n", vmap->widecount);
+    errors ++;
+    puts("FAIL");
+  }
+  else
+  {
+    puts("PASS");
+    printf("    charcount=%d, widecount=%d\n", vmap->charcount,
+           vmap->widecount);
   }
 
  /*
   * Test VBCS charmap load for EUC-TW...
   */
 
-  if (verbose)
-    printf("\ntesti18n: Loading VBCS charmap EUC-TW (Taiwan)...\n");
-
-  vmap = (_cups_vmap_t *) cupsCharmapGet(CUPS_EUC_TW);
-  if (vmap == NULL)
-    return (1);
+  fputs("cupsCharmapGet(CUPS_EUC_TW): ", stdout);
 
-  if (verbose)
+  if ((vmap = (_cups_vmap_t *)cupsCharmapGet(CUPS_EUC_TW)) == NULL)
   {
-    printf(" charcount: %d\n", vmap->charcount);
-    printf(" widecount: %d\n", vmap->widecount);
+    errors ++;
+    puts("FAIL");
+  }
+  else
+  {
+    puts("PASS");
+    printf("    charcount=%d, widecount=%d\n", vmap->charcount,
+           vmap->widecount);
   }
 
  /*
   * Test UTF-8 to legacy charset (ISO 8859-1)...
   */
 
-  if (verbose)
-    printf("\ntesti18n: Testing UTF-8 to ISO 8859-1 (Latin1)...\n");
+  fputs("cupsUTF8ToCharset(CUPS_ISO8859_1): ", stdout);
 
   legdest[0] = 0;
 
   len = cupsUTF8ToCharset(legdest, utf8latin, 1024, CUPS_ISO8859_1);
   if (len < 0)
-    return (1);
-
-  if (verbose)
   {
-    print_utf8(" utf8latin", utf8latin);
-    print_utf8(" legdest  ", (cups_utf8_t *) legdest);
+    printf("FAIL (len=%d)\n", len);
+    errors ++;
   }
+  else
+  {
+    puts("PASS");
+    print_utf8("    utf8latin", utf8latin);
+    print_utf8("    legdest", (cups_utf8_t *)legdest);
+  }
+
+ /*
+  * cupsCharsetToUTF8
+  */
+
+  fputs("cupsCharsetToUTF8(CUPS_ISO8859_1): ", stdout);
 
   strcpy(legsrc, legdest);
 
   len = cupsCharsetToUTF8(utf8dest, legsrc, 1024, CUPS_ISO8859_1);
-
   if (len < 0)
-    return (1);
-
-  if (len != strlen ((char *) utf8latin))
-    return (1);
-
-  if (memcmp(utf8latin, utf8dest, len) != 0)
-    return (1);
+  {
+    printf("FAIL (len=%d)\n", len);
+    errors ++;
+  }
+  else if (len != strlen((char *)utf8latin))
+  {
+    printf("FAIL (len=%d, expected %d)\n", len, strlen((char *)utf8latin));
+    errors ++;
+  }
+  else if (memcmp(utf8latin, utf8dest, len))
+  {
+    puts("FAIL (results do no match)");
+    errors ++;
+  }
+  else
+    puts("PASS");
 
+#if 0
  /*
   * Test UTF-8 to Latin-1 (ISO 8859-1) with replacement...
   */
@@ -565,6 +564,7 @@
     printf("\ntesti18n: Testing cupsCharmapFlush()...\n");
   cupsCharmapFlush();
   return (0);
+#endif /* 0 */
 }
 
 
@@ -573,8 +573,9 @@
  */
 
 static int				/* O - Zero or error count */
-test_normalize(const int verbose)	/* I - Verbose flag */
+test_normalize(void)
 {
+#if 0
   FILE		*fp;			/* File pointer */
   int		count;			/* File line counter */
   char		line[1024];		/* File line source string */
@@ -782,6 +783,9 @@
   if (verbose)
     printf("\ntesti18n: Testing cupsNormalizeMapsFlush()...\n");
   cupsNormalizeMapsFlush();
+
+#endif /* 0 */
+
   return (0);
 }
 
diff -urNad cupsys-1.1.99.b2~/cups/transcode.c cupsys-1.1.99.b2/cups/transcode.c
--- cupsys-1.1.99.b2~/cups/transcode.c	2006-01-24 03:42:15.000000000 +0000
+++ cupsys-1.1.99.b2/cups/transcode.c	2006-03-15 11:04:23.000000000 +0000
@@ -29,12 +29,8 @@
  *   _cupsCharmapFlush() - Flush all character set maps out of cache.
  *   cupsUTF8ToCharset() - Convert UTF-8 to legacy character set.
  *   cupsCharsetToUTF8() - Convert legacy character set to UTF-8.
- *   cupsUTF8ToUTF16()   - Convert UTF-8 to UTF-16.
- *   cupsUTF16ToUTF8()   - Convert UTF-16 to UTF-8.
  *   cupsUTF8ToUTF32()   - Convert UTF-8 to UTF-32.
  *   cupsUTF32ToUTF8()   - Convert UTF-32 to UTF-8.
- *   cupsUTF16ToUTF32()  - Convert UTF-16 to UTF-32.
- *   cupsUTF32ToUTF16()  - Convert UTF-32 to UTF-16.
  *   get_charmap_count() - Count lines in a charmap file.
  *   get_sbcs_charmap()  - Get SBCS Charmap.
  *   get_vbcs_charmap()  - Get DBCS/VBCS Charmap.
@@ -50,6 +46,7 @@
  */
 
 #include "globals.h"
+#include "debug.h"
 #include <stdlib.h>
 #include <errno.h>
 #include <time.h>
@@ -59,31 +56,29 @@
  * Prototypes...
  */
 
-static int get_charmap_count(const char *filename);
-static _cups_cmap_t *get_sbcs_charmap(const cups_encoding_t encoding,
-				     const char *filename);
-static _cups_vmap_t *get_vbcs_charmap(const cups_encoding_t encoding,
-				     const char *filename);
-
-static int conv_utf8_to_sbcs(char *dest,
-			     const cups_utf8_t *src,
-			     const int maxout,
-			     const cups_encoding_t encoding);
-static int conv_utf8_to_vbcs(char *dest,
-			     const cups_utf8_t *src,
-			     const int maxout,
-			     const cups_encoding_t encoding);
-
-static int conv_sbcs_to_utf8(cups_utf8_t *dest,
-			     const char *src,
-			     const int maxout,
-			     const cups_encoding_t encoding);
-static int conv_vbcs_to_utf8(cups_utf8_t *dest,
-			     const char *src,
-			     const int maxout,
-			     const cups_encoding_t encoding);
+static int		get_charmap_count(const char *filename);
+static _cups_cmap_t	*get_sbcs_charmap(const cups_encoding_t encoding,
+				          const char *filename);
+static _cups_vmap_t	*get_vbcs_charmap(const cups_encoding_t encoding,
+				          const char *filename);
+static int		conv_utf8_to_sbcs(char *dest,
+					  const cups_utf8_t *src,
+					  int maxout,
+					  const cups_encoding_t encoding);
+static int		conv_utf8_to_vbcs(char *dest,
+					  const cups_utf8_t *src,
+					  int maxout,
+					  const cups_encoding_t encoding);
+static int		conv_sbcs_to_utf8(cups_utf8_t *dest,
+					  const char *src,
+					  int maxout,
+					  const cups_encoding_t encoding);
+static int		conv_vbcs_to_utf8(cups_utf8_t *dest,
+					  const char *src,
+					  int maxout,
+					  const cups_encoding_t encoding);
+static int		compare_wide(const void *k1, const void *k2);
 
-static int compare_wide(const void *k1, const void *k2);
 
 /*
  * 'cupsCharmapGet()' - Get a character set map.
@@ -98,25 +93,30 @@
 cupsCharmapGet(
     const cups_encoding_t encoding)	/* I - Encoding */
 {
-  char          mapname[80];		/* Name of charset map */
   char		filename[1024];		/* Filename for charset map file */
-  _cups_globals_t *cg = _cupsGlobals();	/* Global data */
+  _cups_globals_t *cg = _cupsGlobals(); /* Global data */
+
 
+  DEBUG_printf(("cupsCharmapGet(encoding=%d)\n", encoding));
 
  /*
   * Check for valid arguments...
   */
 
-  if ((encoding < 0) || (encoding >= CUPS_ENCODING_VBCS_END))
+  if (encoding < 0 || encoding >= CUPS_ENCODING_VBCS_END)
+  {
+    DEBUG_puts("    Bad encoding, returning NULL!");
     return (NULL);
+  }
 
  /*
   * Get the data directory and charset map name...
   */
 
-  snprintf(mapname, sizeof(mapname), "%s.txt", _cupsEncodingName(encoding));
-  snprintf(filename, sizeof(filename), "%s/charmaps/%s",
-	   cg->cups_datadir, mapname);
+  snprintf(filename, sizeof(filename), "%s/charmaps/%s.txt",
+	   cg->cups_datadir, _cupsEncodingName(encoding));
+
+  DEBUG_printf(("    filename=\"%s\"\n", filename));
 
  /*
   * Read charset map input file into cache...
@@ -130,29 +130,33 @@
     return (NULL);
 }
 
+
 /*
  * 'cupsCharmapFree()' - Free a character set map.
  *
  * This does not actually free; use 'cupsCharmapFlush()' for that.
  */
+
 void
-cupsCharmapFree(const cups_encoding_t encoding)
-					/* I - Encoding */
+cupsCharmapFree(
+    const cups_encoding_t encoding)	/* I - Encoding */
 {
-  _cups_cmap_t   *cmap;          /* Legacy SBCS / Unicode Charset Map */
-  _cups_vmap_t   *vmap;          /* Legacy VBCS / Unicode Charset Map */
-  _cups_globals_t *cg = _cupsGlobals();
-				/* Pointer to library globals */
+  _cups_cmap_t	*cmap;			/* Legacy SBCS / Unicode Charset Map */
+  _cups_vmap_t	*vmap;			/* Legacy VBCS / Unicode Charset Map */
+  _cups_globals_t *cg = _cupsGlobals(); /* Pointer to library globals */
+
 
  /*
   * See if we already have this SBCS charset map loaded...
   */
-  for (cmap = cg->cmap_cache; cmap != NULL; cmap = cmap->next)
+
+  for (cmap = cg->cmap_cache; cmap; cmap = cmap->next)
   {
     if (cmap->encoding == encoding)
     {
       if (cmap->used > 0)
 	cmap->used --;
+
       return;
     }
   }
@@ -160,7 +164,8 @@
  /*
   * See if we already have this DBCS/VBCS charset map loaded...
   */
-  for (vmap = cg->vmap_cache; vmap != NULL; vmap = vmap->next)
+
+  for (vmap = cg->vmap_cache; vmap; vmap = vmap->next)
   {
     if (vmap->encoding == encoding)
     {
@@ -169,7 +174,6 @@
       return;
     }
   }
-  return;
 }
 
 
@@ -203,42 +207,51 @@
  /*
   * Loop through SBCS charset map cache, free all memory...
   */
-  for (cmap = cg->cmap_cache; cmap != NULL; cmap = cnext)
+
+  for (cmap = cg->cmap_cache; cmap; cmap = cnext)
   {
     for (i = 0; i < 256; i ++)
     {
       if ((srow = cmap->uni2char[i]) != NULL)
 	free(srow);
     }
+
     cnext = cmap->next;
+
     free(cmap);
   }
+
   cg->cmap_cache = NULL;
 
  /*
   * Loop through DBCS/VBCS charset map cache, free all memory...
   */
-  for (vmap = cg->vmap_cache; vmap != NULL; vmap = vnext)
+
+  for (vmap = cg->vmap_cache; vmap; vmap = vnext)
   {
     for (i = 0; i < 256; i ++)
     {
       if ((crow = vmap->char2uni[i]) != NULL)
 	free(crow);
     }
+
     for (i = 0; i < 256; i ++)
     {
       if ((vrow = vmap->uni2char[i]) != NULL)
 	free(vrow);
     }
+
     if (vmap->wide2uni)
       free(vmap->wide2uni);
+
     vnext = vmap->next;
     free(vmap);
   }
+
   cg->vmap_cache = NULL;
-  return;
 }
 
+
 /*
  * 'cupsUTF8ToCharset()' - Convert UTF-8 to legacy character set.
  *
@@ -247,18 +260,25 @@
  * This code does not handle multiple-byte character sets (MBCS)
  * (such as ISO-2022-JP) with charset switching via escapes...
  */
-int                                     /* O - Count or -1 on error */
-cupsUTF8ToCharset(char *dest,           /* O - Target string */
-    const cups_utf8_t *src,             /* I - Source string */
-    const int maxout,                   /* I - Max output */
-    const cups_encoding_t encoding)     /* I - Encoding */
+
+int					/* O - Count or -1 on error */
+cupsUTF8ToCharset(
+    char		  *dest,	/* O - Target string */
+    const cups_utf8_t	  *src,		/* I - Source string */
+    const int		  maxout,	/* I - Max output */
+    const cups_encoding_t encoding)	/* I - Encoding */
 {
  /*
   * Check for valid arguments...
   */
 
   if (!dest || !src || maxout < 1 || maxout > CUPS_MAX_USTRING)
+  {
+    if (dest)
+      *dest = '\0';
+
     return (-1);
+  }
 
  /*
   * Handle identity conversions...
@@ -274,6 +294,7 @@
  /*
   * Convert input UTF-8 to legacy charset...
   */
+
   if (encoding < CUPS_ENCODING_SBCS_END)
     return (conv_utf8_to_sbcs(dest, src, maxout, encoding));
   else if (encoding < CUPS_ENCODING_VBCS_END)
@@ -282,6 +303,7 @@
     return (-1);
 }
 
+
 /*
  * 'cupsCharsetToUTF8()' - Convert legacy character set to UTF-8.
  *
@@ -290,18 +312,29 @@
  * This code does not handle multiple-byte character sets (MBCS)
  * (such as ISO-2022-JP) with charset switching via escapes...
  */
-int                                     /* O - Count or -1 on error */
-cupsCharsetToUTF8(cups_utf8_t *dest,    /* O - Target string */
-    const char *src,                    /* I - Source string */
-    const int maxout,                   /* I - Max output */
-    const cups_encoding_t encoding)     /* I - Encoding */
+
+int					/* O - Count or -1 on error */
+cupsCharsetToUTF8(
+    cups_utf8_t *dest,			/* O - Target string */
+    const char *src,			/* I - Source string */
+    const int maxout,			/* I - Max output */
+    const cups_encoding_t encoding)	/* I - Encoding */
 {
  /*
   * Check for valid arguments...
   */
 
+  DEBUG_printf(("cupsCharsetToUTF8(dest=%p, src=\"%s\", maxout=%d, encoding=%d)\n",
+	        dest, src, maxout, encoding));
+
+  if (dest)
+    *dest = '\0';
+
   if (!dest || !src || maxout < 1 || maxout > CUPS_MAX_USTRING)
+  {
+    DEBUG_puts("    Bad arguments, returning -1");
     return (-1);
+  }
 
  /*
   * Handle identity conversions...
@@ -317,89 +350,18 @@
  /*
   * Convert input legacy charset to UTF-8...
   */
+
   if (encoding < CUPS_ENCODING_SBCS_END)
     return (conv_sbcs_to_utf8(dest, src, maxout, encoding));
   else if (encoding < CUPS_ENCODING_VBCS_END)
     return (conv_vbcs_to_utf8(dest, src, maxout, encoding));
   else
+  {
+    puts("    Bad encoding, returning -1");
     return (-1);
+  }
 }
 
-/*
- * 'cupsUTF8ToUTF16()' - Convert UTF-8 to UTF-16.
- *
- * This code does not support Unicode beyond 16-bits (Plane 0)...
- */
-int                                     /* O - Count or -1 on error */
-cupsUTF8ToUTF16(cups_utf16_t *dest,     /* O - Target string */
-    const cups_utf8_t *src,             /* I - Source string */
-    const int maxout)                   /* I - Max output */
-{
-  int           worklen;        /* Internal UCS-4 string length */
-  cups_utf32_t  work[CUPS_MAX_USTRING];
-				/* Internal UCS-4 string */
-
- /*
-  * Check for valid arguments and clear output...
-  */
-  if ((dest == NULL)
-  || (src == NULL)
-  || (maxout < 1)
-  || (maxout > CUPS_MAX_USTRING))
-    return (-1);
-  *dest = 0;
-
- /*
-  * Convert input UTF-8 to internal UCS-4 (and insert BOM)...
-  */
-  worklen = cupsUTF8ToUTF32(work, src, CUPS_MAX_USTRING);
-  if (worklen < 0)
-    return (-1);
-
- /*
-  * Convert internal UCS-4 to output UTF-16...
-  */
-  worklen = cupsUTF32ToUTF16(dest, work, maxout);
-  return (worklen);
-}
-
-/*
- * 'cupsUTF16ToUTF8()' - Convert UTF-16 to UTF-8.
- *
- * This code does not support Unicode beyond 16-bits (Plane 0)...
- */
-int                                     /* O - Count or -1 on error */
-cupsUTF16ToUTF8(cups_utf8_t *dest,      /* O - Target string */
-    const cups_utf16_t *src,            /* I - Source string */
-    const int maxout)                   /* I - Max output */
-{
-  int           worklen;        /* Internal UCS-4 string length */
-  cups_utf32_t  work[CUPS_MAX_USTRING];
-				/* Internal UCS-4 string */
-
- /*
-  * Check for valid arguments and clear output...
-  */
-  if ((dest == NULL)
-  || (src == NULL)
-  || (maxout < 1)
-  || (maxout > CUPS_MAX_USTRING))
-    return (-1);
-  *dest = 0;
-
- /*
-  * Convert input UTF-16 to internal UCS-4 (and byte-swap)...
-  */
-  worklen = cupsUTF16ToUTF32(work, src, CUPS_MAX_USTRING);
-  if (worklen < 0)
-    return (-1);
-
- /*
-  * Convert internal UCS-4 to output UTF-8 (and delete BOM)...
-  */
-  worklen = cupsUTF32ToUTF8(dest, work, maxout);
-  return (worklen);
-}
 
 /*
  * 'cupsUTF8ToUTF32()' - Convert UTF-8 to UTF-32.
@@ -408,154 +370,167 @@
  *
  *   UTF-32 char     UTF-8 char(s)
  *   --------------------------------------------------
- *        0 to 127 = 0xxxxxxx (US-ASCII)
+ *	  0 to 127 = 0xxxxxxx (US-ASCII)
  *     128 to 2047 = 110xxxxx 10yyyyyy
  *   2048 to 65535 = 1110xxxx 10yyyyyy 10zzzzzz
- *         > 65535 = 11110xxx 10yyyyyy 10zzzzzz 10xxxxxx
+ *	   > 65535 = 11110xxx 10yyyyyy 10zzzzzz 10xxxxxx
  *
  * UTF-32 prohibits chars beyond Plane 16 (> 0x10ffff) in UCS-4,
  * which would convert to five- or six-octet UTF-8 sequences...
- *
- * This code does not support Unicode beyond 16-bits (Plane 0)...
  */
-int                                     /* O - Count or -1 on error */
-cupsUTF8ToUTF32(cups_utf32_t *dest,     /* O - Target string */
-    const cups_utf8_t *src,             /* I - Source string */
-    const int maxout)                   /* I - Max output */
+
+int					/* O - Count or -1 on error */
+cupsUTF8ToUTF32(
+    cups_utf32_t      *dest,		/* O - Target string */
+    const cups_utf8_t *src,		/* I - Source string */
+    const int         maxout)		/* I - Max output */
 {
-  cups_utf8_t   *first = (cups_utf8_t *) src;
-  size_t        srclen;         /* Source string length */
-  int           i;              /* Looping variable */
-  cups_utf32_t  ch;             /* Character value */
-  cups_utf32_t  next;           /* Next character value */
-  cups_utf32_t  ch32;           /* UTF-32 character value */
+  cups_utf8_t	*first;			/* First character in string */
+  size_t	srclen;			/* Source string length */
+  int		i;			/* Looping variable */
+  cups_utf32_t	ch;			/* Character value */
+  cups_utf32_t	next;			/* Next character value */
+  cups_utf32_t	ch32;			/* UTF-32 character value */
+
 
  /*
   * Check for valid arguments and clear output...
   */
-  if ((dest == NULL)
-  || (src == NULL)
-  || (maxout < 1)
-  || (maxout > CUPS_MAX_USTRING))
+
+  if (dest)
+    *dest = 0;
+
+  if (!dest || !src || maxout < 1 || maxout > CUPS_MAX_USTRING)
     return (-1);
-  *dest = 0;
 
  /*
   * Convert input UTF-8 to output UTF-32 (and insert BOM)...
   */
-  *dest = 0xfeff;
-  dest ++;
-  srclen = strlen((char *) src);
-  for (i = 1; i < (maxout - 1); src ++, dest ++)
+
+  first   = (cups_utf8_t *)src;
+  *dest++ = 0xfeff;
+  srclen  = strlen((char *)src);
+
+  for (i = maxout - 1; *src && i > 0; i --)
   {
-    ch = (cups_utf32_t) *src;
-    ch &= 0xff;
-    if (ch == 0)
-      break;
-    i ++;
+    ch = (cups_utf32_t)*src++;
 
    /*
     * Convert UTF-8 character(s) to UTF-32 character...
     */
-    if ((ch & 0x7f) == ch)
+
+    if (!(ch & 0x80))
     {
      /*
       * One-octet UTF-8 <= 127 (US-ASCII)...
       */
-      *dest = ch;
+
+      *dest++ = ch;
     }
     else if ((ch & 0xe0) == 0xc0)
     {
      /*
       * Two-octet UTF-8 <= 2047 (Latin-x)...
       */
-      src ++;
-      next = (cups_utf32_t) *src;
-      next &= 0xff;
-      if (next == 0)
+
+      next = (cups_utf32_t)*src++;
+      if (!next)
 	return (-1);
+
       ch32 = ((ch & 0x1f) << 6) | (next & 0x3f);
 
      /*
       * Check for non-shortest form (invalid UTF-8)...
       */
-      if (ch32 <= 127)
+
+      if (ch32 < 0x80)
 	return (-1);
-      *dest = ch32;
+
+      *dest++ = ch32;
     }
     else if ((ch & 0xf0) == 0xe0)
     {
      /*
       * Three-octet UTF-8 <= 65535 (Plane 0 - BMP)...
       */
-      src ++;
-      next = (cups_utf32_t) *src;
-      next &= 0xff;
-      if (next == 0)
+
+      next = (cups_utf32_t)*src++;
+      if (!next)
 	return (-1);
-      ch32 = ((ch & 0x1f) << 6) | (next & 0x3f);
-      src ++;
-      next = (cups_utf32_t) *src;
-      next &= 0xff;
-      if (next == 0)
+
+      ch32 = ((ch & 0x0f) << 6) | (next & 0x3f);
+
+      next = (cups_utf32_t)*src++;
+      if (!next)
 	return (-1);
-      ch32 = ((ch32 << 6) | (next & 0x3f));
+
+      ch32 = (ch32 << 6) | (next & 0x3f);
 
      /*
       * Check for non-shortest form (invalid UTF-8)...
       */
-      if (ch32 <= 2047)
+
+      if (ch32 < 0x800)
 	return (-1);
-      *dest = ch32;
+
+      *dest++ = ch32;
     }
     else if ((ch & 0xf8) == 0xf0)
     {
      /*
-      * Four-octet UTF-8 to Replacement Character...
+      * Four-octet UTF-8...
       */
-      if (((src - first) + 3) >= srclen)
+
+      next = (cups_utf32_t)*src++;
+      if (!next)
 	return (-1);
-      src += 3;
-      *dest = 0xfffd;
-    }
-    else if ((ch & 0xfc) == 0xf8)
-    {
-     /*
-      * Five-octet UTF-8 (invalid strict UTF-32)...
-      */
-      return (-1);
-    }
-    else if ((ch & 0xfe) == 0xfc)
-    {
+
+      ch32 = ((ch & 0x07) << 6) | (next & 0x3f);
+
+      next = (cups_utf32_t)*src++;
+      if (!next)
+	return (-1);
+
+      ch32 = (ch32 << 6) | (next & 0x3f);
+
+      next = (cups_utf32_t)*src++;
+      if (!next)
+	return (-1);
+
+      ch32 = (ch32 << 6) | (next & 0x3f);
+
      /*
-      * Six-octet UTF-8 (invalid strict UTF-32)...
+      * Check for non-shortest form (invalid UTF-8)...
       */
-      return (-1);
+
+      if (ch32 < 0x10000)
+	return (-1);
+
+      *dest++ = ch32;
     }
     else
     {
      /*
-      * More than six-octet (invalid UTF-8 sequence)...
+      * More than 4-octet (invalid UTF-8 sequence)...
       */
+
       return (-1);
     }
 
    /*
     * Check for UTF-16 surrogate (illegal UTF-8)...
     */
-    if ((*dest >= 0xd800) && (*dest <= 0xdfff))
-      return (-1);
 
-   /*
-    * Check for beyond Plane 16 (invalid UTF-8)...
-    */
-    if (*dest > 0x10ffff)
+    if (*dest >= 0xd800 && *dest <= 0xdfff)
       return (-1);
   }
+
   *dest = 0;
+
   return (i);
 }
 
+
 /*
  * 'cupsUTF32ToUTF8()' - Convert UTF-32 to UTF-8.
  *
@@ -563,379 +538,242 @@
  *
  *   UTF-32 char     UTF-8 char(s)
  *   --------------------------------------------------
- *        0 to 127 = 0xxxxxxx (US-ASCII)
+ *	  0 to 127 = 0xxxxxxx (US-ASCII)
  *     128 to 2047 = 110xxxxx 10yyyyyy
  *   2048 to 65535 = 1110xxxx 10yyyyyy 10zzzzzz
- *         > 65535 = 11110xxx 10yyyyyy 10zzzzzz 10xxxxxx
+ *	   > 65535 = 11110xxx 10yyyyyy 10zzzzzz 10xxxxxx
  *
  * UTF-32 prohibits chars beyond Plane 16 (> 0x10ffff) in UCS-4,
  * which would convert to five- or six-octet UTF-8 sequences...
- *
- * This code does not support Unicode beyond 16-bits (Plane 0)...
  */
-int                                     /* O - Count or -1 on error */
-cupsUTF32ToUTF8(cups_utf8_t *dest,      /* O - Target string */
-    const cups_utf32_t *src,            /* I - Source string */
-    const int maxout)                   /* I - Max output */
+
+int					/* O - Count or -1 on error */
+cupsUTF32ToUTF8(
+    cups_utf8_t        *dest,		/* O - Target string */
+    const cups_utf32_t *src,		/* I - Source string */
+    const int          maxout)		/* I - Max output */
 {
-  cups_utf32_t  *first = (cups_utf32_t *) src;
-				/* First source char */
-  cups_utf8_t   *start = dest;  /* Start of destination string */
-  int           i;              /* Looping variable */
-  int           swap = 0;       /* Byte-swap input to output */
-  cups_utf32_t  ch;             /* Character value */
+  cups_utf32_t	*first;			/* First source char */
+  cups_utf8_t	*start;			/* Start of destination string */
+  int		i;			/* Looping variable */
+  int		swap;			/* Byte-swap input to output */
+  cups_utf32_t	ch;			/* Character value */
+
 
  /*
   * Check for valid arguments and clear output...
   */
-  if ((dest == NULL)
-  || (src == NULL)
-  || (maxout < 1))
+
+  if (dest)
+    *dest = '\0';
+
+  if (!dest || !src || maxout < 1)
     return (-1);
-  *dest = '\0';
 
  /*
   * Check for leading BOM in UTF-32 and inverted BOM...
   */
-  if (*src == 0xfffe0000)
-    swap = 1;
+
+  first = (cups_utf32_t *)src;
+  start = dest;
+  swap  = *src == 0xfffe0000;
 
  /*
   * Convert input UTF-32 to output UTF-8...
   */
-  for (i = 0; i < (maxout - 1); src ++)
+
+  for (i = maxout - 1; *src && i > 0;)
   {
-    ch = *src;
-    if (ch == 0)
-      break;
+    ch = *src++;
 
    /*
     * Byte swap input UTF-32, if necessary...
+    * (only byte-swapping 24 of 32 bits)
     */
+
     if (swap)
       ch = ((ch >> 24) | ((ch >> 8) & 0xff00) | ((ch << 8) & 0xff0000));
 
    /*
     * Check for leading BOM (and delete from output)...
     */
-    if ((src == first) && (ch == 0xfeff))
+
+    if (src == first && ch == 0xfeff)
       continue;
 
    /*
     * Check for beyond Plane 16 (invalid UTF-32)...
     */
+
     if (ch > 0x10ffff)
       return (-1);
 
    /*
-    * Convert beyond Plane 0 (BMP) to Replacement Character...
-    */
-    if (ch > 0xffff)
-      ch = 0xfffd;
-
-   /*
     * Convert UTF-32 character to UTF-8 character(s)...
     */
-    if (ch <= 0x7f)
+
+    if (ch < 0x80)
     {
      /*
       * One-octet UTF-8 <= 127 (US-ASCII)...
       */
-      *dest = (cups_utf8_t) ch;
-      dest ++;
-      i ++;
+
+      *dest++ = (cups_utf8_t)ch;
+      i --;
     }
-    else if (ch <= 0x7ff)
+    else if (ch < 0x800)
     {
      /*
       * Two-octet UTF-8 <= 2047 (Latin-x)...
       */
-      if (i > (maxout - 2))
-	break;
-      *dest = (cups_utf8_t) (0xc0 | ((ch >> 6) & 0x1f));
-      dest ++;
-      i ++;
-      *dest = (cups_utf8_t) (0x80 | (ch & 0x3f));
-      dest ++;
-      i ++;
+
+      if (i < 2)
+        return (-1);
+
+      *dest++ = (cups_utf8_t)(0xc0 | ((ch >> 6) & 0x1f));
+      *dest++ = (cups_utf8_t)(0x80 | (ch & 0x3f));
+      i -= 2;
     }
-    else
+    else if (ch < 0x10000)
     {
      /*
       * Three-octet UTF-8 <= 65535 (Plane 0 - BMP)...
       */
-      if (i > (maxout - 3))
-	break;
-      *dest = (cups_utf8_t) (0xe0 | ((ch >> 12) & 0x0f));
-      dest ++;
-      i ++;
-      *dest = (cups_utf8_t) (0x80 | ((ch >> 6) & 0x3f));
-      dest ++;
-      i ++;
-      *dest = (cups_utf8_t) (0x80 | (ch & 0x3f));
-      dest ++;
-      i ++;
-    }
-  }
-  *dest = '\0';
-  i = (int) (dest - start);
-  return (i);
-}
-
-/*
- * 'cupsUTF16ToUTF32()' - Convert UTF-16 to UTF-32.
- *
- * This code does not support Unicode beyond 16-bits (Plane 0)...
- */
-int                                     /* O - Count or -1 on error */
-cupsUTF16ToUTF32(cups_utf32_t *dest,    /* O - Target string */
-    const cups_utf16_t *src,            /* I - Source string */
-    const int maxout)                   /* I - Max output */
-{
-  int           i;              /* Looping variable */
-  int           swap = 0;       /* Byte-swap input to output */
-  int           surrogate = 0;  /* Expecting low-half surrogate */
-  cups_utf32_t  ch;             /* Character value */
-
- /*
-  * Check for valid arguments and clear output...
-  */
-  if ((dest == NULL)
-  || (src == NULL)
-  || (maxout < 1)
-  || (maxout > CUPS_MAX_USTRING))
-    return (-1);
-  *dest = 0;
-
- /*
-  * Check for leading BOM in UTF-16 and inverted BOM...
-  */
-  if (*src == 0xfffe)
-    swap = 1;
 
- /*
-  * Convert input UTF-16 to output UTF-32...
-  */
-  for (i = 0; i < (maxout - 1); src ++)
-  {
-    ch = (cups_utf32_t) (*src & 0xffff);
-    if (ch == 0)
-      break;
-    i ++;
-
-   /*
-    * Byte swap input UTF-16, if necessary...
-    */
-    if (swap)
-      ch = (cups_utf32_t) ((ch << 8) | (ch >> 8));
+      if (i < 3)
+        return (-1);
 
-   /*
-    * Discard expected UTF-16 low-half surrogate...
-    */
-    if ((ch >= 0xdc00) && (ch <= 0xdfff))
-    {
-      if (surrogate == 0)
-	return (-1);
-      surrogate = 0;
-      continue;
+      *dest++ = (cups_utf8_t)(0xe0 | ((ch >> 12) & 0x0f));
+      *dest++ = (cups_utf8_t)(0x80 | ((ch >> 6) & 0x3f));
+      *dest++ = (cups_utf8_t)(0x80 | (ch & 0x3f));
+      i -= 3;
     }
-
-   /*
-    * Convert UTF-16 high-half surrogate to Replacement Character...
-    */
-    if ((ch >= 0xd800) && (ch <= 0xdbff))
+    else
     {
-      if (surrogate == 1)
-	return (-1);
-      surrogate = 1;
-      ch = 0xfffd;
-    }
-    *dest = ch;
-    dest ++;
-  }
-  *dest = 0;
-  return (i);
-}
-
-/*
- * 'cupsUTF32ToUTF16()' - Convert UTF-32 to UTF-16.
- *
- * This code does not support Unicode beyond 16-bits (Plane 0)...
- */
-int                                     /* O - Count or -1 on error */
-cupsUTF32ToUTF16(cups_utf16_t *dest,    /* O - Target string */
-    const cups_utf32_t *src,            /* I - Source string */
-    const int maxout)                   /* I - Max output */
-{
-  int           i;              /* Looping variable */
-  int           swap = 0;       /* Byte-swap input to output */
-  cups_utf32_t  ch;             /* Character value */
-
- /*
-  * Check for valid arguments and clear output...
-  */
-  if ((dest == NULL)
-  || (src == NULL)
-  || (maxout < 1)
-  || (maxout > CUPS_MAX_USTRING))
-    return (-1);
-  *dest = 0;
-
- /*
-  * Check for leading BOM in UTF-32 and inverted BOM...
-  */
-  if (*src == 0xfffe0000)
-    swap = 1;
-
- /*
-  * Convert input UTF-32 to output UTF-16 (w/out surrogate pairs)...
-  */
-  for (i = 0; i < (maxout - 1); src ++, dest ++)
-  {
-    ch = *src;
-    if (ch == 0)
-      break;
-    i ++;
+     /*
+      * Four-octet UTF-8...
+      */
 
-   /*
-    * Byte swap input UTF-32, if necessary...
-    */
-    if (swap)
-      ch = ((ch >> 24) | ((ch >> 8) & 0xff00) | ((ch << 8) & 0xff0000));
+      if (i < 4)
+        return (-1);
 
-   /*
-    * Check for UTF-16 surrogate (illegal UTF-32)...
-    */
-    if ((ch >= 0xd800) && (ch <= 0xdfff))
-      return (-1);
+      *dest++ = (cups_utf8_t)(0xf0 | ((ch >> 18) & 0x07));
+      *dest++ = (cups_utf8_t)(0x80 | ((ch >> 12) & 0x3f));
+      *dest++ = (cups_utf8_t)(0x80 | ((ch >> 6) & 0x3f));
+      *dest++ = (cups_utf8_t)(0x80 | (ch & 0x3f));
+      i -= 4;
+    }
+  }
 
-   /*
-    * Check for beyond Plane 16 (invalid UTF-32)...
-    */
-    if (ch > 0x10ffff)
-      return (-1);
+  *dest = '\0';
 
-   /*
-    * Convert beyond Plane 0 (BMP) to Replacement Character...
-    */
-    if (ch > 0xffff)
-      ch = 0xfffd;
-    *dest = (cups_utf16_t) ch;
-  }
-  *dest = 0;
-  return (i);
+  return ((int)(dest - start));
 }
 
+
 /*
  * 'get_charmap_count()' - Count lines in a charmap file.
  */
-static int                              /* O - Count or -1 on error */
+
+static int				/* O - Count or -1 on error */
 get_charmap_count(const char *filename) /* I - Charmap Filename */
 {
-  int           i;              /* Looping variable */
-  cups_file_t   *fp;            /* Map input file pointer */
-  char          *s;             /* Line parsing pointer */
-  char          line[256];      /* Line from input map file */
-  cups_utf32_t  unichar;        /* Unicode character value */
+  int		i;			/* Looping variable */
+  cups_file_t	*fp;			/* Map input file pointer */
+  char		line[256];		/* Line from input map file */
+  cups_utf32_t	unichar;		/* Unicode character value */
 
- /*
-  * Open map input file...
-  */
-  if ((filename == NULL) || (*filename == '\0'))
-    return (-1);
-  fp = cupsFileOpen(filename, "r");
-  if (fp == NULL)
+
+  if ((fp = cupsFileOpen(filename, "r")) == NULL)
     return (-1);
 
  /*
   * Count lines in map input file...
   */
+
   for (i = 0; i < CUPS_MAX_CHARMAP_LINES;)
   {
-    s = cupsFileGets(fp, line, sizeof(line));
-    if (s == NULL)
+    if (!cupsFileGets(fp, line, sizeof(line)))
       break;
-    if ((*s == '#') || (*s == '\n') || (*s == '\0'))
+
+    if (line[0] == '#' || !line[0])
       continue;
-    while ((*s != 0) && (*s != ' ') && (*s != '\t'))
-	s ++;
-    while ((*s == ' ') || (*s == '\t'))
-	s ++;
-    if (strncmp (s, "0x", 2) == 0)
-      s += 2;
-    if ((sscanf(s, "%lx", &unichar) != 1)
-    || (unichar > 0xffff))
+
+    unichar = strtol(line, NULL, 16);
+
+    if (unichar < 0 || unichar > 0x10ffff)
     {
       cupsFileClose(fp);
       return (-1);
     }
+
     i ++;
   }
+
   if (i == 0)
     i = -1;
 
  /*
   * Close file and return charmap count (non-comment line count)...
   */
+
   cupsFileClose(fp);
+
   return (i);
 }
 
 /*
  * 'get_sbcs_charmap()' - Get SBCS Charmap.
  */
-static _cups_cmap_t *                    /* O - Charmap or 0 on error */
-get_sbcs_charmap(const cups_encoding_t encoding,
-					/* I - Charmap Encoding */
-		 const char *filename)  /* I - Charmap Filename */
+
+static _cups_cmap_t *			 /* O - Charmap or 0 on error */
+get_sbcs_charmap(
+    const cups_encoding_t encoding,	/* I - Charmap Encoding */
+    const char *filename)		/* I - Charmap Filename */
 {
-  int           i;              /* Loop variable */
-  unsigned long legchar;        /* Legacy character value */
-  cups_utf32_t  unichar;        /* Unicode character value */
-  _cups_cmap_t   *cmap;          /* Legacy SBCS / Unicode Charset Map */
-  cups_file_t   *fp;            /* Charset map file pointer */
-  char          *s;             /* Line parsing pointer */
-  cups_ucs2_t   *crow;          /* Pointer to UCS-2 row in 'char2uni' */
-  cups_sbcs_t   *srow;          /* Pointer to SBCS row in 'uni2char' */
-  char          line[256];      /* Line from charset map file */
-  _cups_globals_t *cg = _cupsGlobals();
-				/* Pointer to library globals */
+  int		i;			/* Loop variable */
+  unsigned long legchar;		/* Legacy character value */
+  cups_utf32_t	unichar;		/* Unicode character value */
+  _cups_cmap_t	 *cmap;			/* Legacy SBCS / Unicode Charset Map */
+  cups_file_t	*fp;			/* Charset map file pointer */
+  char		*s;			/* Line parsing pointer */
+  cups_ucs2_t	*crow;			/* Pointer to UCS-2 row in 'char2uni' */
+  cups_sbcs_t	*srow;			/* Pointer to SBCS row in 'uni2char' */
+  char		line[256];		/* Line from charset map file */
+  _cups_globals_t *cg = _cupsGlobals();	/* Pointer to library globals */
 
- /*
-  * Check for valid arguments...
-  */
-  if ((encoding < 0) || (filename == NULL))
-    return (NULL);
 
  /*
   * See if we already have this SBCS charset map loaded...
   */
-  for (cmap = cg->cmap_cache; cmap != NULL; cmap = cmap->next)
+
+  for (cmap = cg->cmap_cache; cmap; cmap = cmap->next)
   {
     if (cmap->encoding == encoding)
     {
       cmap->used ++;
-      return ((void *) cmap);
+      return ((void *)cmap);
     }
   }
 
  /*
   * Open SBCS charset map input file...
   */
-  fp = cupsFileOpen(filename, "r");
-  if (fp == NULL)
+
+  if ((fp = cupsFileOpen(filename, "r")) == NULL)
     return (NULL);
 
  /*
   * Allocate memory for SBCS charset map and add to cache...
   */
-  cmap = (_cups_cmap_t *) calloc(1, sizeof(_cups_cmap_t));
-  if (cmap == NULL)
+
+  if ((cmap = (_cups_cmap_t *)calloc(1, sizeof(_cups_cmap_t))) == NULL)
   {
     cupsFileClose(fp);
     return (NULL);
   }
-  cmap->next = cg->cmap_cache;
+
+  cmap->next     = cg->cmap_cache;
   cg->cmap_cache = cmap;
   cmap->used ++;
   cmap->encoding = encoding;
@@ -943,147 +781,144 @@
  /*
   * Save SBCS charset map into memory for transcoding...
   */
+
   for (i = 0; i < CUPS_MAX_CHARMAP_LINES;)
   {
-    s = cupsFileGets(fp, line, sizeof(line));
-    if (s == NULL)
+    if (!cupsFileGets(fp, line, sizeof(line)))
       break;
-    if ((*s == '#') || (*s == '\n') || (*s == '\0'))
+
+    if (line[0] == '#' || !line[0])
       continue;
-    if (strncmp (s, "0x", 2) == 0)
-      s += 2;
-    if ((sscanf(s, "%lx", &legchar) != 1)
-    || (legchar > 0xff))
+
+    legchar = strtol(line, &s, 16);
+    if (legchar < 0 || legchar > 0xff)
     {
       cupsFileClose(fp);
       cupsCharmapFlush();
       return (NULL);
     }
-    while ((*s != 0) && (*s != ' ') && (*s != '\t'))
-      s ++;
-    while ((*s == ' ') || (*s == '\t'))
-      s ++;
-    if (strncmp (s, "0x", 2) == 0)
-      s += 2;
-    if (sscanf(s, "%lx", &unichar) != 1)
+
+    unichar = strtol(s, NULL, 16);
+    if (unichar < 0 || unichar > 0x10ffff)
     {
       cupsFileClose(fp);
       cupsCharmapFlush();
       return (NULL);
     }
-    i ++;
 
-   /*
-    * Convert beyond Plane 0 (BMP) to Replacement Character...
-    */
-    if (unichar > 0xffff)
-      unichar = 0xfffd;
+    i ++;
 
    /*
     * Save legacy to Unicode mapping in direct lookup table...
     */
-    crow = &cmap->char2uni[(int) legchar];
-    *crow = (cups_ucs2_t) (unichar & 0xffff);
+
+    crow  = cmap->char2uni + legchar;
+    *crow = (cups_ucs2_t)(unichar & 0xffff);
 
    /*
     * Save Unicode to legacy mapping in indirect lookup table...
     */
-    srow = cmap->uni2char[(int) ((unichar >> 8) & 0xff)];
-    if (srow == NULL)
+
+    srow = cmap->uni2char[(int)((unichar >> 8) & 0xff)];
+    if (!srow)
     {
-      srow = (cups_sbcs_t *) calloc(256, sizeof(cups_sbcs_t));
-      if (srow == NULL)
+      srow = (cups_sbcs_t *)calloc(256, sizeof(cups_sbcs_t));
+      if (!srow)
       {
 	cupsFileClose(fp);
 	cupsCharmapFlush();
 	return (NULL);
       }
-      cmap->uni2char[(int) ((unichar >> 8) & 0xff)] = srow;
+
+      cmap->uni2char[(int)((unichar >> 8) & 0xff)] = srow;
     }
-    srow += (int) (unichar & 0xff);
+
+    srow += (int)(unichar & 0xff);
 
    /*
     * Convert Replacement Character to visible replacement...
     */
+
     if (unichar == 0xfffd)
       legchar = (unsigned long) '?';
 
    /*
     * First (oldest) legacy character uses Unicode mapping cell...
     */
-    if (*srow == 0)
-      *srow = (cups_sbcs_t) legchar;
+
+    if (!*srow)
+      *srow = (cups_sbcs_t)legchar;
   }
+
   cupsFileClose(fp);
+
   return (cmap);
 }
 
+
 /*
  * 'get_vbcs_charmap()' - Get DBCS/VBCS Charmap.
  */
-static _cups_vmap_t *                    /* O - Charmap or 0 on error */
-get_vbcs_charmap(const cups_encoding_t encoding,
-					/* I - Charmap Encoding */
-		 const char *filename)  /* I - Charmap Filename */
+
+static _cups_vmap_t *			/* O - Charmap or 0 on error */
+get_vbcs_charmap(
+    const cups_encoding_t encoding,	/* I - Charmap Encoding */
+    const char *filename)		/* I - Charmap Filename */
 {
-  _cups_vmap_t       *vmap;      /* Legacy VBCS / Unicode Charset Map */
-  cups_ucs2_t       *crow;      /* Pointer to UCS-2 row in 'char2uni' */
-  cups_vbcs_t       *vrow;      /* Pointer to VBCS row in 'uni2char' */
-  _cups_wide2uni_t   *wide2uni;  /* Pointer to row in 'wide2uni' */
-  cups_sbcs_t       leadchar;   /* Lead char of 2-byte legacy char */
-  unsigned long     legchar;    /* Legacy character value */
-  cups_utf32_t      unichar;    /* Unicode character value */
-  int               mapcount;   /* Count of lines in charmap file */
-  cups_file_t       *fp;        /* Charset map file pointer */
-  char              *s;         /* Line parsing pointer */
-  char              line[256];  /* Line from charset map file */
-  int               i;          /* Loop variable */
-  int               wide;       /* 32-bit legacy char */
-  _cups_globals_t    *cg = _cupsGlobals();
-				/* Pointer to library globals */
+  _cups_vmap_t	*vmap;			/* Legacy VBCS / Unicode Charset Map */
+  cups_ucs2_t	*crow;			/* Pointer to UCS-2 row in 'char2uni' */
+  cups_vbcs_t	*vrow;			/* Pointer to VBCS row in 'uni2char' */
+  _cups_wide2uni_t *wide2uni;		/* Pointer to row in 'wide2uni' */
+  cups_sbcs_t	leadchar;		/* Lead char of 2-byte legacy char */
+  unsigned long	legchar;		/* Legacy character value */
+  cups_utf32_t	unichar;		/* Unicode character value */
+  int		mapcount;		/* Count of lines in charmap file */
+  cups_file_t	*fp;			/* Charset map file pointer */
+  char		*s;			/* Line parsing pointer */
+  char		line[256];		/* Line from charset map file */
+  int		i;			/* Loop variable */
+  int		wide;			/* 32-bit legacy char */
+  _cups_globals_t *cg = _cupsGlobals();	/* Pointer to library globals */
 
- /*
-  * Check for valid arguments...
-  */
-  if ((encoding < 0) || (filename == NULL))
-    return (NULL);
 
  /*
   * See if we already have this DBCS/VBCS charset map loaded...
   */
-  for (vmap = cg->vmap_cache; vmap != NULL; vmap = vmap->next)
+
+  for (vmap = cg->vmap_cache; vmap; vmap = vmap->next)
   {
     if (vmap->encoding == encoding)
     {
       vmap->used ++;
-      return ((void *) vmap);
+      return ((void *)vmap);
     }
   }
 
  /*
   * Count lines in charmap file...
   */
-  mapcount = get_charmap_count(filename);
-  if (mapcount <= 0)
+
+  if ((mapcount = get_charmap_count(filename)) <= 0)
     return (NULL);
 
  /*
   * Open VBCS charset map input file...
   */
-  fp = cupsFileOpen(filename, "r");
-  if (fp == NULL)
+
+  if ((fp = cupsFileOpen(filename, "r")) == NULL)
     return (NULL);
 
  /*
   * Allocate memory for DBCS/VBCS charset map and add to cache...
   */
-  vmap = (_cups_vmap_t *) calloc(1, sizeof(_cups_vmap_t));
-  if (vmap == NULL)
+
+  if ((vmap = (_cups_vmap_t *)calloc(1, sizeof(_cups_vmap_t))) == NULL)
   {
     cupsFileClose(fp);
     return (NULL);
   }
-  vmap->next = cg->vmap_cache;
+
+  vmap->next     = cg->vmap_cache;
   cg->vmap_cache = vmap;
   vmap->used ++;
   vmap->encoding = encoding;
@@ -1091,531 +926,516 @@
  /*
   * Save DBCS/VBCS charset map into memory for transcoding...
   */
+
   leadchar = 0;
   wide2uni = NULL;
 
   for (i = 0, wide = 0; i < mapcount; )
   {
-    s = cupsFileGets(fp, line, sizeof(line));
-    if (s == NULL)
+    if (!cupsFileGets(fp, line, sizeof(line)))
       break;
-    if ((*s == '#') || (*s == '\n') || (*s == '\0'))
+
+    if (line[0] == '#' || !line[0])
       continue;
-    if (strncmp (s, "0x", 2) == 0)
-      s += 2;
-    if ((sscanf(s, "%lx", &legchar) != 1)
-    || ((legchar > 0xffff) && (encoding < CUPS_ENCODING_DBCS_END)))
+
+    legchar = strtol(line, &s, 16);
+    if (legchar < 0 || legchar > 0xffff)
     {
       cupsFileClose(fp);
       cupsCharmapFlush();
       return (NULL);
     }
-    while ((*s != 0) && (*s != ' ') && (*s != '\t'))
-      s ++;
-    while ((*s == ' ') || (*s == '\t'))
-      s ++;
-    if (strncmp (s, "0x", 2) == 0)
-      s += 2;
-    if (sscanf(s, "%lx", &unichar) != 1)
+
+    unichar = strtol(line, &s, 16);
+    if (unichar < 0 || unichar > 0x10ffff)
     {
       cupsFileClose(fp);
       cupsCharmapFlush();
       return (NULL);
     }
-    i ++;
 
-   /*
-    * Convert beyond Plane 0 (BMP) to Replacement Character...
-    */
-    if (unichar > 0xffff)
-      unichar = 0xfffd;
+    i ++;
 
    /*
     * Save lead char of 2/3/4-byte legacy char...
     */
-    if ((legchar > 0xff) && (legchar <= 0xffff))
+
+    if (legchar > 0xff && legchar <= 0xffff)
     {
-      leadchar = (cups_sbcs_t) (legchar >> 8);
+      leadchar                  = (cups_sbcs_t)(legchar >> 8);
       vmap->lead2char[leadchar] = leadchar;
     }
-    if ((legchar > 0xffff) && (legchar <= 0xffffff))
+
+    if (legchar > 0xffff && legchar <= 0xffffff)
     {
-      leadchar = (cups_sbcs_t) (legchar >> 16);
+      leadchar                  = (cups_sbcs_t) (legchar >> 16);
       vmap->lead3char[leadchar] = leadchar;
     }
+
     if (legchar > 0xffffff)
     {
-      leadchar = (cups_sbcs_t) (legchar >> 24);
+      leadchar                  = (cups_sbcs_t)(legchar >> 24);
       vmap->lead4char[leadchar] = leadchar;
     }
 
    /*
     * Save Legacy to Unicode mapping...
     */
+
     if (legchar <= 0xffff)
     {
      /*
       * Save DBCS 16-bit to Unicode mapping in indirect lookup table...
       */
-      crow = vmap->char2uni[(int) leadchar];
-      if (crow == NULL)
+
+      crow = vmap->char2uni[(int)leadchar];
+      if (!crow)
       {
-	crow = (cups_ucs2_t *) calloc(256, sizeof(cups_ucs2_t));
-	if (crow == NULL)
+	crow = (cups_ucs2_t *)calloc(256, sizeof(cups_ucs2_t));
+	if (!crow)
 	{
 	  cupsFileClose(fp);
 	  cupsCharmapFlush();
 	  return (NULL);
 	}
-	vmap->char2uni[(int) leadchar] = crow;
+
+	vmap->char2uni[(int)leadchar] = crow;
       }
-      crow += (int) (legchar & 0xff);
-      *crow = (cups_ucs2_t) unichar;
+
+      crow[(int)(legchar & 0xff)] = (cups_ucs2_t)unichar;
     }
     else
     {
      /*
       * Save VBCS 32-bit to Unicode mapping in sorted list table...
       */
-      if (wide == 0)
+
+      if (!wide)
       {
-	wide = 1;
+	wide            = 1;
 	vmap->widecount = (mapcount - i + 1);
-	wide2uni = (_cups_wide2uni_t *)
-	  calloc(vmap->widecount, sizeof(_cups_wide2uni_t));
-	if (wide2uni == NULL)
+	wide2uni        = (_cups_wide2uni_t *)calloc(vmap->widecount,
+	                                             sizeof(_cups_wide2uni_t));
+	if (!wide2uni)
 	{
 	  cupsFileClose(fp);
 	  cupsCharmapFlush();
 	  return (NULL);
 	}
+
 	vmap->wide2uni = wide2uni;
       }
+
       wide2uni->widechar = (cups_vbcs_t) legchar;
-      wide2uni->unichar = (cups_ucs2_t)unichar;
+      wide2uni->unichar  = (cups_ucs2_t)unichar;
       wide2uni ++;
     }
 
    /*
     * Save Unicode to legacy mapping in indirect lookup table...
     */
-    vrow = vmap->uni2char[(int) ((unichar >> 8) & 0xff)];
-    if (vrow == NULL)
+
+    vrow = vmap->uni2char[(int)((unichar >> 8) & 0xff)];
+    if (!vrow)
     {
-      vrow = (cups_vbcs_t *) calloc(256, sizeof(cups_vbcs_t));
-      if (vrow == NULL)
+      vrow = (cups_vbcs_t *)calloc(256, sizeof(cups_vbcs_t));
+      if (!vrow)
       {
 	cupsFileClose(fp);
 	cupsCharmapFlush();
 	return (NULL);
       }
+
       vmap->uni2char[(int) ((unichar >> 8) & 0xff)] = vrow;
     }
-    vrow += (int) (unichar & 0xff);
+
+    vrow += (int)(unichar & 0xff);
 
    /*
     * Convert Replacement Character to visible replacement...
     */
+
     if (unichar == 0xfffd)
-      legchar = (unsigned long) '?';
+      legchar = (unsigned long)'?';
 
    /*
     * First (oldest) legacy character uses Unicode mapping cell...
     */
-    if (*vrow == 0)
-      *vrow = (cups_vbcs_t) legchar;
+
+    if (!*vrow)
+      *vrow = (cups_vbcs_t)legchar;
   }
+
   vmap->charcount = (i - vmap->widecount);
+
   cupsFileClose(fp);
+
   return (vmap);
 }
 
+
 /*
  * 'conv_utf8_to_sbcs()' - Convert UTF-8 to legacy SBCS.
  */
-static int                              /* O - Count or -1 on error */
-conv_utf8_to_sbcs(char *dest,           /* O - Target string */
-    const cups_utf8_t *src,             /* I - Source string */
-    const int maxout,                   /* I - Max output */
-    const cups_encoding_t encoding)     /* I - Encoding */
+
+static int				/* O - Count or -1 on error */
+conv_utf8_to_sbcs(
+    char                  *dest,	/* O - Target string */
+    const cups_utf8_t     *src,		/* I - Source string */
+    int                   maxout,	/* I - Max output */
+    const cups_encoding_t encoding)	/* I - Encoding */
 {
-  char          *start = dest;  /* Start of destination string */
-  _cups_cmap_t   *cmap;          /* Legacy SBCS / Unicode Charset Map */
-  cups_sbcs_t   *srow;          /* Pointer to SBCS row in 'uni2char' */
-  cups_utf32_t  unichar;        /* Character value */
-  int           worklen;        /* Internal UCS-4 string length */
-  cups_utf32_t  work[CUPS_MAX_USTRING];
-				/* Internal UCS-4 string */
-  int           i;              /* Looping variable */
+  char		*start;			/* Start of destination string */
+  _cups_cmap_t	*cmap;			/* Legacy SBCS / Unicode Charset Map */
+  cups_sbcs_t	*srow;			/* Pointer to SBCS row in 'uni2char' */
+  cups_utf32_t	unichar;		/* Character value */
+  cups_utf32_t	work[CUPS_MAX_USTRING],	/* Internal UCS-4 string */
+		*workptr;		/* Pointer into string */
 
- /*
-  * Check for valid arguments and clear output...
-  */
-  if ((dest == NULL)
-  || (src == NULL)
-  || (maxout < 1)
-  || (maxout > CUPS_MAX_USTRING)
-  || (encoding == CUPS_UTF8))
-    return (-1);
-  *dest = '\0';
 
  /*
   * Find legacy charset map in cache...
   */
-  cmap = (_cups_cmap_t *) cupsCharmapGet(encoding);
-  if (cmap == NULL)
+
+  if ((cmap = (_cups_cmap_t *) cupsCharmapGet(encoding)) == NULL)
     return (-1);
 
  /*
   * Convert input UTF-8 to internal UCS-4 (and insert BOM)...
   */
-  worklen = cupsUTF8ToUTF32(work, src, CUPS_MAX_USTRING);
-  if (worklen < 0)
+
+  if (cupsUTF8ToUTF32(work, src, CUPS_MAX_USTRING) < 0)
     return (-1);
 
  /*
   * Convert internal UCS-4 to SBCS legacy charset (and delete BOM)...
   */
-  for (i = 0; i < worklen;)
+
+  for (workptr = work, start = dest; *workptr && maxout > 1; maxout --)
   {
-    unichar = work[i];
-    if (unichar == 0)
+    unichar = *workptr++;
+    if (!unichar)
       break;
-    i ++;
 
    /*
     * Check for leading BOM (and delete from output)...
     */
-    if ((i == 1) && (unichar == 0xfeff))
+
+    if (workptr == work && unichar == 0xfeff)
       continue;
 
    /*
     * Convert ASCII verbatim (optimization)...
     */
-    if (unichar <= 0x7f)
+
+    if (unichar < 0x80)
     {
-      *dest = (char) unichar;
-      dest ++;
+      *dest++ = (char)unichar;
       continue;
     }
 
    /*
     * Convert unknown character to visible replacement...
     */
-    srow = cmap->uni2char[(int) ((unichar >> 8) & 0xff)];
+
+    srow = cmap->uni2char[(int)((unichar >> 8) & 0xff)];
+
     if (srow)
-      srow += (int) (unichar & 0xff);
-    if ((srow == NULL) || (*srow == 0))
-      *dest = '?';
+      srow += (int)(unichar & 0xff);
+
+    if (!srow || !*srow)
+      *dest++ = '?';
     else
-      *dest = (char) (*srow);
-    dest ++;
+      *dest++ = (char) (*srow);
   }
+
   *dest = '\0';
-  worklen = (int) (dest - start);
+
   cupsCharmapFree(encoding);
-  return (worklen);
+
+  return ((int)(dest - start));
 }
 
+
 /*
  * 'conv_utf8_to_vbcs()' - Convert UTF-8 to legacy DBCS/VBCS.
  */
-static int                              /* O - Count or -1 on error */
-conv_utf8_to_vbcs(char *dest,           /* O - Target string */
-    const cups_utf8_t *src,             /* I - Source string */
-    const int maxout,                   /* I - Max output */
-    const cups_encoding_t encoding)     /* I - Encoding */
+
+static int				/* O - Count or -1 on error */
+conv_utf8_to_vbcs(
+    char                  *dest,	/* O - Target string */
+    const cups_utf8_t     *src,		/* I - Source string */
+    int                   maxout,	/* I - Max output */
+    const cups_encoding_t encoding)	/* I - Encoding */
 {
-  char          *start = dest;  /* Start of destination string */
-  _cups_vmap_t   *vmap;          /* Legacy DBCS / Unicode Charset Map */
-  cups_vbcs_t   *vrow;          /* Pointer to VBCS row in 'uni2char' */
-  cups_utf32_t  unichar;        /* Character value */
-  cups_vbcs_t   legchar;        /* Legacy character value */
-  int           worklen;        /* Internal UCS-4 string length */
-  cups_utf32_t  work[CUPS_MAX_USTRING];
-				/* Internal UCS-4 string */
-  int           i;              /* Looping variable */
+  char		*start;			/* Start of destination string */
+  _cups_vmap_t	*vmap;			/* Legacy DBCS / Unicode Charset Map */
+  cups_vbcs_t	*vrow;			/* Pointer to VBCS row in 'uni2char' */
+  cups_utf32_t	unichar;		/* Character value */
+  cups_vbcs_t	legchar;		/* Legacy character value */
+  cups_utf32_t	work[CUPS_MAX_USTRING],	/* Internal UCS-4 string */
+		*workptr;		/* Pointer into string */
 
- /*
-  * Check for valid arguments and clear output...
-  */
-  if ((dest == NULL)
-  || (src == NULL)
-  || (maxout < 1)
-  || (maxout > CUPS_MAX_USTRING)
-  || (encoding == CUPS_UTF8))
-    return (-1);
-  *dest = '\0';
 
  /*
   * Find legacy charset map in cache...
   */
-  vmap = (_cups_vmap_t *) cupsCharmapGet(encoding);
-  if (vmap == NULL)
+
+  if ((vmap = (_cups_vmap_t *)cupsCharmapGet(encoding)) == NULL)
     return (-1);
 
  /*
   * Convert input UTF-8 to internal UCS-4 (and insert BOM)...
   */
-  worklen = cupsUTF8ToUTF32(work, src, CUPS_MAX_USTRING);
-  if (worklen < 0)
+
+  if (cupsUTF8ToUTF32(work, src, CUPS_MAX_USTRING) < 0)
     return (-1);
 
  /*
   * Convert internal UCS-4 to VBCS legacy charset (and delete BOM)...
   */
-  for (i = 0; i < worklen;)
+
+  for (start = dest, workptr = work; *workptr && maxout > 1; maxout --)
   {
-    unichar = work[i];
-    if (unichar == 0)
+    unichar = *workptr++;
+    if (!unichar)
       break;
-    i ++;
 
    /*
     * Check for leading BOM (and delete from output)...
     */
-    if ((i == 1) && (unichar == 0xfeff))
+
+    if (workptr == work && unichar == 0xfeff)
       continue;
 
    /*
     * Convert ASCII verbatim (optimization)...
     */
-    if (unichar <= 0x7f)
+
+    if (unichar < 0x80)
     {
-      *dest = (char) unichar;
-      dest ++;
+      *dest++ = (char)unichar;
       continue;
     }
 
    /*
     * Convert unknown character to visible replacement...
     */
-    vrow = vmap->uni2char[(int) ((unichar >> 8) & 0xff)];
+
+    vrow = vmap->uni2char[(int)((unichar >> 8) & 0xff)];
+
     if (vrow)
-      vrow += (int) (unichar & 0xff);
-    if ((vrow == NULL) || (*vrow == 0))
-      legchar = (cups_vbcs_t) '?';
+      vrow += (int)(unichar & 0xff);
+
+    if (!vrow || !*vrow)
+      legchar = (cups_vbcs_t)'?';
     else
-      legchar = (cups_vbcs_t) *vrow;
+      legchar = (cups_vbcs_t)*vrow;
 
    /*
     * Save n-byte legacy character...
     */
+
     if (legchar > 0xffffff)
     {
-      *dest = (char) ((legchar >> 24) & 0xff);
-      dest++;
+      if (maxout < 5)
+        return (-1);
+
+      *dest++ = (char)(legchar >> 24);
+      *dest++ = (char)(legchar >> 16);
+      *dest++ = (char)(legchar >> 8);
+      *dest++ = (char)legchar;
+
+      maxout -= 3;
     }
-    if (legchar > 0xffff)
+    else if (legchar > 0xffff)
     {
-      *dest = (char) ((legchar >> 16) & 0xff);
-      dest++;
+      if (maxout < 4)
+        return (-1);
+
+      *dest++ = (char)(legchar >> 16);
+      *dest++ = (char)(legchar >> 8);
+      *dest++ = (char)legchar;
+
+      maxout -= 2;
     }
-    if (legchar > 0xff)
+    else if (legchar > 0xff)
     {
-      *dest = (char) ((legchar >> 8) & 0xff);
-      dest++;
+      *dest++ = (char)(legchar >> 8);
+      *dest++ = (char)legchar;
+
+      maxout --;
     }
-    *dest = (char) (legchar & 0xff);
-    dest ++;
   }
+
   *dest = '\0';
-  worklen = (int) (dest - start);
+
   cupsCharmapFree(encoding);
-  return (worklen);
+
+  return ((int)(dest - start));
 }
 
+
 /*
  * 'conv_sbcs_to_utf8()' - Convert legacy SBCS to UTF-8.
  */
-static int                              /* O - Count or -1 on error */
-conv_sbcs_to_utf8(cups_utf8_t *dest,    /* O - Target string */
-    const char *src,                    /* I - Source string */
-    const int maxout,                   /* I - Max output */
-    const cups_encoding_t encoding)     /* I - Encoding */
+
+static int				/* O - Count or -1 on error */
+conv_sbcs_to_utf8(
+    cups_utf8_t           *dest,	/* O - Target string */
+    const char            *src,		/* I - Source string */
+    int                   maxout,	/* I - Max output */
+    const cups_encoding_t encoding)	/* I - Encoding */
 {
-  _cups_cmap_t   *cmap;          /* Legacy SBCS / Unicode Charset Map */
-  cups_ucs2_t   *crow;          /* Pointer to UCS-2 row in 'char2uni' */
-  unsigned long legchar;        /* Legacy character value */
-  cups_utf32_t  unichar;        /* Unicode character value */
-  int           worklen;        /* Internal UCS-4 string length */
-  cups_utf32_t  work[CUPS_MAX_USTRING];
-				/* Internal UCS-4 string */
-  int           i;              /* Looping variable */
+  _cups_cmap_t	*cmap;			/* Legacy SBCS / Unicode Charset Map */
+  cups_ucs2_t	*crow;			/* Pointer to UCS-2 row in 'char2uni' */
+  unsigned long legchar;		/* Legacy character value */
+  cups_utf32_t	work[CUPS_MAX_USTRING],	/* Internal UCS-4 string */
+		*workptr;		/* Pointer into string */
 
- /*
-  * Check for valid arguments and clear output...
-  */
-  if ((dest == NULL)
-  || (src == NULL)
-  || (maxout < 1)
-  || (maxout > CUPS_MAX_USTRING)
-  || (encoding == CUPS_UTF8))
-    return (-1);
-  *dest = '\0';
 
  /*
   * Find legacy charset map in cache...
   */
-  cmap = (_cups_cmap_t *) cupsCharmapGet(encoding);
-  if (cmap == NULL)
+
+  if ((cmap = (_cups_cmap_t *)cupsCharmapGet(encoding)) == NULL)
     return (-1);
 
  /*
   * Convert input legacy charset to internal UCS-4 (and insert BOM)...
   */
+
   work[0] = 0xfeff;
-  for (i = 1; i < (CUPS_MAX_USTRING - 1); src ++)
+  for (workptr = work + 1; *src && workptr < (work + CUPS_MAX_USTRING - 1);)
   {
-    if (*src == '\0')
-      break;
-    legchar = (unsigned long) *src;
+    legchar = (unsigned long)*src++;
 
    /*
     * Convert ASCII verbatim (optimization)...
     */
-    if (legchar <= 0x7f)
-    {
-      work[i] = (cups_utf32_t) legchar;
-      i ++;
-      continue;
-    }
 
-   /*
-    * Convert unknown character to Replacement Character...
-    */
-    crow = &cmap->char2uni[0];
-    crow += (int) legchar;
-    if (*crow == 0)
-      unichar = 0xfffd;
+    if (legchar < 0x80)
+      *workptr++ = (cups_utf32_t)legchar;
     else
-      unichar = (cups_utf32_t) *crow;
-    work[i] = unichar;
-    i ++;
+    {
+     /*
+      * Convert unknown character to Replacement Character...
+      */
+
+      crow = cmap->char2uni + legchar;
+
+      if (!*crow)
+	*workptr++ = 0xfffd;
+      else
+	*workptr++ = (cups_utf32_t)*crow;
+    }
   }
-  work[i] = 0;
+
+  *workptr = 0;
 
  /*
   * Convert internal UCS-4 to output UTF-8 (and delete BOM)...
   */
-  worklen = cupsUTF32ToUTF8(dest, work, maxout);
+
   cupsCharmapFree(encoding);
-  return (worklen);
+
+  return (cupsUTF32ToUTF8(dest, work, maxout));
 }
 
 
 /*
  * 'conv_vbcs_to_utf8()' - Convert legacy DBCS/VBCS to UTF-8.
  */
-static int                              /* O - Count or -1 on error */
-conv_vbcs_to_utf8(cups_utf8_t *dest,    /* O - Target string */
-    const char *src,                    /* I - Source string */
-    const int maxout,                   /* I - Max output */
-    const cups_encoding_t encoding)     /* I - Encoding */
+
+static int				/* O - Count or -1 on error */
+conv_vbcs_to_utf8(
+    cups_utf8_t           *dest,	/* O - Target string */
+    const char            *src,		/* I - Source string */
+    int                   maxout,	/* I - Max output */
+    const cups_encoding_t encoding)	/* I - Encoding */
 {
-  _cups_vmap_t       *vmap;      /* Legacy VBCS / Unicode Charset Map */
-  cups_ucs2_t       *crow;      /* Pointer to UCS-2 row in 'char2uni' */
-  _cups_wide2uni_t   *wide2uni;  /* Pointer to row in 'wide2uni' */
-  cups_sbcs_t       leadchar;   /* Lead char of n-byte legacy char */
-  cups_vbcs_t       legchar;    /* Legacy character value */
-  cups_utf32_t      unichar;    /* Unicode character value */
-  int               i;          /* Looping variable */
-  int               worklen;    /* Internal UCS-4 string length */
-  cups_utf32_t      work[CUPS_MAX_USTRING];
-				/* Internal UCS-4 string */
+  _cups_vmap_t	*vmap;			/* Legacy VBCS / Unicode Charset Map */
+  cups_ucs2_t	*crow;			/* Pointer to UCS-2 row in 'char2uni' */
+  _cups_wide2uni_t *wide2uni;		/* Pointer to row in 'wide2uni' */
+  cups_sbcs_t	leadchar;		/* Lead char of n-byte legacy char */
+  cups_vbcs_t	legchar;		/* Legacy character value */
+  cups_utf32_t	work[CUPS_MAX_USTRING],	/* Internal UCS-4 string */
+		*workptr;		/* Pointer into string */
 
- /*
-  * Check for valid arguments and clear output...
-  */
-  if ((dest == NULL)
-  || (src == NULL)
-  || (maxout < 1)
-  || (maxout > CUPS_MAX_USTRING)
-  || (encoding == CUPS_UTF8))
-    return (-1);
-  *dest = '\0';
 
  /*
   * Find legacy charset map in cache...
   */
-  vmap = (_cups_vmap_t *) cupsCharmapGet(encoding);
-  if (vmap == NULL)
+
+  if ((vmap = (_cups_vmap_t *)cupsCharmapGet(encoding)) == NULL)
     return (-1);
 
  /*
   * Convert input legacy charset to internal UCS-4 (and insert BOM)...
   */
+
   work[0] = 0xfeff;
-  for (i = 1; i < (CUPS_MAX_USTRING - 1); src ++)
+  for (workptr = work + 1; *src && workptr < (work + CUPS_MAX_USTRING - 1);)
   {
-    if (*src == '\0')
-      break;
-    legchar = (cups_vbcs_t) *src;
-    leadchar = (cups_sbcs_t) *src;
+    legchar  = (cups_vbcs_t)*src++;
+    leadchar = (cups_sbcs_t)legchar;
 
    /*
     * Convert ASCII verbatim (optimization)...
     */
-    if (legchar <= 0x7f)
+
+    if (legchar < 0x80)
     {
-      work[i] = (cups_utf32_t) legchar;
-      i ++;
+      *workptr++ = (cups_utf32_t)legchar;
       continue;
     }
 
    /*
     * Convert 2-byte legacy character...
     */
-    if (vmap->lead2char[(int) leadchar] == leadchar)
+
+    if (vmap->lead2char[(int)leadchar] == leadchar)
     {
-      src ++;
-      if (*src == '\0')
+      if (!*src)
 	return (-1);
-      legchar = (legchar << 8) | (cups_vbcs_t) *src;
+
+      legchar = (legchar << 8) | (cups_vbcs_t)*src++;
   
      /*
       * Convert unknown character to Replacement Character...
       */
-      crow = vmap->char2uni[(int) ((legchar >> 8) & 0xff)];
+
+      crow = vmap->char2uni[(int)((legchar >> 8) & 0xff)];
       if (crow)
 	crow += (int) (legchar & 0xff);
-      if ((crow == NULL) || (*crow == 0))
-	unichar = 0xfffd;
+
+      if (!crow || !*crow)
+	*workptr++ = 0xfffd;
       else
-	unichar = (cups_utf32_t) *crow;
-      work[i] = unichar;
-      i ++;
+	*workptr++ = (cups_utf32_t)*crow;
       continue;
     }
 
    /*
     * Fetch 3-byte or 4-byte legacy character...
     */
-    if (vmap->lead3char[(int) leadchar] == leadchar)
+
+    if (vmap->lead3char[(int)leadchar] == leadchar)
     {
-      src ++;
-      if (*src == '\0')
-	return (-1);
-      legchar = (legchar << 8) | (cups_vbcs_t) *src;
-      src ++;
-      if (*src == '\0')
+      if (!*src || !src[1])
 	return (-1);
-      legchar = (legchar << 8) | (cups_vbcs_t) *src;
+
+      legchar = (legchar << 8) | (cups_vbcs_t)*src++;
+      legchar = (legchar << 8) | (cups_vbcs_t)*src++;
     }
-    else if (vmap->lead4char[(int) leadchar] == leadchar)
+    else if (vmap->lead4char[(int)leadchar] == leadchar)
     {
-      src ++;
-      if (*src == '\0')
-	return (-1);
-      legchar = (legchar << 8) | (cups_vbcs_t) *src;
-      src ++;
-      if (*src == '\0')
-	return (-1);
-      legchar = (legchar << 8) | (cups_vbcs_t) *src;
-      src ++;
-      if (*src == '\0')
+      if (!*src || !src[1] || !src[2])
 	return (-1);
-      legchar = (legchar << 8) | (cups_vbcs_t) *src;
+
+      legchar = (legchar << 8) | (cups_vbcs_t)*src++;
+      legchar = (legchar << 8) | (cups_vbcs_t)*src++;
+      legchar = (legchar << 8) | (cups_vbcs_t)*src++;
     }
     else
       return (-1);
@@ -1623,8 +1443,8 @@
    /*
     * Find 3-byte or 4-byte legacy character...
     */
-    wide2uni = vmap->wide2uni;
-    wide2uni = (_cups_wide2uni_t *) bsearch(&legchar,
+
+    wide2uni = (_cups_wide2uni_t *)bsearch(&legchar,
 					   vmap->wide2uni,
 					   vmap->widecount,
 					   sizeof(_cups_wide2uni_t),
@@ -1633,45 +1453,41 @@
    /*
     * Convert unknown character to Replacement Character...
     */
-    if ((wide2uni == NULL) || (wide2uni->unichar == 0))
-      unichar = 0xfffd;
+
+    if (!wide2uni || !wide2uni->unichar)
+      *workptr++ = 0xfffd;
     else
-      unichar = wide2uni->unichar;
-    work[i] = unichar;
-    i ++;
+      *workptr++ = wide2uni->unichar;
   }
-  work[i] = 0;
+
+  *workptr = 0;
+
+  cupsCharmapFree(encoding);
 
  /*
   * Convert internal UCS-4 to output UTF-8 (and delete BOM)...
   */
-  worklen = cupsUTF32ToUTF8(dest, work, maxout);
-  cupsCharmapFree(encoding);
-  return (worklen);
+
+  return (cupsUTF32ToUTF8(dest, work, maxout));
 }
 
+
 /*
  * 'compare_wide()' - Compare key for wide (VBCS) match.
  */
+
 static int
-compare_wide(const void *k1,            /* I - Key char */
-    const void *k2)                     /* I - Map char */
+compare_wide(const void *k1,		/* I - Key char */
+             const void *k2)		/* I - Map char */
 {
-  cups_vbcs_t       *kp = (cups_vbcs_t *) k1;
-				/* Key char pointer */
-  _cups_wide2uni_t   *mp = (_cups_wide2uni_t *) k2;
-				/* Map char pointer */
-  cups_vbcs_t       key;        /* Legacy key character */
-  cups_vbcs_t       map;        /* Legacy map character */
-  int               result;     /* Result Value */
+  cups_vbcs_t	key;			/* Legacy key character */
+  cups_vbcs_t	map;			/* Legacy map character */
 
-  key = *kp;
-  map = mp->widechar;
-  if (key >= map)
-    result = (int) (key - map);
-  else
-    result = -1 * ((int) (map - key));
-  return (result);
+
+  key = *((cups_vbcs_t *)k1);
+  map = ((_cups_wide2uni_t *)k2)->widechar;
+
+  return ((int)(key - map));
 }
 
 
diff -urNad cupsys-1.1.99.b2~/cups/transcode.h cupsys-1.1.99.b2/cups/transcode.h
--- cupsys-1.1.99.b2~/cups/transcode.h	2006-01-10 20:02:46.000000000 +0000
+++ cupsys-1.1.99.b2/cups/transcode.h	2006-03-15 11:04:23.000000000 +0000
@@ -98,38 +98,17 @@
  * Prototypes...
  */
 
-/*
- * Utility functions for character set maps
- */
-extern void     *cupsCharmapGet(const cups_encoding_t encoding);
-extern void     cupsCharmapFree(const cups_encoding_t encoding);
 extern void     cupsCharmapFlush(void);
-
-/*
- * Convert UTF-8 to and from legacy character set
- */
-extern int      cupsUTF8ToCharset(char *dest,
-                                  const cups_utf8_t *src,
-                                  const int maxout,
-                                  const cups_encoding_t encoding);
+extern void     cupsCharmapFree(const cups_encoding_t encoding);
+extern void     *cupsCharmapGet(const cups_encoding_t encoding);
 extern int      cupsCharsetToUTF8(cups_utf8_t *dest,
                                   const char *src,
                                   const int maxout,
                                   const cups_encoding_t encoding);
-
-/*
- * Convert UTF-8 to and from UTF-16
- */
-extern int      cupsUTF8ToUTF16(cups_utf16_t *dest,
-                                const cups_utf8_t *src,
-                                const int maxout);
-extern int      cupsUTF16ToUTF8(cups_utf8_t *dest,
-                                const cups_utf16_t *src,
-                                const int maxout);
-
-/*
- * Convert UTF-8 to and from UTF-32
- */
+extern int      cupsUTF8ToCharset(char *dest,
+                                  const cups_utf8_t *src,
+                                  const int maxout,
+                                  const cups_encoding_t encoding);
 extern int      cupsUTF8ToUTF32(cups_utf32_t *dest,
                                 const cups_utf8_t *src,
                                 const int maxout);
@@ -137,16 +116,6 @@
                                 const cups_utf32_t *src,
                                 const int maxout);
 
-/*
- * Convert UTF-16 to and from UTF-32
- */
-extern int      cupsUTF16ToUTF32(cups_utf32_t *dest,
-                                 const cups_utf16_t *src,
-                                 const int maxout);
-extern int      cupsUTF32ToUTF16(cups_utf16_t *dest,
-                                 const cups_utf32_t *src,
-                                 const int maxout);
-
 #  ifdef __cplusplus
 }
 #  endif /* __cplusplus */
diff -urNad cupsys-1.1.99.b2~/doc/Makefile cupsys-1.1.99.b2/doc/Makefile
--- cupsys-1.1.99.b2~/doc/Makefile	2006-03-05 16:48:12.000000000 +0000
+++ cupsys-1.1.99.b2/doc/Makefile	2006-03-15 11:04:23.000000000 +0000
@@ -28,7 +28,7 @@
 # Document files...
 #
 
-LANGUAGES	=	ja
+LANGUAGES	=	es ja
 WEBPAGES	=	\
 			cups.css \
 			cups-printable.css \
diff -urNad cupsys-1.1.99.b2~/doc/es/index.html.in cupsys-1.1.99.b2/doc/es/index.html.in
--- cupsys-1.1.99.b2~/doc/es/index.html.in	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/doc/es/index.html.in	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,146 @@
+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
+<HTML>
+<HEAD>
+	<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
+	<TITLE>Inicio - CUPS @CUPS_VERSION@@CUPS_REVISION@</TITLE>
+	<LINK REL="STYLESHEET" TYPE="text/css" HREF="/cups.css">
+	<LINK REL="SHORTCUT ICON" HREF="/favicon.ico" TYPE="image/x-icon">
+</HEAD>
+<BODY>
+<TABLE WIDTH="100%" STYLE="height: 100%;" BORDER="0" CELLSPACING="0" CELLPADDING="0" SUMMARY="Common UNIX Printing System @CUPS_VERSION@">
+<TR CLASS="header">
+<TD VALIGN="TOP" WIDTH="15" ROWSPAN="2"><IMG SRC="/images/top-left.gif" WIDTH="15" HEIGHT="80" ALT=""></TD>
+<TD VALIGN="TOP" WIDTH="55" ROWSPAN="2"><IMG SRC="/images/top-middle.gif" WIDTH="55" HEIGHT="80" ALT=""></TD>
+<TD WIDTH="100%" HEIGHT="60"><H1>Common UNIX Printing System @CUPS_VERSION@@CUPS_REVISION@</H1></TD>
+<TD ALIGN="RIGHT" VALIGN="TOP" WIDTH="15" ROWSPAN="2"><IMG
+SRC="/images/top-right.gif" WIDTH="15" HEIGHT="15" ALT=""></TD>
+</TR>
+<TR CLASS="header"><TD WIDTH="100%" VALIGN="BOTTOM" NOWRAP>
+
+<A CLASS="sel" HREF="/"><IMG SRC="/images/tab-left.gif" WIDTH="4"
+HEIGHT="4" ALIGN="TOP" BORDER="0"
+ALT="">&nbsp;&nbsp;Inicio&nbsp;&nbsp;<IMG
+SRC="/images/tab-right.gif" WIDTH="4" HEIGHT="4" ALIGN="TOP"
+BORDER="0" ALT=""></A>
+
+&nbsp;<A CLASS="unsel" HREF="/admin/"><IMG SRC="/images/tab-left.gif" WIDTH="4"
+HEIGHT="4" ALIGN="TOP" BORDER="0"
+ALT="">&nbsp;&nbsp;Administraci&oacute;n&nbsp;&nbsp;<IMG
+SRC="/images/tab-right.gif" WIDTH="4" HEIGHT="4" ALIGN="TOP"
+BORDER="0" ALT=""></A>
+
+&nbsp;<A CLASS="unsel" HREF="/classes/"><IMG SRC="/images/tab-left.gif" WIDTH="4"
+HEIGHT="4" ALIGN="TOP" BORDER="0"
+ALT="">&nbsp;&nbsp;Clases&nbsp;&nbsp;<IMG
+SRC="/images/tab-right.gif" WIDTH="4" HEIGHT="4" ALIGN="TOP"
+BORDER="0" ALT=""></A>
+
+&nbsp;<A CLASS="unsel" HREF="/help/"><IMG SRC="/images/tab-left.gif" WIDTH="4"
+HEIGHT="4" ALIGN="TOP" BORDER="0"
+ALT="">&nbsp;&nbsp;Documentaci&oacute;n/Ayuda&nbsp;&nbsp;<IMG
+SRC="/images/tab-right.gif" WIDTH="4" HEIGHT="4" ALIGN="TOP"
+BORDER="0" ALT=""></A>
+
+&nbsp;<A CLASS="unsel" HREF="/jobs/"><IMG SRC="/images/tab-left.gif" WIDTH="4"
+HEIGHT="4" ALIGN="TOP" BORDER="0"
+ALT="">&nbsp;&nbsp;Trabajos&nbsp;&nbsp;<IMG
+SRC="/images/tab-right.gif" WIDTH="4" HEIGHT="4" ALIGN="TOP"
+BORDER="0" ALT=""></A>
+
+&nbsp;<A CLASS="unsel" HREF="/printers/"><IMG SRC="/images/tab-left.gif" WIDTH="4"
+HEIGHT="4" ALIGN="TOP" BORDER="0"
+ALT="">&nbsp;&nbsp;Impresoras&nbsp;&nbsp;<IMG
+SRC="/images/tab-right.gif" WIDTH="4" HEIGHT="4" ALIGN="TOP"
+BORDER="0" ALT=""></A>
+
+</TD></TR>
+<TR CLASS="page">
+<TD WIDTH="15">&nbsp;</TD>
+<TD COLSPAN="2" WIDTH="100%" VALIGN="TOP" CLASS="page">
+
+<H2 CLASS="title">&iexcl;Bienvenido!</H2>
+
+<P>Estas p&aacute;ginas web permiten monitorizar sus impresoras y trabajos
+as&iacute; como realizar tareas de administraci&oacute;n del sistema.
+Haga click en cualquiera de las pesta&ntilde;as de la parte superior o en los
+botones de la parte inferior para realizar la tarea correspondiente.</P>
+
+<P>
+<A HREF="/help/"><IMG SRC="/images/button-help.gif" CLASS="button" ALT="Ayuda"></A>
+<A HREF="/admin?OP=add-class"><IMG SRC="/images/button-add-class.gif" CLASS="button" ALT="A&ntilde;adir clase"></A>
+<A HREF="/admin?OP=add-printer"><IMG SRC="/images/button-add-printer.gif" CLASS="button" ALT="A&ntilde;adir impresora"></A>
+<A HREF="/classes"><IMG SRC="/images/button-manage-classes.gif" CLASS="button" ALT="Administrar clases"></A>
+<A HREF="/jobs"><IMG SRC="/images/button-manage-jobs.gif" CLASS="button" ALT="Administrar trabajos"></A>
+<A HREF="/printers"><IMG SRC="/images/button-manage-printers.gif" CLASS="button" ALT="Administrar impresoras"></A>
+<A HREF="/admin"><IMG SRC="/images/button-manage-server.gif" CLASS="button" ALT="Administrar servidor"></A>
+</P>
+
+<P><I>Si se le pide un nombre de usuario y contrase&ntilde;a,
+introduzca su nombre de usuario y su contrase&ntilde;a o el usuario y 
+contrase&ntilde;a de "root".</I></P>
+
+<H2 CLASS="title">Acerca de CUPS</H2>
+
+<P>
+<IMG SRC="/images/happy.gif" ALIGN="LEFT" WIDTH="196" HEIGHT="144"
+STYLE="padding-right: 10px;" ALT="Ordenador feliz e impresora">
+
+<A HREF="http://www.easysw.com/"><IMG SRC="/images/esp-logo.gif"
+ALIGN="RIGHT" WIDTH="110" HEIGHT="68" BORDER="0"
+STYLE="padding-left: 10px; padding-bottom: 10px;"
+ALT="Easy Software Products"></A>
+
+CUPS proporciona una capa de impresi&oacute;n portable 
+para sistemas operativos basados en
+UNIX<SUP>&reg;</SUP>. Est&aacute; desarrollado y mantenido
+por <A HREF="http://www.easysw.com">Easy Software
+Products</a> para favorecer una soluci&oacute;n de impresi&oacute;n
+estandar. CUPS es el sistema de impresi&oacute;n estandar usado en
+MacOS<SUP>&reg;</SUP> X y la mayor&iacute;a de distribuciones
+Linux<SUP>&reg;</SUP>.</P>
+
+<P>CUPS usa el <A HREF="http://www.pwg.org/ipp/"
+TARGET="_blank"> Protocolo de Impresi&oacute;n de Internet ("IPP")</A> como
+base para gestionar los trabajos y colas de impresi&oacute;n y a&ntilde;ade
+b&uacute;squeda de impresoras en red y opciones de impresi&oacute;n
+basadas en archivos de descripci&oacute;n de impresora PostScript ("PPD")
+para soporte de impresi&oacute;n del mundo real.<BR CLEAR="ALL"></P>
+
+<H2 CLASS="title">Para controladores de impresoras y asistencia</H2>
+
+<P>Visite la p&aacute;gina oficial de CUPS para controladores de impresoras
+y asistencia:</P>
+
+<PRE>
+    <A HREF="http://www.cups.org/" TARGET="_blank">www.cups.org</A>
+</PRE>
+
+<P>Soporte comercial y una versi&oacute;n mejorada de CUPS llamada <A
+HREF="http://www.easysw.com/printpro/">ESP Print Pro</A> est&aacute;n
+disponibles en:</P>
+
+<PRE>
+    <A HREF="http://www.easysw.com/" TARGET="_blank">www.easysw.com</A>
+</PRE>
+
+</TD>
+<TD WIDTH="15">&nbsp;</TD>
+</TR>
+<TR CLASS="header">
+<TD VALIGN="BOTTOM" WIDTH="15"><IMG SRC="/images/bottom-left.gif"
+WIDTH="15" HEIGHT="15" ALT=""></TD>
+<TD COLSPAN="2" WIDTH="100%" STYLE="padding: 5;">
+
+<P><SMALL>Common UNIX Printing System, CUPS, y el logo de CUPS son
+marcas registradas de <A HREF="http://www.easysw.com">Easy Software
+Products</A>. Los derechos de copia de CUPS 1997-2006 son de Easy Software Products,
+Todos los derechos reservados.</SMALL></P>
+
+</TD>
+
+<TD ALIGN="RIGHT" VALIGN="BOTTOM" WIDTH="15"><IMG SRC="/images/bottom-right.gif"
+WIDTH="15" HEIGHT="15" ALT=""></TD>
+</TR>
+</TABLE>
+</BODY>
+</HTML>
diff -urNad cupsys-1.1.99.b2~/filter/Makefile cupsys-1.1.99.b2/filter/Makefile
--- cupsys-1.1.99.b2~/filter/Makefile	2006-03-10 04:00:38.000000000 +0000
+++ cupsys-1.1.99.b2/filter/Makefile	2006-03-15 11:04:23.000000000 +0000
@@ -207,7 +207,7 @@
 
 libcupsimage.so.2 libcupsimage.sl.2:	$(IMAGEOBJS)
 	echo Linking $@...
-	$(DSO) $(DSOFLAGS) -o $@ $(IMAGEOBJS) $(DSOLIBS) -lm
+	$(DSO) $(ARCHFLAGS) $(DSOFLAGS) -o $@ $(IMAGEOBJS) $(DSOLIBS) -lm
 	$(RM) `basename $@ .2`
 	$(LN) $@ `basename $@ .2`
 
@@ -218,7 +218,7 @@
 
 libcupsimage.32.so.2:	$(IMAGE32OBJS)
 	echo Linking 32-bit $@...
-	$(DSO) $(C32FLAGS) $(DSOFLAGS) -o $@ $(IMAGE32OBJS) $(DSOLIBS) -lm
+	$(DSO) $(ARCH32FLAGS) $(DSOFLAGS) -o $@ $(IMAGE32OBJS) $(DSOLIBS) -lm
 
 
 #
@@ -227,7 +227,7 @@
 
 libcupsimage.64.so.2:	$(IMAGE64OBJS)
 	echo Linking 64-bit $@...
-	$(DSO) $(C64FLAGS) $(DSOFLAGS) -o $@ $(IMAGE64OBJS) $(DSOLIBS) -lm
+	$(DSO) $(ARCH64FLAGS) $(DSOFLAGS) -o $@ $(IMAGE64OBJS) $(DSOLIBS) -lm
 
 
 #
@@ -236,7 +236,7 @@
 
 libcupsimage.2.dylib:	$(IMAGEOBJS)
 	echo Linking $@...
-	$(DSO) $(DSOFLAGS) -o $@ \
+	$(DSO) $(ARCHFLAGS) $(DSOFLAGS) -o $@ \
 		-install_name $(libdir)/$@ \
 		-current_version 2.2.0 \
 		-compatibility_version 2.0.0 \
@@ -263,7 +263,7 @@
 
 libcupsimage.la:       $(IMAGEOBJS)
 	echo Linking $@...
-	$(DSO) $(DSOFLAGS) -o $@ $(IMAGEOBJS:.o=.lo) $(DSOLIBS) \
+	$(DSO) $(ARCHFLAGS) $(DSOFLAGS) -o $@ $(IMAGEOBJS:.o=.lo) $(DSOLIBS) \
 		-rpath $(LIBDIR) -version-info 2:2
 
 
diff -urNad cupsys-1.1.99.b2~/filter/rastertolabel.c cupsys-1.1.99.b2/filter/rastertolabel.c
--- cupsys-1.1.99.b2~/filter/rastertolabel.c	2006-01-12 15:12:12.000000000 +0000
+++ cupsys-1.1.99.b2/filter/rastertolabel.c	2006-03-15 11:04:23.000000000 +0000
@@ -156,7 +156,7 @@
  */
 
 void
-StartPage(ppd_file_t *ppd,		/* I - PPD file */
+StartPage(ppd_file_t         *ppd,	/* I - PPD file */
           cups_page_header_t *header)	/* I - Page header */
 {
   ppd_choice_t	*choice;		/* Marked choice */
@@ -167,6 +167,54 @@
 
 
  /*
+  * Show page device dictionary...
+  */
+
+  fprintf(stderr, "DEBUG: StartPage...\n");
+  fprintf(stderr, "DEBUG: MediaClass = \"%s\"\n", header->MediaClass);
+  fprintf(stderr, "DEBUG: MediaColor = \"%s\"\n", header->MediaColor);
+  fprintf(stderr, "DEBUG: MediaType = \"%s\"\n", header->MediaType);
+  fprintf(stderr, "DEBUG: OutputType = \"%s\"\n", header->OutputType);
+
+  fprintf(stderr, "DEBUG: AdvanceDistance = %d\n", header->AdvanceDistance);
+  fprintf(stderr, "DEBUG: AdvanceMedia = %d\n", header->AdvanceMedia);
+  fprintf(stderr, "DEBUG: Collate = %d\n", header->Collate);
+  fprintf(stderr, "DEBUG: CutMedia = %d\n", header->CutMedia);
+  fprintf(stderr, "DEBUG: Duplex = %d\n", header->Duplex);
+  fprintf(stderr, "DEBUG: HWResolution = [ %d %d ]\n", header->HWResolution[0],
+          header->HWResolution[1]);
+  fprintf(stderr, "DEBUG: ImagingBoundingBox = [ %d %d %d %d ]\n",
+          header->ImagingBoundingBox[0], header->ImagingBoundingBox[1],
+          header->ImagingBoundingBox[2], header->ImagingBoundingBox[3]);
+  fprintf(stderr, "DEBUG: InsertSheet = %d\n", header->InsertSheet);
+  fprintf(stderr, "DEBUG: Jog = %d\n", header->Jog);
+  fprintf(stderr, "DEBUG: LeadingEdge = %d\n", header->LeadingEdge);
+  fprintf(stderr, "DEBUG: Margins = [ %d %d ]\n", header->Margins[0],
+          header->Margins[1]);
+  fprintf(stderr, "DEBUG: ManualFeed = %d\n", header->ManualFeed);
+  fprintf(stderr, "DEBUG: MediaPosition = %d\n", header->MediaPosition);
+  fprintf(stderr, "DEBUG: MediaWeight = %d\n", header->MediaWeight);
+  fprintf(stderr, "DEBUG: MirrorPrint = %d\n", header->MirrorPrint);
+  fprintf(stderr, "DEBUG: NegativePrint = %d\n", header->NegativePrint);
+  fprintf(stderr, "DEBUG: NumCopies = %d\n", header->NumCopies);
+  fprintf(stderr, "DEBUG: Orientation = %d\n", header->Orientation);
+  fprintf(stderr, "DEBUG: OutputFaceUp = %d\n", header->OutputFaceUp);
+  fprintf(stderr, "DEBUG: PageSize = [ %d %d ]\n", header->PageSize[0],
+          header->PageSize[1]);
+  fprintf(stderr, "DEBUG: Separations = %d\n", header->Separations);
+  fprintf(stderr, "DEBUG: TraySwitch = %d\n", header->TraySwitch);
+  fprintf(stderr, "DEBUG: Tumble = %d\n", header->Tumble);
+  fprintf(stderr, "DEBUG: cupsWidth = %d\n", header->cupsWidth);
+  fprintf(stderr, "DEBUG: cupsHeight = %d\n", header->cupsHeight);
+  fprintf(stderr, "DEBUG: cupsMediaType = %d\n", header->cupsMediaType);
+  fprintf(stderr, "DEBUG: cupsBitsPerColor = %d\n", header->cupsBitsPerColor);
+  fprintf(stderr, "DEBUG: cupsBitsPerPixel = %d\n", header->cupsBitsPerPixel);
+  fprintf(stderr, "DEBUG: cupsBytesPerLine = %d\n", header->cupsBytesPerLine);
+  fprintf(stderr, "DEBUG: cupsColorOrder = %d\n", header->cupsColorOrder);
+  fprintf(stderr, "DEBUG: cupsColorSpace = %d\n", header->cupsColorSpace);
+  fprintf(stderr, "DEBUG: cupsCompression = %d\n", header->cupsCompression);
+
+ /*
   * Register a signal handler to eject the current page if the
   * job is canceled.
   */
diff -urNad cupsys-1.1.99.b2~/locale/Makefile cupsys-1.1.99.b2/locale/Makefile
--- cupsys-1.1.99.b2~/locale/Makefile	2006-03-05 16:48:12.000000000 +0000
+++ cupsys-1.1.99.b2/locale/Makefile	2006-03-15 11:04:23.000000000 +0000
@@ -28,7 +28,7 @@
 # Locales...
 #
 
-LANGUAGES	=	ja
+LANGUAGES	=	es ja
 
 
 #
diff -urNad cupsys-1.1.99.b2~/locale/cups.pot cupsys-1.1.99.b2/locale/cups.pot
--- cupsys-1.1.99.b2~/locale/cups.pot	2006-03-08 19:28:54.000000000 +0000
+++ cupsys-1.1.99.b2/locale/cups.pot	2006-03-15 11:04:23.000000000 +0000
@@ -29,7 +29,7 @@
 msgstr ""
 "Project-Id-Version: CUPS 1.2\n"
 "Report-Msgid-Bugs-To: http://www.cups.org/str.php\n"
-"POT-Creation-Date: 2006-03-09 19:42-0500\n"
+"POT-Creation-Date: 2006-03-13 08:39-0500\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
@@ -57,37 +57,37 @@
 #: cups/ppd.c:656 cups/ppd.c:881 cups/ppd.c:1047 cups/ppd.c:662 cups/ppd.c:996
 #: cups/ppd.c:1169 cups/ppd.c:651 cups/ppd.c:983 cups/ppd.c:1148
 #: cups/ppd.c:972 cups/ppd.c:1137 cups/ppd.c:646 cups/ppd.c:973
-#: cups/ppd.c:1138
+#: cups/ppd.c:1138 cups/ppd.c:970 cups/ppd.c:1135
 msgid "General"
 msgstr ""
 
 #: cups/ppd.c:704 cups/ppd.c:1105 cups/ppd.c:710 cups/ppd.c:1224
 #: cups/ppd.c:697 cups/ppd.c:1201 cups/ppd.c:1190 cups/ppd.c:692
-#: cups/ppd.c:1191
+#: cups/ppd.c:1191 cups/ppd.c:1188
 msgid "Media Size"
 msgstr ""
 
 #: cups/ppd.c:706 cups/ppd.c:1107 cups/ppd.c:712 cups/ppd.c:1226
 #: cups/ppd.c:699 cups/ppd.c:1203 cups/ppd.c:1192 cups/ppd.c:694
-#: cups/ppd.c:1193
+#: cups/ppd.c:1193 cups/ppd.c:1190
 msgid "Media Type"
 msgstr ""
 
 #: cups/ppd.c:708 cups/ppd.c:1109 cups/ppd.c:714 cups/ppd.c:1228
 #: cups/ppd.c:701 cups/ppd.c:1205 cups/ppd.c:1194 cups/ppd.c:696
-#: cups/ppd.c:1195
+#: cups/ppd.c:1195 cups/ppd.c:1192
 msgid "Media Source"
 msgstr ""
 
 #: cups/ppd.c:710 cups/ppd.c:1111 cups/ppd.c:716 cups/ppd.c:1230
 #: cups/ppd.c:703 cups/ppd.c:1207 cups/ppd.c:1196 cups/ppd.c:698
-#: cups/ppd.c:1197
+#: cups/ppd.c:1197 cups/ppd.c:1194
 msgid "Output Mode"
 msgstr ""
 
 #: cups/ppd.c:712 cups/ppd.c:1113 cups/ppd.c:718 cups/ppd.c:1232
 #: cups/ppd.c:705 cups/ppd.c:1209 cups/ppd.c:1198 cups/ppd.c:700
-#: cups/ppd.c:1199
+#: cups/ppd.c:1199 cups/ppd.c:1196
 msgid "Resolution"
 msgstr ""
 
@@ -96,12 +96,12 @@
 msgstr ""
 
 #: cups/ppd.c:1535 cups/ppd.c:1650 cups/ppd.c:1627 cups/ppd.c:1616
-#: cups/ppd.c:1622
+#: cups/ppd.c:1622 cups/ppd.c:1619
 msgid "Yes"
 msgstr ""
 
 #: cups/ppd.c:1537 cups/ppd.c:1652 cups/ppd.c:1629 cups/ppd.c:1618
-#: cups/ppd.c:1624
+#: cups/ppd.c:1624 cups/ppd.c:1621
 msgid "No"
 msgstr ""
 
@@ -110,12 +110,12 @@
 msgstr ""
 
 #: scheduler/client.c:2247 scheduler/client.c:2251 scheduler/client.c:2274
-#: scheduler/client.c:2308 scheduler/client.c:2349
+#: scheduler/client.c:2308 scheduler/client.c:2349 scheduler/client.c:2350
 msgid "Enter your username and password or the root username and password to access this page."
 msgstr ""
 
 #: scheduler/client.c:2252 scheduler/client.c:2256 scheduler/client.c:2279
-#: scheduler/client.c:2313 scheduler/client.c:2354
+#: scheduler/client.c:2313 scheduler/client.c:2354 scheduler/client.c:2355
 msgid "You must use a https: URL to access this page."
 msgstr ""
 
@@ -170,7 +170,11 @@
 #: scheduler/ipp.c:5326 scheduler/ipp.c:5738 scheduler/ipp.c:6046
 #: scheduler/ipp.c:6337 scheduler/ipp.c:6379 scheduler/ipp.c:7116
 #: scheduler/ipp.c:8081 scheduler/ipp.c:8745 scheduler/ipp.c:8826
-#: scheduler/ipp.c:9001
+#: scheduler/ipp.c:9001 scheduler/ipp.c:4715 scheduler/ipp.c:4958
+#: scheduler/ipp.c:5342 scheduler/ipp.c:5754 scheduler/ipp.c:6062
+#: scheduler/ipp.c:6353 scheduler/ipp.c:6395 scheduler/ipp.c:7132
+#: scheduler/ipp.c:8097 scheduler/ipp.c:8761 scheduler/ipp.c:8842
+#: scheduler/ipp.c:9017
 msgid "The printer or class was not found."
 msgstr ""
 
@@ -215,21 +219,21 @@
 
 #: scheduler/ipp.c:1290 scheduler/ipp.c:4501 scheduler/ipp.c:1316
 #: scheduler/ipp.c:4705 scheduler/ipp.c:1348 scheduler/ipp.c:4804
-#: scheduler/ipp.c:1810 scheduler/ipp.c:4773
+#: scheduler/ipp.c:1810 scheduler/ipp.c:4773 scheduler/ipp.c:4789
 #, c-format
 msgid "Character set \"%s\" not supported!"
 msgstr ""
 
 #: scheduler/ipp.c:1299 scheduler/ipp.c:4510 scheduler/ipp.c:1325
 #: scheduler/ipp.c:4714 scheduler/ipp.c:1357 scheduler/ipp.c:4813
-#: scheduler/ipp.c:1819 scheduler/ipp.c:4782
+#: scheduler/ipp.c:1819 scheduler/ipp.c:4782 scheduler/ipp.c:4798
 #, c-format
 msgid "Language \"%s\" not supported!"
 msgstr ""
 
 #: scheduler/ipp.c:1309 scheduler/ipp.c:4520 scheduler/ipp.c:1335
 #: scheduler/ipp.c:4724 scheduler/ipp.c:1367 scheduler/ipp.c:4823
-#: scheduler/ipp.c:1829 scheduler/ipp.c:4792
+#: scheduler/ipp.c:1829 scheduler/ipp.c:4792 scheduler/ipp.c:4808
 #, c-format
 msgid "The notify-user-data value is too large (%d > 63 octets)!"
 msgstr ""
@@ -275,13 +279,13 @@
 msgstr ""
 
 #: scheduler/ipp.c:1762 scheduler/ipp.c:1800 scheduler/ipp.c:1842
-#: scheduler/ipp.c:8585
+#: scheduler/ipp.c:8585 scheduler/ipp.c:8601
 #, c-format
 msgid "Unknown printer-op-policy \"%s\"."
 msgstr ""
 
 #: scheduler/ipp.c:1775 scheduler/ipp.c:1813 scheduler/ipp.c:1855
-#: scheduler/ipp.c:8600
+#: scheduler/ipp.c:8600 scheduler/ipp.c:8616
 #, c-format
 msgid "Unknown printer-error-policy \"%s\"."
 msgstr ""
@@ -314,6 +318,8 @@
 #: scheduler/ipp.c:8672 scheduler/ipp.c:2613 scheduler/ipp.c:2906
 #: scheduler/ipp.c:5189 scheduler/ipp.c:6179 scheduler/ipp.c:7203
 #: scheduler/ipp.c:7418 scheduler/ipp.c:7657 scheduler/ipp.c:8164
+#: scheduler/ipp.c:5205 scheduler/ipp.c:6195 scheduler/ipp.c:7219
+#: scheduler/ipp.c:7434 scheduler/ipp.c:7673 scheduler/ipp.c:8180
 msgid "Got a printer-uri attribute but no job-id!"
 msgstr ""
 
@@ -329,6 +335,9 @@
 #: scheduler/ipp.c:2635 scheduler/ipp.c:2978 scheduler/ipp.c:5212
 #: scheduler/ipp.c:6202 scheduler/ipp.c:6425 scheduler/ipp.c:7226
 #: scheduler/ipp.c:7441 scheduler/ipp.c:7680 scheduler/ipp.c:8187
+#: scheduler/ipp.c:5228 scheduler/ipp.c:6218 scheduler/ipp.c:6441
+#: scheduler/ipp.c:7242 scheduler/ipp.c:7457 scheduler/ipp.c:7696
+#: scheduler/ipp.c:8203
 #, c-format
 msgid "Bad job-uri attribute \"%s\"!"
 msgstr ""
@@ -429,51 +438,52 @@
 msgstr ""
 
 #: scheduler/ipp.c:4469 scheduler/ipp.c:4673 scheduler/ipp.c:4770
-#: scheduler/ipp.c:4739
+#: scheduler/ipp.c:4739 scheduler/ipp.c:4755
 msgid "No subscription attributes in request!"
 msgstr ""
 
 #: scheduler/ipp.c:4559 scheduler/ipp.c:4763 scheduler/ipp.c:4869
-#: scheduler/ipp.c:4838
+#: scheduler/ipp.c:4838 scheduler/ipp.c:4854
 msgid "notify-events not specified!"
 msgstr ""
 
 #: scheduler/ipp.c:4577 scheduler/ipp.c:4781 scheduler/ipp.c:4887
-#: scheduler/ipp.c:4856
+#: scheduler/ipp.c:4856 scheduler/ipp.c:4872
 #, c-format
 msgid "Job %d not found!"
 msgstr ""
 
 #: scheduler/ipp.c:4827 scheduler/ipp.c:4957 scheduler/ipp.c:5075
-#: scheduler/ipp.c:5044
+#: scheduler/ipp.c:5044 scheduler/ipp.c:5060
 msgid "No default printer"
 msgstr ""
 
 #: scheduler/ipp.c:4930 scheduler/ipp.c:5060 scheduler/ipp.c:5178
-#: scheduler/ipp.c:5147
+#: scheduler/ipp.c:5147 scheduler/ipp.c:5163
 msgid "cups-deviced failed to execute."
 msgstr ""
 
 #: scheduler/ipp.c:5393 scheduler/ipp.c:5479 scheduler/ipp.c:5722
-#: scheduler/ipp.c:5691
+#: scheduler/ipp.c:5691 scheduler/ipp.c:5707
 msgid "cups-driverd failed to execute."
 msgstr ""
 
 #: scheduler/ipp.c:5571 scheduler/ipp.c:5594 scheduler/ipp.c:5837
-#: scheduler/ipp.c:5806
+#: scheduler/ipp.c:5806 scheduler/ipp.c:5822
 msgid "No destinations added."
 msgstr ""
 
 #: scheduler/ipp.c:5794 scheduler/ipp.c:5736 scheduler/ipp.c:2615
 #: scheduler/ipp.c:5530 scheduler/ipp.c:5979 scheduler/ipp.c:7840
 #: scheduler/ipp.c:3070 scheduler/ipp.c:5499 scheduler/ipp.c:5948
-#: scheduler/ipp.c:7330
+#: scheduler/ipp.c:7330 scheduler/ipp.c:3086 scheduler/ipp.c:5515
+#: scheduler/ipp.c:5964 scheduler/ipp.c:7346
 #, c-format
 msgid "notify-subscription-id %d no good!"
 msgstr ""
 
 #: scheduler/ipp.c:5878 scheduler/ipp.c:5822 scheduler/ipp.c:6065
-#: scheduler/ipp.c:6034
+#: scheduler/ipp.c:6034 scheduler/ipp.c:6050
 #, c-format
 msgid "Job #%s does not exist!"
 msgstr ""
@@ -492,13 +502,16 @@
 #: scheduler/ipp.c:2996 scheduler/ipp.c:5230 scheduler/ipp.c:6056
 #: scheduler/ipp.c:6220 scheduler/ipp.c:6398 scheduler/ipp.c:6443
 #: scheduler/ipp.c:7244 scheduler/ipp.c:7459 scheduler/ipp.c:7698
-#: scheduler/ipp.c:8205
+#: scheduler/ipp.c:8205 scheduler/ipp.c:5246 scheduler/ipp.c:6072
+#: scheduler/ipp.c:6236 scheduler/ipp.c:6414 scheduler/ipp.c:6459
+#: scheduler/ipp.c:7260 scheduler/ipp.c:7475 scheduler/ipp.c:7714
+#: scheduler/ipp.c:8221
 #, c-format
 msgid "Job #%d does not exist!"
 msgstr ""
 
 #: scheduler/ipp.c:5969 scheduler/ipp.c:5915 scheduler/ipp.c:6150
-#: scheduler/ipp.c:6119
+#: scheduler/ipp.c:6119 scheduler/ipp.c:6135
 msgid "No subscriptions found."
 msgstr ""
 
@@ -509,7 +522,8 @@
 
 #: scheduler/ipp.c:6203 scheduler/ipp.c:8315 scheduler/ipp.c:6250
 #: scheduler/ipp.c:8390 scheduler/ipp.c:6505 scheduler/ipp.c:8728
-#: scheduler/ipp.c:6474 scheduler/ipp.c:8220
+#: scheduler/ipp.c:6474 scheduler/ipp.c:8220 scheduler/ipp.c:6490
+#: scheduler/ipp.c:8236
 #, c-format
 msgid "Job #%d is finished and cannot be altered!"
 msgstr ""
@@ -520,32 +534,35 @@
 msgstr ""
 
 #: scheduler/ipp.c:6228 scheduler/ipp.c:6098 scheduler/ipp.c:6353
-#: scheduler/ipp.c:6322
+#: scheduler/ipp.c:6322 scheduler/ipp.c:6338
 msgid "job-printer-uri attribute missing!"
 msgstr ""
 
 #: scheduler/ipp.c:6485 scheduler/ipp.c:7847 scheduler/ipp.c:6531
 #: scheduler/ipp.c:7913 scheduler/ipp.c:6783 scheduler/ipp.c:8238
-#: scheduler/ipp.c:6703 scheduler/ipp.c:7728
+#: scheduler/ipp.c:6703 scheduler/ipp.c:7728 scheduler/ipp.c:6719
+#: scheduler/ipp.c:7744
 #, c-format
 msgid "Unsupported compression \"%s\"!"
 msgstr ""
 
 #: scheduler/ipp.c:6504 scheduler/ipp.c:7866 scheduler/ipp.c:6550
 #: scheduler/ipp.c:7932 scheduler/ipp.c:6802 scheduler/ipp.c:8257
-#: scheduler/ipp.c:6722 scheduler/ipp.c:7747
+#: scheduler/ipp.c:6722 scheduler/ipp.c:7747 scheduler/ipp.c:6738
+#: scheduler/ipp.c:7763
 msgid "No file!?!"
 msgstr ""
 
 #: scheduler/ipp.c:6522 scheduler/ipp.c:6568 scheduler/ipp.c:6820
-#: scheduler/ipp.c:6740
+#: scheduler/ipp.c:6740 scheduler/ipp.c:6756
 #, c-format
 msgid "Could not scan type \"%s\"!"
 msgstr ""
 
 #: scheduler/ipp.c:6574 scheduler/ipp.c:7936 scheduler/ipp.c:6620
 #: scheduler/ipp.c:8001 scheduler/ipp.c:6879 scheduler/ipp.c:8332
-#: scheduler/ipp.c:6799 scheduler/ipp.c:7822
+#: scheduler/ipp.c:6799 scheduler/ipp.c:7822 scheduler/ipp.c:6815
+#: scheduler/ipp.c:7838
 #, c-format
 msgid "Unsupported format '%s/%s'!"
 msgstr ""
@@ -560,7 +577,7 @@
 msgstr ""
 
 #: scheduler/ipp.c:7448 scheduler/ipp.c:7507 scheduler/ipp.c:7768
-#: scheduler/ipp.c:7258
+#: scheduler/ipp.c:7258 scheduler/ipp.c:7274
 #, c-format
 msgid "Job #%d is not held!"
 msgstr ""
@@ -571,13 +588,13 @@
 msgstr ""
 
 #: scheduler/ipp.c:7592 scheduler/ipp.c:7654 scheduler/ipp.c:7983
-#: scheduler/ipp.c:7473
+#: scheduler/ipp.c:7473 scheduler/ipp.c:7489
 #, c-format
 msgid "Job #%d is not complete!"
 msgstr ""
 
 #: scheduler/ipp.c:7608 scheduler/ipp.c:7670 scheduler/ipp.c:8001
-#: scheduler/ipp.c:7491
+#: scheduler/ipp.c:7491 scheduler/ipp.c:7507
 #, c-format
 msgid "Job #%d cannot be restarted - no files!"
 msgstr ""
@@ -594,7 +611,8 @@
 
 #: scheduler/ipp.c:7883 scheduler/ipp.c:8803 scheduler/ipp.c:7949
 #: scheduler/ipp.c:8883 scheduler/ipp.c:8274 scheduler/ipp.c:9225
-#: scheduler/ipp.c:7764 scheduler/ipp.c:8967
+#: scheduler/ipp.c:7764 scheduler/ipp.c:8967 scheduler/ipp.c:7780
+#: scheduler/ipp.c:8983
 #, c-format
 msgid "Bad document-format \"%s\"!"
 msgstr ""
@@ -605,23 +623,23 @@
 msgstr ""
 
 #: scheduler/ipp.c:8371 scheduler/ipp.c:8446 scheduler/ipp.c:8783
-#: scheduler/ipp.c:8275
+#: scheduler/ipp.c:8275 scheduler/ipp.c:8291
 #, c-format
 msgid "%s cannot be changed."
 msgstr ""
 
 #: scheduler/ipp.c:8387 scheduler/ipp.c:8462 scheduler/ipp.c:8799
-#: scheduler/ipp.c:8291
+#: scheduler/ipp.c:8291 scheduler/ipp.c:8307
 msgid "Bad job-priority value!"
 msgstr ""
 
 #: scheduler/ipp.c:8395 scheduler/ipp.c:8470 scheduler/ipp.c:8807
-#: scheduler/ipp.c:8299
+#: scheduler/ipp.c:8299 scheduler/ipp.c:8315
 msgid "Job is completed and cannot be changed."
 msgstr ""
 
 #: scheduler/ipp.c:8409 scheduler/ipp.c:8484 scheduler/ipp.c:8821
-#: scheduler/ipp.c:8313
+#: scheduler/ipp.c:8313 scheduler/ipp.c:8329
 msgid "Bad job-state value!"
 msgstr ""
 
@@ -629,17 +647,18 @@
 #: scheduler/ipp.c:8498 scheduler/ipp.c:8510 scheduler/ipp.c:8521
 #: scheduler/ipp.c:8835 scheduler/ipp.c:8850 scheduler/ipp.c:8861
 #: scheduler/ipp.c:8327 scheduler/ipp.c:8342 scheduler/ipp.c:8353
+#: scheduler/ipp.c:8343 scheduler/ipp.c:8358 scheduler/ipp.c:8369
 msgid "Job state cannot be changed."
 msgstr ""
 
 #: scheduler/ipp.c:8787 scheduler/ipp.c:8867 scheduler/ipp.c:9209
-#: scheduler/ipp.c:8951
+#: scheduler/ipp.c:8951 scheduler/ipp.c:8967
 #, c-format
 msgid "Unsupported compression attribute %s!"
 msgstr ""
 
 #: scheduler/ipp.c:8815 scheduler/ipp.c:8894 scheduler/ipp.c:9236
-#: scheduler/ipp.c:8978
+#: scheduler/ipp.c:8978 scheduler/ipp.c:8994
 #, c-format
 msgid "Unsupported format \"%s\"!"
 msgstr ""
@@ -2910,10 +2929,12 @@
 msgstr ""
 
 #: cups/ppd.c:1033 cups/ppd.c:1020 cups/ppd.c:1009 cups/ppd.c:1010
+#: cups/ppd.c:1007
 msgid "Custom"
 msgstr ""
 
 #: cups/ppd.c:1259 cups/ppd.c:1236 cups/ppd.c:1225 cups/ppd.c:1226
+#: cups/ppd.c:1223
 msgid "JCL"
 msgstr ""
 
@@ -3331,11 +3352,11 @@
 msgid "idle"
 msgstr ""
 
-#: scheduler/ipp.c:5513 scheduler/ipp.c:5482
+#: scheduler/ipp.c:5513 scheduler/ipp.c:5482 scheduler/ipp.c:5498
 msgid "Missing notify-subscription-ids attribute!"
 msgstr ""
 
-#: scheduler/ipp.c:7851 scheduler/ipp.c:7341
+#: scheduler/ipp.c:7851 scheduler/ipp.c:7341 scheduler/ipp.c:7357
 msgid "Job subscriptions cannot be renewed!"
 msgstr ""
 
@@ -3549,6 +3570,21 @@
 msgid "stat of %s failed: %s"
 msgstr ""
 
+#: scheduler/ipp.c:3021
+#, c-format
+msgid "Job #%d is already cancelled - can't cancel."
+msgstr ""
+
+#: scheduler/ipp.c:3027
+#, c-format
+msgid "Job #%d is already aborted - can't cancel."
+msgstr ""
+
+#: scheduler/ipp.c:3033
+#, c-format
+msgid "Job #%d is already completed - can't cancel."
+msgstr ""
+
 
 #
 # End of "$Id$".
diff -urNad cupsys-1.1.99.b2~/locale/cups_es.po cupsys-1.1.99.b2/locale/cups_es.po
--- cupsys-1.1.99.b2~/locale/cups_es.po	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/locale/cups_es.po	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,3908 @@
+# "$Id$"
+# Message catalog template for the Common UNIX Printing System (CUPS).
+# Copyright 2005-2006 by Easy Software Products.
+# These coded instructions, statements, and computer programs are the
+# property of Easy Software Products and are protected by Federal
+# copyright law.  Distribution and use rights are outlined in the file
+# "LICENSE.txt" which should have been included with this file.  If this
+# file is missing or damaged please contact Easy Software Products
+# at:
+# Attn: CUPS Licensing Information
+# Easy Software Products
+# 44141 Airport View Drive, Suite 204
+# Hollywood, Maryland 20636 USA
+# Voice: (301) 373-9600
+# EMail: cups-info@cups.org
+# WWW: http://www.cups.org
+# , fuzzy
+# <>, 2006.
+# 
+# 
+msgid ""
+msgstr ""
+"Project-Id-Version: CUPS 1.2\n"
+"Report-Msgid-Bugs-To: http://www.cups.org/str.php\n"
+"POT-Creation-Date: 2006-03-13 08:39-0500\n"
+"PO-Revision-Date: 2006-03-13 17:36+0100\n"
+"Last-Translator: Juan Pablo GonzÃ¡lez Riopedre <riopedre@tiscali.es>\n"
+"Language-Team: Spanish\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: 8bit"
+
+#: cgi-bin/admin.c:1276 cgi-bin/admin.c:1154 cgi-bin/admin.c:1195
+#: cgi-bin/admin.c:1203
+msgid "Options Installed"
+msgstr "Opciones instaladas"
+
+#: cgi-bin/classes.c:103
+msgid "Class"
+msgstr "Clase"
+
+#: cgi-bin/printers.c:104
+msgid "Printer"
+msgstr "Impresora"
+
+#: cups/ppd.c:654 cups/ppd.c:1045 cups/ppd.c:660 cups/ppd.c:1167
+msgid "Extra"
+msgstr "Extra"
+
+#: cups/ppd.c:656 cups/ppd.c:881 cups/ppd.c:1047 cups/ppd.c:662 cups/ppd.c:996
+#: cups/ppd.c:1169 cups/ppd.c:651 cups/ppd.c:983 cups/ppd.c:1148
+#: cups/ppd.c:972 cups/ppd.c:1137 cups/ppd.c:646 cups/ppd.c:973
+#: cups/ppd.c:1138 cups/ppd.c:970 cups/ppd.c:1135
+msgid "General"
+msgstr "General"
+
+#: cups/ppd.c:704 cups/ppd.c:1105 cups/ppd.c:710 cups/ppd.c:1224
+#: cups/ppd.c:697 cups/ppd.c:1201 cups/ppd.c:1190 cups/ppd.c:692
+#: cups/ppd.c:1191 cups/ppd.c:1188
+msgid "Media Size"
+msgstr "TamaÃ±o de papel"
+
+#: cups/ppd.c:706 cups/ppd.c:1107 cups/ppd.c:712 cups/ppd.c:1226
+#: cups/ppd.c:699 cups/ppd.c:1203 cups/ppd.c:1192 cups/ppd.c:694
+#: cups/ppd.c:1193 cups/ppd.c:1190
+msgid "Media Type"
+msgstr "Tipo de papel"
+
+#: cups/ppd.c:708 cups/ppd.c:1109 cups/ppd.c:714 cups/ppd.c:1228
+#: cups/ppd.c:701 cups/ppd.c:1205 cups/ppd.c:1194 cups/ppd.c:696
+#: cups/ppd.c:1195 cups/ppd.c:1192
+msgid "Media Source"
+msgstr "Fuente del papel"
+
+#: cups/ppd.c:710 cups/ppd.c:1111 cups/ppd.c:716 cups/ppd.c:1230
+#: cups/ppd.c:703 cups/ppd.c:1207 cups/ppd.c:1196 cups/ppd.c:698
+#: cups/ppd.c:1197 cups/ppd.c:1194
+msgid "Output Mode"
+msgstr "Modo de salida"
+
+#: cups/ppd.c:712 cups/ppd.c:1113 cups/ppd.c:718 cups/ppd.c:1232
+#: cups/ppd.c:705 cups/ppd.c:1209 cups/ppd.c:1198 cups/ppd.c:700
+#: cups/ppd.c:1199 cups/ppd.c:1196
+msgid "Resolution"
+msgstr "ResoluciÃ³n"
+
+#: cups/ppd.c:907
+msgid "Variable"
+msgstr "Variable"
+
+#: cups/ppd.c:1535 cups/ppd.c:1650 cups/ppd.c:1627 cups/ppd.c:1616
+#: cups/ppd.c:1622 cups/ppd.c:1619
+msgid "Yes"
+msgstr "Si"
+
+#: cups/ppd.c:1537 cups/ppd.c:1652 cups/ppd.c:1629 cups/ppd.c:1618
+#: cups/ppd.c:1624 cups/ppd.c:1621
+msgid "No"
+msgstr "No"
+
+#: cups/ppd.c:1824
+msgid "Auto"
+msgstr "Auto"
+
+#: scheduler/client.c:2247 scheduler/client.c:2251 scheduler/client.c:2274
+#: scheduler/client.c:2308 scheduler/client.c:2349 scheduler/client.c:2350
+msgid ""
+"Enter your username and password or the root username and password to access "
+"this page."
+msgstr ""
+"Introduzca su nombre de usuario y contraseÃ±a o el nombre de usuario y "
+"contraseÃ±a de root para poder acceder a esta pÃ¡gina"
+
+#: scheduler/client.c:2252 scheduler/client.c:2256 scheduler/client.c:2279
+#: scheduler/client.c:2313 scheduler/client.c:2354 scheduler/client.c:2355
+msgid "You must use a https: URL to access this page."
+msgstr "Debe escribir una URL https para acceder a esta pÃ¡gina."
+
+#: scheduler/ipp.c:236 scheduler/ipp.c:244 scheduler/ipp.c:246
+#: scheduler/ipp.c:260
+#, c-format
+msgid "Bad request version number %d.%d!"
+msgstr "PeticiÃ³n incorrecta de nÃºmero de versiÃ³n %d %d."
+
+#: scheduler/ipp.c:246 scheduler/ipp.c:254 scheduler/ipp.c:256
+#: scheduler/ipp.c:270
+msgid "No attributes in request!"
+msgstr "No hay atributos en la solicitud."
+
+#: scheduler/ipp.c:269 scheduler/ipp.c:277 scheduler/ipp.c:279
+#: scheduler/ipp.c:293
+#, c-format
+msgid "Attribute groups are out of order (%x < %x)!"
+msgstr "Los grupos de atributos no estÃ¡n ordenados (%x < %x)."
+
+#: scheduler/ipp.c:379 scheduler/ipp.c:389 scheduler/ipp.c:391
+#: scheduler/ipp.c:405
+msgid "Missing required attributes!"
+msgstr "Faltan atributos necesarios."
+
+#: scheduler/ipp.c:575 scheduler/ipp.c:585 scheduler/ipp.c:591
+#: scheduler/ipp.c:605
+#, c-format
+msgid "%s not supported!"
+msgstr "No se admite el uso de %s."
+
+#: scheduler/ipp.c:684 scheduler/ipp.c:1055 scheduler/ipp.c:2271
+#: scheduler/ipp.c:2383 scheduler/ipp.c:3707 scheduler/ipp.c:4417
+#: scheduler/ipp.c:4649 scheduler/ipp.c:5002 scheduler/ipp.c:5445
+#: scheduler/ipp.c:5890 scheduler/ipp.c:6245 scheduler/ipp.c:6609
+#: scheduler/ipp.c:7308 scheduler/ipp.c:8179 scheduler/ipp.c:8585
+#: scheduler/ipp.c:8663 scheduler/ipp.c:8836 scheduler/ipp.c:696
+#: scheduler/ipp.c:1079 scheduler/ipp.c:2318 scheduler/ipp.c:2433
+#: scheduler/ipp.c:3901 scheduler/ipp.c:4621 scheduler/ipp.c:4855
+#: scheduler/ipp.c:5237 scheduler/ipp.c:5526 scheduler/ipp.c:5834
+#: scheduler/ipp.c:6113 scheduler/ipp.c:6155 scheduler/ipp.c:6657
+#: scheduler/ipp.c:7365 scheduler/ipp.c:8251 scheduler/ipp.c:8662
+#: scheduler/ipp.c:8742 scheduler/ipp.c:8917 scheduler/ipp.c:702
+#: scheduler/ipp.c:1093 scheduler/ipp.c:2357 scheduler/ipp.c:2472
+#: scheduler/ipp.c:3993 scheduler/ipp.c:4730 scheduler/ipp.c:4973
+#: scheduler/ipp.c:5357 scheduler/ipp.c:5769 scheduler/ipp.c:6077
+#: scheduler/ipp.c:6368 scheduler/ipp.c:6410 scheduler/ipp.c:6916
+#: scheduler/ipp.c:7626 scheduler/ipp.c:8589 scheduler/ipp.c:9003
+#: scheduler/ipp.c:9084 scheduler/ipp.c:9259 scheduler/ipp.c:716
+#: scheduler/ipp.c:1003 scheduler/ipp.c:1174 scheduler/ipp.c:2812
+#: scheduler/ipp.c:2927 scheduler/ipp.c:4699 scheduler/ipp.c:4942
+#: scheduler/ipp.c:5326 scheduler/ipp.c:5738 scheduler/ipp.c:6046
+#: scheduler/ipp.c:6337 scheduler/ipp.c:6379 scheduler/ipp.c:7116
+#: scheduler/ipp.c:8081 scheduler/ipp.c:8745 scheduler/ipp.c:8826
+#: scheduler/ipp.c:9001 scheduler/ipp.c:4715 scheduler/ipp.c:4958
+#: scheduler/ipp.c:5342 scheduler/ipp.c:5754 scheduler/ipp.c:6062
+#: scheduler/ipp.c:6353 scheduler/ipp.c:6395 scheduler/ipp.c:7132
+#: scheduler/ipp.c:8097 scheduler/ipp.c:8761 scheduler/ipp.c:8842
+#: scheduler/ipp.c:9017
+msgid "The printer or class was not found."
+msgstr "No se ha encontrado la impresora o la clase."
+
+#: scheduler/ipp.c:762 scheduler/ipp.c:777 scheduler/ipp.c:784
+#: scheduler/ipp.c:799
+msgid ""
+"The printer-uri must be of the form \"ipp://HOSTNAME/classes/CLASSNAME\"."
+msgstr ""
+"El printer-uri debe ser de la forma \"ipp://NOMBRE_ORDENADOR/classes/NOMBRE_CLASE\"."
+
+#: scheduler/ipp.c:778 scheduler/ipp.c:1454 scheduler/ipp.c:793
+#: scheduler/ipp.c:1482 scheduler/ipp.c:800 scheduler/ipp.c:1515
+#: scheduler/ipp.c:815 scheduler/ipp.c:2031
+#, c-format
+msgid "The printer-uri \"%s\" contains invalid characters."
+msgstr "El printer-uri \"%s\" contiene caracteres incorrectos."
+
+#: scheduler/ipp.c:811 scheduler/ipp.c:826 scheduler/ipp.c:833
+#: scheduler/ipp.c:848
+#, c-format
+msgid "A printer named \"%s\" already exists!"
+msgstr "Ya existe una impresora llamada \"%s\"."
+
+#: scheduler/ipp.c:904 scheduler/ipp.c:924 scheduler/ipp.c:933
+#: scheduler/ipp.c:944
+#, c-format
+msgid "Attempt to set %s printer-state to bad value %d!"
+msgstr "Se ha intentado cambiar el valor printer-state de %s a un valor incorrecto %d."
+
+#: scheduler/ipp.c:1000 scheduler/ipp.c:1022 scheduler/ipp.c:1034
+#, c-format
+msgid "add_class: Unknown printer-op-policy \"%s\"."
+msgstr "add_class: printer-op-policy \"%s\" desconocido."
+
+#: scheduler/ipp.c:1013 scheduler/ipp.c:1035 scheduler/ipp.c:1047
+#, c-format
+msgid "add_class: Unknown printer-error-policy \"%s\"."
+msgstr "add_class: printer-error-policy \"%s\" desconocido."
+
+#: scheduler/ipp.c:1144 scheduler/ipp.c:1168 scheduler/ipp.c:1200
+#: scheduler/ipp.c:1112
+msgid "Unable to allocate memory for file types!"
+msgstr "No se ha podido reservar memoria para tipos de archivo."
+
+#: scheduler/ipp.c:1290 scheduler/ipp.c:4501 scheduler/ipp.c:1316
+#: scheduler/ipp.c:4705 scheduler/ipp.c:1348 scheduler/ipp.c:4804
+#: scheduler/ipp.c:1810 scheduler/ipp.c:4773 scheduler/ipp.c:4789
+#, c-format
+msgid "Character set \"%s\" not supported!"
+msgstr "No se admite el uso del juego de caracteres \"%s\"."
+
+#: scheduler/ipp.c:1299 scheduler/ipp.c:4510 scheduler/ipp.c:1325
+#: scheduler/ipp.c:4714 scheduler/ipp.c:1357 scheduler/ipp.c:4813
+#: scheduler/ipp.c:1819 scheduler/ipp.c:4782 scheduler/ipp.c:4798
+#, c-format
+msgid "Language \"%s\" not supported!"
+msgstr "No se admite el uso del idioma \"%s\"."
+
+#: scheduler/ipp.c:1309 scheduler/ipp.c:4520 scheduler/ipp.c:1335
+#: scheduler/ipp.c:4724 scheduler/ipp.c:1367 scheduler/ipp.c:4823
+#: scheduler/ipp.c:1829 scheduler/ipp.c:4792 scheduler/ipp.c:4808
+#, c-format
+msgid "The notify-user-data value is too large (%d > 63 octets)!"
+msgstr "El valor notify-user-data es demasiado grande (%d > 63 octetos)."
+
+#: scheduler/ipp.c:1326 scheduler/ipp.c:1352 scheduler/ipp.c:1384
+#: scheduler/ipp.c:1846
+msgid ""
+"The notify-lease-duration attribute cannot be used with job subscriptions."
+msgstr ""
+"El atributo notify-lease-duration no puede ser usado con subscripciones de trabajos."
+
+#: scheduler/ipp.c:1438 scheduler/ipp.c:1466 scheduler/ipp.c:1499
+#: scheduler/ipp.c:2015
+msgid ""
+"The printer-uri must be of the form \"ipp://HOSTNAME/printers/PRINTERNAME\"."
+msgstr ""
+"El printer-uri debe ser de la forma \"ipp://NOMBRE_ORDENADOR/printers/NOMBRE_IMPRESORA\"."
+
+#: scheduler/ipp.c:1487 scheduler/ipp.c:1515 scheduler/ipp.c:1548
+#: scheduler/ipp.c:2064
+#, c-format
+msgid "A class named \"%s\" already exists!"
+msgstr "Ya existe una clase llamada \"%s\"."
+
+#: scheduler/ipp.c:1575 scheduler/ipp.c:1607 scheduler/ipp.c:1644
+#: scheduler/ipp.c:2157
+#, c-format
+msgid ""
+"File device URIs have been disabled! To enable, see the FileDevice directive "
+"in \"%s/cupsd.conf\"."
+msgstr ""
+"Los URIs del dispositivo de archivo han sido deshabilitados. Para "
+"habilitarlos, vea la directiva FileDevice en \"%s/cupsd.conf\"."
+
+#: scheduler/ipp.c:1595 scheduler/ipp.c:1627 scheduler/ipp.c:1664
+#: scheduler/ipp.c:2177
+#, c-format
+msgid "Bad device-uri \"%s\"!"
+msgstr "device-uri \"%s\" incorrecto."
+
+#: scheduler/ipp.c:1626 scheduler/ipp.c:1659 scheduler/ipp.c:1698
+#: scheduler/ipp.c:2211
+#, c-format
+msgid "Bad port-monitor \"%s\"!"
+msgstr "port-monitor \"%s\" incorrecto."
+
+#: scheduler/ipp.c:1669 scheduler/ipp.c:1705 scheduler/ipp.c:1744
+#: scheduler/ipp.c:2257
+#, c-format
+msgid "Bad printer-state value %d!"
+msgstr "Valor printer-state %d incorrecto."
+
+#: scheduler/ipp.c:1762 scheduler/ipp.c:1800 scheduler/ipp.c:1842
+#: scheduler/ipp.c:8585 scheduler/ipp.c:8601
+#, c-format
+msgid "Unknown printer-op-policy \"%s\"."
+msgstr "printer-op-policy \"%s\" incorrecto."
+
+#: scheduler/ipp.c:1775 scheduler/ipp.c:1813 scheduler/ipp.c:1855
+#: scheduler/ipp.c:8600 scheduler/ipp.c:8616
+#, c-format
+msgid "Unknown printer-error-policy \"%s\"."
+msgstr "printer-error-policy \"%s\" incorrecto."
+
+#: scheduler/ipp.c:1837 scheduler/ipp.c:1875 scheduler/ipp.c:1919
+#: scheduler/ipp.c:2336
+#, c-format
+msgid "Unable to copy interface script - %s!"
+msgstr "No se ha podido copiar el script de interface - %s."
+
+#: scheduler/ipp.c:1862 scheduler/ipp.c:1900 scheduler/ipp.c:1944
+#: scheduler/ipp.c:2361
+#, c-format
+msgid "Unable to copy PPD file - %s!"
+msgstr "No se ha podido copiar el archivo PPD - %s."
+
+#: scheduler/ipp.c:1915 scheduler/ipp.c:1954 scheduler/ipp.c:2000
+#: scheduler/ipp.c:2417
+msgid "Unable to copy PPD file!"
+msgstr "No se ha podido copiar el archivo PPD."
+
+#: scheduler/ipp.c:2076 scheduler/ipp.c:2364 scheduler/ipp.c:5188
+#: scheduler/ipp.c:6008 scheduler/ipp.c:6147 scheduler/ipp.c:7394
+#: scheduler/ipp.c:7538 scheduler/ipp.c:7776 scheduler/ipp.c:8261
+#: scheduler/ipp.c:2116 scheduler/ipp.c:2412 scheduler/ipp.c:5102
+#: scheduler/ipp.c:5955 scheduler/ipp.c:7452 scheduler/ipp.c:7599
+#: scheduler/ipp.c:7839 scheduler/ipp.c:8334 scheduler/ipp.c:2158
+#: scheduler/ipp.c:2451 scheduler/ipp.c:5220 scheduler/ipp.c:6210
+#: scheduler/ipp.c:7713 scheduler/ipp.c:7928 scheduler/ipp.c:8167
+#: scheduler/ipp.c:8672 scheduler/ipp.c:2613 scheduler/ipp.c:2906
+#: scheduler/ipp.c:5189 scheduler/ipp.c:6179 scheduler/ipp.c:7203
+#: scheduler/ipp.c:7418 scheduler/ipp.c:7657 scheduler/ipp.c:8164
+#: scheduler/ipp.c:5205 scheduler/ipp.c:6195 scheduler/ipp.c:7219
+#: scheduler/ipp.c:7434 scheduler/ipp.c:7673 scheduler/ipp.c:8180
+msgid "Got a printer-uri attribute but no job-id!"
+msgstr "Se ha obtenido el atributo printer-uri pero no el job-id."
+
+#: scheduler/ipp.c:2097 scheduler/ipp.c:2433 scheduler/ipp.c:5210
+#: scheduler/ipp.c:6029 scheduler/ipp.c:6169 scheduler/ipp.c:7416
+#: scheduler/ipp.c:7560 scheduler/ipp.c:7797 scheduler/ipp.c:8282
+#: scheduler/ipp.c:2138 scheduler/ipp.c:2484 scheduler/ipp.c:5125
+#: scheduler/ipp.c:5978 scheduler/ipp.c:6201 scheduler/ipp.c:7475
+#: scheduler/ipp.c:7622 scheduler/ipp.c:7862 scheduler/ipp.c:8357
+#: scheduler/ipp.c:2180 scheduler/ipp.c:2523 scheduler/ipp.c:5243
+#: scheduler/ipp.c:6233 scheduler/ipp.c:6456 scheduler/ipp.c:7736
+#: scheduler/ipp.c:7951 scheduler/ipp.c:8190 scheduler/ipp.c:8695
+#: scheduler/ipp.c:2635 scheduler/ipp.c:2978 scheduler/ipp.c:5212
+#: scheduler/ipp.c:6202 scheduler/ipp.c:6425 scheduler/ipp.c:7226
+#: scheduler/ipp.c:7441 scheduler/ipp.c:7680 scheduler/ipp.c:8187
+#: scheduler/ipp.c:5228 scheduler/ipp.c:6218 scheduler/ipp.c:6441
+#: scheduler/ipp.c:7242 scheduler/ipp.c:7457 scheduler/ipp.c:7696
+#: scheduler/ipp.c:8203
+#, c-format
+msgid "Bad job-uri attribute \"%s\"!"
+msgstr "Atributo job-uri \"%s\" incorrecto."
+
+#: scheduler/ipp.c:2116 scheduler/ipp.c:2451 scheduler/ipp.c:5228
+#: scheduler/ipp.c:6047 scheduler/ipp.c:6188 scheduler/ipp.c:7434
+#: scheduler/ipp.c:7578 scheduler/ipp.c:7815 scheduler/ipp.c:8300
+#, c-format
+msgid "Job #%d doesn't exist!"
+msgstr "El trabajo #%d no existe."
+
+#: scheduler/ipp.c:2131 scheduler/ipp.c:2172 scheduler/ipp.c:2214
+#: scheduler/ipp.c:2669
+#, c-format
+msgid "Job #%d is not held for authentication!"
+msgstr "El trabajo #%d no estÃ¡ retenido para autentificaciÃ³n."
+
+#: scheduler/ipp.c:2153 scheduler/ipp.c:2195
+#, c-format
+msgid "You are not authorized to authenticate job #%d owned by \"%s\"!"
+msgstr "No tiene permiso para autentificar el trabajo #%d que pertenece a \"%s\"."
+
+#: scheduler/ipp.c:2221 scheduler/ipp.c:2264 scheduler/ipp.c:2303
+#: scheduler/ipp.c:2758
+msgid "The printer-uri attribute is required!"
+msgstr "Se necesita el atributo printer-uri."
+
+#: scheduler/ipp.c:2238 scheduler/ipp.c:2283 scheduler/ipp.c:2322
+#: scheduler/ipp.c:2777
+msgid "Missing requesting-user-name attribute!"
+msgstr "Falta el atributo requesting-user-name."
+
+#: scheduler/ipp.c:2277 scheduler/ipp.c:2324 scheduler/ipp.c:2363
+#: scheduler/ipp.c:2818
+#, c-format
+msgid "The printer-uri \"%s\" is not valid."
+msgstr "El printer-uri \"%s\" no es vÃ¡lido."
+
+#: scheduler/ipp.c:2410 scheduler/ipp.c:2460 scheduler/ipp.c:2499
+#: scheduler/ipp.c:2954
+#, c-format
+msgid "No active jobs on %s!"
+msgstr "No hay trabajos activos en %s."
+
+#: scheduler/ipp.c:2462 scheduler/ipp.c:2513
+#, c-format
+msgid "You are not authorized to delete job #%d owned by \"%s\"!"
+msgstr "No tiene permiso para borrar el trabajo #%d que pertenece a \"%s\"."
+
+#: scheduler/ipp.c:2476 scheduler/ipp.c:2527 scheduler/ipp.c:2563
+#: scheduler/ipp.c:3018
+#, c-format
+msgid "Job #%d is already %s - can't cancel."
+msgstr "El trabajo #%d ya estÃ¡ %s - no se puede cancelar."
+
+#: scheduler/ipp.c:3720 scheduler/ipp.c:3914 scheduler/ipp.c:4006
+#: scheduler/ipp.c:1190
+msgid "The printer or class is not shared!"
+msgstr "La impresora o clase no estÃ¡ compartida."
+
+#: scheduler/ipp.c:3746 scheduler/ipp.c:6647 scheduler/ipp.c:3940
+#: scheduler/ipp.c:6695 scheduler/ipp.c:4032 scheduler/ipp.c:6954
+#: scheduler/ipp.c:1216
+#, c-format
+msgid "Destination \"%s\" is not accepting jobs."
+msgstr "El destino %s no estÃ¡ aceptando trabajos."
+
+#: scheduler/ipp.c:3759 scheduler/ipp.c:6443 scheduler/ipp.c:3954
+#: scheduler/ipp.c:6487 scheduler/ipp.c:4046 scheduler/ipp.c:6739
+#: scheduler/ipp.c:1230
+#, c-format
+msgid "Bad copies value %d."
+msgstr "Valor de copias %d incorrecto."
+
+#: scheduler/ipp.c:3775 scheduler/ipp.c:6459 scheduler/ipp.c:3971
+#: scheduler/ipp.c:6504 scheduler/ipp.c:4063 scheduler/ipp.c:6756
+#: scheduler/ipp.c:1247
+#, c-format
+msgid "Bad page-ranges values %d-%d."
+msgstr "Valores de page-ranges %d-%d incorrectos."
+
+#: scheduler/ipp.c:3795 scheduler/ipp.c:3991 scheduler/ipp.c:4083
+#: scheduler/ipp.c:1267
+msgid "Too many active jobs."
+msgstr "Demasiados trabajos activos."
+
+#: scheduler/ipp.c:3801 scheduler/ipp.c:6668 scheduler/ipp.c:3997
+#: scheduler/ipp.c:6716 scheduler/ipp.c:4089 scheduler/ipp.c:6975
+#: scheduler/ipp.c:1273
+msgid "Quota limit reached."
+msgstr "Se ha alcanzado el lÃ­mite de cuota."
+
+#: scheduler/ipp.c:3824 scheduler/ipp.c:6691 scheduler/ipp.c:4022
+#: scheduler/ipp.c:6741 scheduler/ipp.c:4114 scheduler/ipp.c:7000
+#: scheduler/ipp.c:1306
+#, c-format
+msgid "Unable to add job for destination \"%s\"!"
+msgstr "No se ha podido aÃ±adir el trabajo para el destino \"%s\"."
+
+#: scheduler/ipp.c:4469 scheduler/ipp.c:4673 scheduler/ipp.c:4770
+#: scheduler/ipp.c:4739 scheduler/ipp.c:4755
+msgid "No subscription attributes in request!"
+msgstr "No hay atributos de subscripciÃ³n en la solicitud."
+
+#: scheduler/ipp.c:4559 scheduler/ipp.c:4763 scheduler/ipp.c:4869
+#: scheduler/ipp.c:4838 scheduler/ipp.c:4854
+msgid "notify-events not specified!"
+msgstr "notify-events no especificado."
+
+#: scheduler/ipp.c:4577 scheduler/ipp.c:4781 scheduler/ipp.c:4887
+#: scheduler/ipp.c:4856 scheduler/ipp.c:4872
+#, c-format
+msgid "Job %d not found!"
+msgstr "No se ha encontrado el trabajo %d."
+
+#: scheduler/ipp.c:4827 scheduler/ipp.c:4957 scheduler/ipp.c:5075
+#: scheduler/ipp.c:5044 scheduler/ipp.c:5060
+msgid "No default printer"
+msgstr "No hay impresora predeterminada"
+
+#: scheduler/ipp.c:4930 scheduler/ipp.c:5060 scheduler/ipp.c:5178
+#: scheduler/ipp.c:5147 scheduler/ipp.c:5163
+msgid "cups-deviced failed to execute."
+msgstr "Ha fallado al ejecutarse cups-deviced."
+
+#: scheduler/ipp.c:5393 scheduler/ipp.c:5479 scheduler/ipp.c:5722
+#: scheduler/ipp.c:5691 scheduler/ipp.c:5707
+msgid "cups-driverd failed to execute."
+msgstr "Ha fallado al ejecutarse cups-driverd."
+
+#: scheduler/ipp.c:5571 scheduler/ipp.c:5594 scheduler/ipp.c:5837
+#: scheduler/ipp.c:5806 scheduler/ipp.c:5822
+msgid "No destinations added."
+msgstr "No se han aÃ±adido destinos."
+
+#: scheduler/ipp.c:5794 scheduler/ipp.c:5736 scheduler/ipp.c:2615
+#: scheduler/ipp.c:5530 scheduler/ipp.c:5979 scheduler/ipp.c:7840
+#: scheduler/ipp.c:3070 scheduler/ipp.c:5499 scheduler/ipp.c:5948
+#: scheduler/ipp.c:7330 scheduler/ipp.c:3086 scheduler/ipp.c:5515
+#: scheduler/ipp.c:5964 scheduler/ipp.c:7346
+#, c-format
+msgid "notify-subscription-id %d no good!"
+msgstr "notify-subscription-id %d incorrecto."
+
+#: scheduler/ipp.c:5878 scheduler/ipp.c:5822 scheduler/ipp.c:6065
+#: scheduler/ipp.c:6034 scheduler/ipp.c:6050
+#, c-format
+msgid "Job #%s does not exist!"
+msgstr "El trabajo #%s no existe."
+
+#: scheduler/ipp.c:5900 scheduler/ipp.c:2116 scheduler/ipp.c:2451
+#: scheduler/ipp.c:5228 scheduler/ipp.c:6047 scheduler/ipp.c:6188
+#: scheduler/ipp.c:7434 scheduler/ipp.c:7578 scheduler/ipp.c:7815
+#: scheduler/ipp.c:8300 scheduler/ipp.c:2157 scheduler/ipp.c:2502
+#: scheduler/ipp.c:5143 scheduler/ipp.c:5844 scheduler/ipp.c:5996
+#: scheduler/ipp.c:6174 scheduler/ipp.c:6219 scheduler/ipp.c:7493
+#: scheduler/ipp.c:7640 scheduler/ipp.c:7880 scheduler/ipp.c:8375
+#: scheduler/ipp.c:2199 scheduler/ipp.c:2541 scheduler/ipp.c:5261
+#: scheduler/ipp.c:6087 scheduler/ipp.c:6251 scheduler/ipp.c:6429
+#: scheduler/ipp.c:6474 scheduler/ipp.c:7754 scheduler/ipp.c:7969
+#: scheduler/ipp.c:8208 scheduler/ipp.c:8713 scheduler/ipp.c:2654
+#: scheduler/ipp.c:2996 scheduler/ipp.c:5230 scheduler/ipp.c:6056
+#: scheduler/ipp.c:6220 scheduler/ipp.c:6398 scheduler/ipp.c:6443
+#: scheduler/ipp.c:7244 scheduler/ipp.c:7459 scheduler/ipp.c:7698
+#: scheduler/ipp.c:8205 scheduler/ipp.c:5246 scheduler/ipp.c:6072
+#: scheduler/ipp.c:6236 scheduler/ipp.c:6414 scheduler/ipp.c:6459
+#: scheduler/ipp.c:7260 scheduler/ipp.c:7475 scheduler/ipp.c:7714
+#: scheduler/ipp.c:8221
+#, c-format
+msgid "Job #%d does not exist!"
+msgstr "El trabajo #%d no existe."
+
+#: scheduler/ipp.c:5969 scheduler/ipp.c:5915 scheduler/ipp.c:6150
+#: scheduler/ipp.c:6119 scheduler/ipp.c:6135
+msgid "No subscriptions found."
+msgstr "No se han encontrado subscripciones."
+
+#: scheduler/ipp.c:6058 scheduler/ipp.c:6007
+#, c-format
+msgid "Not authorized to hold job #%d owned by \"%s\"!"
+msgstr "No estÃ¡ autorizado a retener el trabajo #%d que pertenece a \"%s\"."
+
+#: scheduler/ipp.c:6203 scheduler/ipp.c:8315 scheduler/ipp.c:6250
+#: scheduler/ipp.c:8390 scheduler/ipp.c:6505 scheduler/ipp.c:8728
+#: scheduler/ipp.c:6474 scheduler/ipp.c:8220 scheduler/ipp.c:6490
+#: scheduler/ipp.c:8236
+#, c-format
+msgid "Job #%d is finished and cannot be altered!"
+msgstr "El trabajo #%d ha terminado y no puede ser modificado."
+
+#: scheduler/ipp.c:6215 scheduler/ipp.c:6262
+#, c-format
+msgid "You are not authorized to move job #%d owned by \"%s\"!"
+msgstr "No estÃ¡ autorizado a mover el trabajo#%d que pertenece a \"%s\"."
+
+#: scheduler/ipp.c:6228 scheduler/ipp.c:6098 scheduler/ipp.c:6353
+#: scheduler/ipp.c:6322 scheduler/ipp.c:6338
+msgid "job-printer-uri attribute missing!"
+msgstr "Atributo job-printer-uri desaparecido."
+
+#: scheduler/ipp.c:6485 scheduler/ipp.c:7847 scheduler/ipp.c:6531
+#: scheduler/ipp.c:7913 scheduler/ipp.c:6783 scheduler/ipp.c:8238
+#: scheduler/ipp.c:6703 scheduler/ipp.c:7728 scheduler/ipp.c:6719
+#: scheduler/ipp.c:7744
+#, c-format
+msgid "Unsupported compression \"%s\"!"
+msgstr "No se admite el uso de la compresiÃ³n \"%s\"."
+
+#: scheduler/ipp.c:6504 scheduler/ipp.c:7866 scheduler/ipp.c:6550
+#: scheduler/ipp.c:7932 scheduler/ipp.c:6802 scheduler/ipp.c:8257
+#: scheduler/ipp.c:6722 scheduler/ipp.c:7747 scheduler/ipp.c:6738
+#: scheduler/ipp.c:7763
+msgid "No file!?!"
+msgstr "Â¡Â¿Â¡No hay archivo!?!"
+
+#: scheduler/ipp.c:6522 scheduler/ipp.c:6568 scheduler/ipp.c:6820
+#: scheduler/ipp.c:6740 scheduler/ipp.c:6756
+#, c-format
+msgid "Could not scan type \"%s\"!"
+msgstr "No se puede analizar el tipo \"%s\"."
+
+#: scheduler/ipp.c:6574 scheduler/ipp.c:7936 scheduler/ipp.c:6620
+#: scheduler/ipp.c:8001 scheduler/ipp.c:6879 scheduler/ipp.c:8332
+#: scheduler/ipp.c:6799 scheduler/ipp.c:7822 scheduler/ipp.c:6815
+#: scheduler/ipp.c:7838
+#, c-format
+msgid "Unsupported format '%s/%s'!"
+msgstr "No se admite el uso del formato '%s/%s'."
+
+#: scheduler/ipp.c:6621 scheduler/ipp.c:6669 scheduler/ipp.c:6928
+msgid "Printer not shared!"
+msgstr "La impresora no estÃ¡ compartida."
+
+#: scheduler/ipp.c:6661 scheduler/ipp.c:6709 scheduler/ipp.c:6968
+#, c-format
+msgid "Too many jobs - %d jobs, max jobs is %d."
+msgstr "Demasiados trabajos - %d trabajos, el mÃ¡ximo de trabajos es %d."
+
+#: scheduler/ipp.c:7448 scheduler/ipp.c:7507 scheduler/ipp.c:7768
+#: scheduler/ipp.c:7258 scheduler/ipp.c:7274
+#, c-format
+msgid "Job #%d is not held!"
+msgstr "El trabajo #%d no estÃ¡ retenido."
+
+#: scheduler/ipp.c:7459 scheduler/ipp.c:7518
+#, c-format
+msgid "You are not authorized to release job id %d owned by \"%s\"!"
+msgstr "No tiene permiso para liberar el trabajo id %d que pertenece a \"%s\"."
+
+#: scheduler/ipp.c:7592 scheduler/ipp.c:7654 scheduler/ipp.c:7983
+#: scheduler/ipp.c:7473 scheduler/ipp.c:7489
+#, c-format
+msgid "Job #%d is not complete!"
+msgstr "El trabajo #%d no ha sido completado."
+
+#: scheduler/ipp.c:7608 scheduler/ipp.c:7670 scheduler/ipp.c:8001
+#: scheduler/ipp.c:7491 scheduler/ipp.c:7507
+#, c-format
+msgid "Job #%d cannot be restarted - no files!"
+msgstr "El trabajo #%d no puede ser reiniciado - no hay archivos."
+
+#: scheduler/ipp.c:7619 scheduler/ipp.c:7681
+#, c-format
+msgid "You are not authorized to restart job id %d owned by \"%s\"!"
+msgstr "No tiene permiso para reiniciar el trabajo id %d que pertenece a \"%s\"."
+
+#: scheduler/ipp.c:7826 scheduler/ipp.c:7891
+#, c-format
+msgid "You are not authorized to send document for job #%d owned by \"%s\"!"
+msgstr "No tiene permiso para enviar el documento para el trabajo #%d que pertenece a \"%s\"."
+
+#: scheduler/ipp.c:7883 scheduler/ipp.c:8803 scheduler/ipp.c:7949
+#: scheduler/ipp.c:8883 scheduler/ipp.c:8274 scheduler/ipp.c:9225
+#: scheduler/ipp.c:7764 scheduler/ipp.c:8967 scheduler/ipp.c:7780
+#: scheduler/ipp.c:8983
+#, c-format
+msgid "Bad document-format \"%s\"!"
+msgstr "document-format \"%s\" incorrecto."
+
+#: scheduler/ipp.c:8326 scheduler/ipp.c:8401
+#, c-format
+msgid "You are not authorized to alter job id %d owned by \"%s\"!"
+msgstr "No tiene permiso para alterar el trabajo id %d que pertenece a \"%s\"."
+
+#: scheduler/ipp.c:8371 scheduler/ipp.c:8446 scheduler/ipp.c:8783
+#: scheduler/ipp.c:8275 scheduler/ipp.c:8291
+#, c-format
+msgid "%s cannot be changed."
+msgstr "%s no puede ser cambiado."
+
+#: scheduler/ipp.c:8387 scheduler/ipp.c:8462 scheduler/ipp.c:8799
+#: scheduler/ipp.c:8291 scheduler/ipp.c:8307
+msgid "Bad job-priority value!"
+msgstr "Valor job-priority incorrecto."
+
+#: scheduler/ipp.c:8395 scheduler/ipp.c:8470 scheduler/ipp.c:8807
+#: scheduler/ipp.c:8299 scheduler/ipp.c:8315
+msgid "Job is completed and cannot be changed."
+msgstr "El trabajo estÃ¡ terminado y no puede ser cambiado."
+
+#: scheduler/ipp.c:8409 scheduler/ipp.c:8484 scheduler/ipp.c:8821
+#: scheduler/ipp.c:8313 scheduler/ipp.c:8329
+msgid "Bad job-state value!"
+msgstr "Valor job-state incorrecto."
+
+#: scheduler/ipp.c:8423 scheduler/ipp.c:8435 scheduler/ipp.c:8446
+#: scheduler/ipp.c:8498 scheduler/ipp.c:8510 scheduler/ipp.c:8521
+#: scheduler/ipp.c:8835 scheduler/ipp.c:8850 scheduler/ipp.c:8861
+#: scheduler/ipp.c:8327 scheduler/ipp.c:8342 scheduler/ipp.c:8353
+#: scheduler/ipp.c:8343 scheduler/ipp.c:8358 scheduler/ipp.c:8369
+msgid "Job state cannot be changed."
+msgstr "No se puede cambiar el estado del trabajo."
+
+#: scheduler/ipp.c:8787 scheduler/ipp.c:8867 scheduler/ipp.c:9209
+#: scheduler/ipp.c:8951 scheduler/ipp.c:8967
+#, c-format
+msgid "Unsupported compression attribute %s!"
+msgstr "No se admite el uso del atributo de compresiÃ³n %s."
+
+#: scheduler/ipp.c:8815 scheduler/ipp.c:8894 scheduler/ipp.c:9236
+#: scheduler/ipp.c:8978 scheduler/ipp.c:8994
+#, c-format
+msgid "Unsupported format \"%s\"!"
+msgstr "No se admite el uso del formato \"%s\"."
+
+#: berkeley/lpc.c:201
+#, c-format
+msgid "%s is not implemented by the CUPS version of lpc.\n"
+msgstr "%s no estÃ¡ implementado en la versiÃ³n de CUPS de lpc.\n"
+
+#: berkeley/lpc.c:216
+msgid ""
+"Commands may be abbreviated.  Commands are:\n"
+"\n"
+"exit    help    quit    status  ?\n"
+msgstr ""
+"Los comandos se pueden abreviar.  Los comandos son:\n"
+"\n"
+"exit    help    quit    status  ?\n"
+
+#: berkeley/lpc.c:222 berkeley/lpc.c:221
+msgid "help\t\tget help on commands\n"
+msgstr "help\t\tproporciona ayuda sobre los comandos\n"
+
+#: berkeley/lpc.c:225 berkeley/lpc.c:223
+msgid "status\t\tshow status of daemon and queue\n"
+msgstr "status\t\tmuestra el estado del demonio y la cola\n"
+
+#: berkeley/lpc.c:228 berkeley/lpc.c:225
+msgid "?Invalid help command unknown\n"
+msgstr "?Ayuda sobre comando desconocido\n"
+
+#: berkeley/lpc.c:478 berkeley/lpc.c:490 berkeley/lpc.c:475 berkeley/lpc.c:487
+#: berkeley/lpc.c:476 berkeley/lpc.c:488
+#, c-format
+msgid "\tprinter is on device '%s' speed -1\n"
+msgstr "\tla impresora estÃ¡ conectada a '%s' velocidad -1\n"
+
+#: berkeley/lpc.c:496 berkeley/lpc.c:493 berkeley/lpc.c:494
+msgid "\tqueuing is enabled\n"
+msgstr "\tla cola estÃ¡ activada\n"
+
+#: berkeley/lpc.c:498 berkeley/lpc.c:495 berkeley/lpc.c:496
+msgid "\tqueuing is disabled\n"
+msgstr "\tla cola estÃ¡ desactivada\n"
+
+#: berkeley/lpc.c:501 berkeley/lpc.c:498 berkeley/lpc.c:499
+msgid "\tprinting is enabled\n"
+msgstr "\tla impresiÃ³n estÃ¡ activada\n"
+
+#: berkeley/lpc.c:503 berkeley/lpc.c:500 berkeley/lpc.c:501
+msgid "\tprinting is disabled\n"
+msgstr "\tla impresiÃ³n estÃ¡ desactivada\n"
+
+#: berkeley/lpc.c:506 berkeley/lpc.c:503 berkeley/lpc.c:504
+msgid "\tno entries\n"
+msgstr "\tno hay entradas\n"
+
+#: berkeley/lpc.c:508 berkeley/lpc.c:505 berkeley/lpc.c:506
+#, c-format
+msgid "\t%d entries\n"
+msgstr "\t%d entradas\n"
+
+#: berkeley/lpc.c:510 berkeley/lpc.c:507 berkeley/lpc.c:508
+msgid "\tdaemon present\n"
+msgstr "\tdemonio presente\n"
+
+#: berkeley/lpq.c:94
+msgid "lpq: Unable to contact server!\n"
+msgstr "lpq: No se ha podido contactar con el servidor.\n"
+
+#: berkeley/lpq.c:125 berkeley/lpr.c:114 berkeley/lprm.c:107
+#: systemv/accept.c:108 systemv/cancel.c:95 systemv/lpstat.c:115
+#: systemv/lpadmin.c:284 systemv/lp.c:135 systemv/lpinfo.c:80
+#: systemv/lpmove.c:84 systemv/accept.c:106 systemv/cancel.c:93
+#: systemv/lpmove.c:89 berkeley/lpq.c:124 systemv/lp.c:136
+#: systemv/lpstat.c:116 berkeley/lpr.c:116 systemv/lp.c:140
+#: systemv/cupsaddsmb.c:98
+#, c-format
+msgid "%s: Sorry, no encryption support compiled in!\n"
+msgstr "%s: Lo siento, no estÃ¡ compilado el uso de la opciÃ³n de cifrado.\n"
+
+#: berkeley/lpq.c:155
+#, c-format
+msgid "lpq: Unknown destination \"%s/%s\"!\n"
+msgstr "lpq: Destino desconocido \"%s/%s\".\n"
+
+#: berkeley/lpq.c:159
+#, c-format
+msgid "lpq: Unknown destination \"%s\"!\n"
+msgstr "lpq: Destino desconocido \"%s\".\n"
+
+#: berkeley/lpq.c:211 systemv/lp.c:564
+#, c-format
+msgid ""
+"lp: error - %s environment variable names non-existent destination \"%s\"!\n"
+msgstr ""
+"lp: error - los nombres de la variable de entorno %s no existentes en el destino \"%s\".\n"
+
+#: berkeley/lpq.c:216
+msgid "lpq: error - no default destination available.\n"
+msgstr "lpq: error - no estÃ¡ disponible el destino predeterminado.\n"
+
+#: berkeley/lpq.c:363 berkeley/lpq.c:523
+#, c-format
+msgid "lpq: get-jobs failed: %s\n"
+msgstr "lpq: get-jobs ha fallado: %s\n"
+
+#: berkeley/lpq.c:457 berkeley/lpq.c:444 berkeley/lpq.c:488
+msgid ""
+"Rank   Owner      Pri  Job        Files                       Total Size\n"
+msgstr ""
+"Rango  Propiet.   Pri  Trabajo    Archivos                    TamaÃ±o total\n"
+
+#: berkeley/lpq.c:461 berkeley/lpq.c:448 berkeley/lpq.c:492
+msgid "Rank    Owner   Job     File(s)                         Total Size\n"
+msgstr "Rango  Propiet. Trabajo Archivo(s)                      TamaÃ±o total\n"
+
+#: berkeley/lpq.c:498 berkeley/lpq.c:485 berkeley/lpq.c:529
+#, c-format
+msgid "%s: %-33.33s [job %d localhost]\n"
+msgstr "%s: %-33.33s [trabajo %d localhost]\n"
+
+#: berkeley/lpq.c:500 berkeley/lpq.c:487 berkeley/lpq.c:531
+#, c-format
+msgid "        %-39.39s %.0f bytes\n"
+msgstr "        %-39.39s %.de bytes\n"
+
+#: berkeley/lpq.c:506 berkeley/lpq.c:493 berkeley/lpq.c:537
+#, c-format
+msgid "%-6s %-10.10s %-4d %-10d %-27.27s %.0f bytes\n"
+msgstr "%-6s %-10.10s %-4d %-10d %-27.27s %.de bytes\n"
+
+#: berkeley/lpq.c:511 berkeley/lpq.c:498 berkeley/lpq.c:542
+#, c-format
+msgid "%-7s %-7.7s %-7d %-31.31s %.0f bytes\n"
+msgstr "%-7s %-7.7s %-7d %-31.31s %.de bytes\n"
+
+#: berkeley/lpq.c:529 berkeley/lpq.c:515 berkeley/lpq.c:559
+msgid "no entries\n"
+msgstr "no hay entradas\n"
+
+#: berkeley/lpq.c:591 berkeley/lpq.c:620
+#, c-format
+msgid "lpq: get-printer-attributes failed: %s\n"
+msgstr "lpq: get-printer-attributes ha fallado: %s\n"
+
+#: berkeley/lpq.c:605 berkeley/lpq.c:576 berkeley/lpq.c:621
+#, c-format
+msgid "%s is ready\n"
+msgstr "%s estÃ¡ preparada\n"
+
+#: berkeley/lpq.c:608 berkeley/lpq.c:579 berkeley/lpq.c:624
+#, c-format
+msgid "%s is ready and printing\n"
+msgstr "%s estÃ¡ preparada e imprimiendo\n"
+
+#: berkeley/lpq.c:612 berkeley/lpq.c:583 berkeley/lpq.c:628
+#, c-format
+msgid "%s is not ready\n"
+msgstr "%s no estÃ¡ preparada\n"
+
+#: berkeley/lpq.c:633 berkeley/lpq.c:601
+msgid "Usage: lpq [-P dest] [-l] [+interval]\n"
+msgstr "Uso: lpq (-P destino) (-I) (+intervalo)\n"
+
+#: berkeley/lpr.c:132
+#, c-format
+msgid "lpr: error - expected value after -%c option!\n"
+msgstr "lpr: error - se esperaba un valor tras la opciÃ³n %c\n"
+
+#: berkeley/lpr.c:146
+#, c-format
+msgid ""
+"lpr: warning - '%c' format modifier not supported - output may not be "
+"correct!\n"
+msgstr ""
+"lpr: advertencia - no admite el uso del modificador de formato '%c' - la "
+"salida puede que no sea correcta.\n"
+
+#: berkeley/lpr.c:159
+msgid "lpr: error - expected option=value after -o option!\n"
+msgstr "lpr: error - se esperaba opciÃ³n=valor tras la opciÃ³n -o.\n"
+
+#: berkeley/lpr.c:185
+msgid "lpr: warning - email notification is not currently supported!\n"
+msgstr "lpr: advertencia - actualmente no admite el uso de la notificaciÃ³n por email.\n"
+
+#: berkeley/lpr.c:207
+msgid "lpr: error - expected destination after -P option!\n"
+msgstr "lpr: error - se esperaba un destino tras la opciÃ³n -P.\n"
+
+#: berkeley/lpr.c:240
+msgid "lpr: error - expected copy count after -# option!\n"
+msgstr "lpr: error - se esperaba un nÃºmero de copias tras la opciÃ³n -#.\n"
+
+#: berkeley/lpr.c:263
+#, c-format
+msgid "lpr: error - expected name after -%c option!\n"
+msgstr "lpr: error - se esperaba un nombre tras la opciÃ³n -%c.\n"
+
+#: berkeley/lpr.c:281
+msgid "lpr: error - expected username after -U option!\n"
+msgstr "lpr: error - se esperaba un nombre de usuario tras la opciÃ³n -U.\n"
+
+#: berkeley/lpr.c:292
+#, c-format
+msgid "lpr: error - unknown option '%c'!\n"
+msgstr "lpr: error - opciÃ³n \"%c\" desconocida.\n"
+
+#: berkeley/lpr.c:305
+#, c-format
+msgid "lpr: error - unable to access \"%s\" - %s\n"
+msgstr "lpr: error - no se ha podido acceder a \"%s\" - \"s\n"
+
+#: berkeley/lpr.c:323
+#, c-format
+msgid "lpr: error - too many files - \"%s\"\n"
+msgstr "lpr: error - demasiados archivos - \"%s\"\n"
+
+#: berkeley/lpr.c:364
+#, c-format
+msgid ""
+"lpr: error - %s environment variable names non-existent destination \"%s\"!\n"
+msgstr ""
+"lpr: error - los nombres de variables de entorno %s no existen en el destino \"%s\".\n"
+
+#: berkeley/lpr.c:369
+msgid "lpr: error - no default destination available.\n"
+msgstr "lpr: error - no estÃ¡ disponible el destino predeterminado.\n"
+
+#: berkeley/lpr.c:372
+msgid "lpr: error - scheduler not responding!\n"
+msgstr "lpr: error- el planificador de tareas no responde.\n"
+
+#: berkeley/lpr.c:421
+#, c-format
+msgid "lpr: error - unable to create temporary file \"%s\" - %s\n"
+msgstr "lpr: error - no se ha podido crear el archivo temporal \"%s\" - %s\n"
+
+#: berkeley/lpr.c:431
+#, c-format
+msgid "lpr: error - unable to write to temporary file \"%s\" - %s\n"
+msgstr "lpr: error - no se ha podido escribir en el archivo temporal \"%s\" - %s\n"
+
+#: berkeley/lpr.c:445
+msgid "lpr: error - stdin is empty, so no job has been sent.\n"
+msgstr "lpr: error - stdin estÃ¡ vacÃ­o, por lo tanto no se ha enviado ningÃºn trabajo.\n"
+
+#: berkeley/lpr.c:461 berkeley/lpr.c:460
+#, c-format
+msgid "lpr: error - unable to print file: %s\n"
+msgstr "lpr: error - no se ha podido imprimir el archivo: %s\n"
+
+#: berkeley/lprm.c:87
+msgid "lprm: Unable to contact server!\n"
+msgstr "lprm: No se ha podido contactar con el servidor.\n"
+
+#: berkeley/lprm.c:127
+#, c-format
+msgid "lprm: Unknown destination \"%s\"!\n"
+msgstr "lprm: Destino \"%s\" desconocido.\n"
+
+#: berkeley/lprm.c:136
+#, c-format
+msgid "lprm: Unknown option '%c'!\n"
+msgstr "lprm: OpciÃ³n '%c' desconocida.\n"
+
+#: berkeley/lprm.c:223
+msgid "lprm: Job or printer not found!\n"
+msgstr "lprm: No se ha encontrado el trabajo o la impresora.\n"
+
+#: berkeley/lprm.c:227
+msgid "lprm: Not authorized to lprm job(s)!\n"
+msgstr "lprm: No tiene permiso para lprm trabajo(s).\n"
+
+#: berkeley/lprm.c:231
+#, c-format
+msgid "lprm: You don't own job ID %d!\n"
+msgstr "lprm: No es el propietario del trabajo ID %d.\n"
+
+#: berkeley/lprm.c:236
+msgid "lprm: Unable to lprm job(s)!\n"
+msgstr "lprm: No se han podido lprm trabajo(s).\n"
+
+#: berkeley/lprm.c:253 berkeley/lprm.c:269
+msgid "lprm: Unable to cancel job(s)!\n"
+msgstr "lprm: No se han podido cancelar los trabajos.\n"
+
+#: systemv/accept.c:84 systemv/accept.c:82
+#, c-format
+msgid "%s: Don't know what to do!\n"
+msgstr "%s: No sÃ© que hay que hacer.\n"
+
+#: systemv/accept.c:129 systemv/accept.c:127
+#, c-format
+msgid "%s: Expected server name after -h!\n"
+msgstr "%s: Se esperaba un nombre de servidor tras -h.\n"
+
+#: systemv/accept.c:147 systemv/accept.c:145
+#, c-format
+msgid "%s: Expected reason text after -r!\n"
+msgstr "%s: Se esperaba un texto con una razÃ³n tras -r.\n"
+
+#: systemv/accept.c:157 systemv/accept.c:155
+#, c-format
+msgid "%s: Unknown option '%c'!\n"
+msgstr "%s: OpciÃ³n '%c' desconocida.\n"
+
+#: systemv/accept.c:173 systemv/accept.c:171 systemv/accept.c:192
+#, c-format
+msgid "%s: Unable to connect to server: %s\n"
+msgstr "%s: No se ha podido conectar con el servidor: %s\n"
+
+#: systemv/accept.c:217 systemv/accept.c:227 systemv/accept.c:268
+#: systemv/accept.c:278 systemv/accept.c:206 systemv/accept.c:230
+#, c-format
+msgid "%s: Operation failed: %s\n"
+msgstr "%s: La operaciÃ³n ha fallado: %s\n"
+
+#: systemv/cancel.c:118 systemv/cancel.c:116
+msgid "cancel: Error - expected hostname after '-h' option!\n"
+msgstr "cancel: Error - se esperaba un nombre de ordenador tras la opciÃ³n '-h'.\n"
+
+#: systemv/cancel.c:139 systemv/cancel.c:137
+msgid "cancel: Error - expected username after '-u' option!\n"
+msgstr "cancel: Error - se esperaba un nombre de usuario tras la opciÃ³n '-u'.\n"
+
+#: systemv/cancel.c:150 systemv/cancel.c:148
+#, c-format
+msgid "cancel: Unknown option '%c'!\n"
+msgstr "cancel: OpciÃ³n '%c' desconocida.\n"
+
+#: systemv/cancel.c:207 systemv/cancel.c:205
+#, c-format
+msgid "cancel: Unknown destination \"%s\"!\n"
+msgstr "cancel: Destino \"%s\" desconocido.\n"
+
+#: systemv/cancel.c:229 systemv/cancel.c:319 systemv/cancel.c:227
+#: systemv/cancel.c:308
+msgid "cancel: Unable to contact server!\n"
+msgstr "cancel: No se ha podido contactar con el servidor.\n"
+
+#: systemv/cancel.c:295 systemv/cancel.c:370 systemv/cancel.c:284
+#: systemv/cancel.c:348
+#, c-format
+msgid "cancel: %s failed: %s\n"
+msgstr "cancel: %s ha fallado: %s\n"
+
+#: systemv/cupsaddsmb.c:290 systemv/cupsaddsmb.c:311
+#, c-format
+msgid "cupsaddsmb: Missing value on line %d!\n"
+msgstr "cupsaddsmb: Falta un valor en la lÃ­nea %d.\n"
+
+#: systemv/cupsaddsmb.c:301 systemv/cupsaddsmb.c:322
+#, c-format
+msgid "cupsaddsmb: Missing double quote on line %d!\n"
+msgstr "cupsaddsmb: Faltan dobles comillas en lÃ­nea %d\n"
+
+#: systemv/cupsaddsmb.c:313 systemv/cupsaddsmb.c:334
+#, c-format
+msgid "cupsaddsmb: Bad option + choice on line %d!\n"
+msgstr "cupsaddsmb: Mala opciÃ³n + preferencia en lÃ­nea %d.\n"
+
+#: systemv/cupsaddsmb.c:496 systemv/cupsaddsmb.c:553
+#, c-format
+msgid "cupsaddsmb: Unable to connect to server \"%s\" for %s - %s\n"
+msgstr "cupsaddsmb: No se ha podido conectar al servidor \"%s\" para %s - %s\n"
+
+#: systemv/cupsaddsmb.c:509 systemv/cupsaddsmb.c:566
+#, c-format
+msgid "cupsaddsmb: No PPD file for printer \"%s\" - skipping!\n"
+msgstr "cupsaddsmb: No hay archivo PPD para la impresora \"%s\" - omitiendo.\n"
+
+#: systemv/cupsaddsmb.c:548 systemv/cupsaddsmb.c:562
+#, c-format
+msgid "cupsaddsmb: get-printer-attributes failed for \"%s\": %s\n"
+msgstr "cupsaddsmb: get-printer-attributes ha fallado para \"%s\": %s\n"
+
+#: systemv/cupsaddsmb.c:578 systemv/cupsaddsmb.c:620
+#, c-format
+msgid "cupsaddsmb: Unable to convert PPD file for %s - %s\n"
+msgstr "cupsaddsmb: No se ha podido convertir el archivo PPD para %s - %s\n"
+
+#: systemv/cupsaddsmb.c:633 systemv/cupsaddsmb.c:677
+#, c-format
+msgid "cupsaddsmb: Unable to copy Windows 2000 printer driver files (%d)!\n"
+msgstr "cupsaddsmb: No se han podido copiar los archivos de los controladores de impresoras de Windows 2000 (%d).\n"
+
+#: systemv/cupsaddsmb.c:660 systemv/cupsaddsmb.c:704
+#, c-format
+msgid "cupsaddsmb: Unable to copy CUPS printer driver files (%d)!\n"
+msgstr "cupsaddsmb: No se han podido copiar los archivos de los controladores de impresoras de CUPS (%d).\n"
+
+#: systemv/cupsaddsmb.c:697 systemv/cupsaddsmb.c:739
+#, c-format
+msgid "cupsaddsmb: Unable to install Windows 2000 printer driver files (%d)!\n"
+msgstr "cupsaddsmb: No se han podido instalar los archivos de los controladores de impresoras de Windows 2000 (%d).\n"
+
+#: systemv/cupsaddsmb.c:727 systemv/cupsaddsmb.c:771
+#, c-format
+msgid "cupsaddsmb: Unable to copy Windows 9x printer driver files (%d)!\n"
+msgstr "cupsaddsmb: No se han podido copiar los archivos de los controladores de impresoras de Windows 9x (%d).\n"
+
+#: systemv/cupsaddsmb.c:750 systemv/cupsaddsmb.c:792
+#, c-format
+msgid "cupsaddsmb: Unable to install Windows 9x printer driver files (%d)!\n"
+msgstr "cupsaddsmb: No se han podido instalar los archivos de los controladores de impresoras de Windows 9x (%d).\n"
+
+#: systemv/cupsaddsmb.c:771 systemv/cupsaddsmb.c:822
+#, c-format
+msgid "cupsaddsmb: Unable to set Windows printer driver (%d)!\n"
+msgstr "cupsaddsmb: No se ha podido poner el controlador de impresora de Windows (%d).\n"
+
+#: systemv/cupsaddsmb.c:854 systemv/cupsaddsmb.c:905
+msgid ""
+"Usage: cupsaddsmb [options] printer1 ... printerN\n"
+"       cupsaddsmb [options] -a\n"
+"\n"
+"Options:\n"
+"  -H samba-server  Use the named SAMBA server\n"
+"  -U samba-user    Authenticate using the named SAMBA user\n"
+"  -a               Export all printers\n"
+"  -h cups-server   Use the named CUPS server\n"
+"  -v               Be verbose (show commands)\n"
+msgstr ""
+"Uso: cupsaddsmb (opciones) impresora1 ... impresoraN\n"
+"       cupsaddsmb (opciones) -a\n"
+"\n"
+"Opciones:\n"
+"  -H servidor-samba  Usa el servidor SAMBA especificado\n"
+"  -U usuario-samba   Autentifica usando el usuario SAMBA especificado\n"
+"  -a               Exporta todas las impresoras\n"
+"  -h servidor-cups   Usa el servidor CUPS especificado\n"
+"  -v               Ser detallado (mostrar comandos)\n"
+
+#: systemv/cupstestppd.c:120 systemv/cupstestppd.c:137
+msgid "cupstestppd: The -q option is incompatible with the -v option.\n"
+msgstr "cupstestppd: La opciÃ³n -q no es compatible con la opciÃ³n -v.\n"
+
+#: systemv/cupstestppd.c:136 systemv/cupstestppd.c:153
+msgid "cupstestppd: The -v option is incompatible with the -q option.\n"
+msgstr "cupstestppd: La opciÃ³n -v no es compatible con la opciÃ³n -q.\n"
+
+#: systemv/cupstestppd.c:193 systemv/cupstestppd.c:210
+#, c-format
+msgid ""
+" FAIL\n"
+"      **FAIL**  Unable to open PPD file - %s\n"
+msgstr ""
+" FALLO\n"
+"      **FALLO**  No se ha podido abrir el archivo PPD - %s\n"
+
+#: systemv/cupstestppd.c:204 systemv/cupstestppd.c:221
+#, c-format
+msgid ""
+" FAIL\n"
+"      **FAIL**  Unable to open PPD file - %s on line %d.\n"
+msgstr ""
+" FALLO\n"
+"      **FALLO**  No se ha podido abrir el archivo PPD - %s en la lÃ­nea %d.\n"
+
+#: systemv/cupstestppd.c:213 systemv/cupstestppd.c:230
+msgid "                REF: Page 42, section 5.2.\n"
+msgstr "                REF: PÃ¡gina 42, secciÃ³n 5.2.\n"
+
+#: systemv/cupstestppd.c:217 systemv/cupstestppd.c:234
+msgid "                REF: Page 20, section 3.4.\n"
+msgstr "                REF: PÃ¡gina 20, secciÃ³n 3.4.\n"
+
+#: systemv/cupstestppd.c:222 systemv/cupstestppd.c:239
+msgid "                REF: Pages 45-46, section 5.2.\n"
+msgstr "                REF: PÃ¡ginas 45-46, secciÃ³n 5.2.\n"
+
+#: systemv/cupstestppd.c:227 systemv/cupstestppd.c:244
+msgid "                REF: Pages 42-45, section 5.2.\n"
+msgstr "                REF: PÃ¡ginas 42-45, secciÃ³n 5.2.\n"
+
+#: systemv/cupstestppd.c:231 systemv/cupstestppd.c:248
+msgid "                REF: Pages 48-49, section 5.2.\n"
+msgstr "                REF: PÃ¡ginas 48-49, secciÃ³n 5.2.\n"
+
+#: systemv/cupstestppd.c:235 systemv/cupstestppd.c:252
+msgid "                REF: Pages 52-54, section 5.2.\n"
+msgstr "                REF: PÃ¡ginas 52-54, secciÃ³n 5.2.\n"
+
+#: systemv/cupstestppd.c:239 systemv/cupstestppd.c:256
+msgid "                REF: Page 15, section 3.2.\n"
+msgstr "                REF: PÃ¡gina 15, secciÃ³n 3.2.\n"
+
+#: systemv/cupstestppd.c:243 systemv/cupstestppd.c:247
+#: systemv/cupstestppd.c:260 systemv/cupstestppd.c:264
+msgid "                REF: Page 15, section 3.1.\n"
+msgstr "                REF: PÃ¡gina 15, secciÃ³n 3.1.\n"
+
+#: systemv/cupstestppd.c:251 systemv/cupstestppd.c:268
+msgid "                REF: Pages 16-17, section 3.2.\n"
+msgstr "                REF: PÃ¡ginas 16-17, secciÃ³n 3.2.\n"
+
+#: systemv/cupstestppd.c:255 systemv/cupstestppd.c:272
+msgid "                REF: Page 19, section 3.3.\n"
+msgstr "                REF: PÃ¡gina 19, secciÃ³n 3.3.\n"
+
+#: systemv/cupstestppd.c:259 systemv/cupstestppd.c:276
+msgid "                REF: Page 27, section 3.5.\n"
+msgstr "                REF: PÃ¡gina 27, secciÃ³n 3.5.\n"
+
+#: systemv/cupstestppd.c:280 systemv/cupstestppd.c:299
+msgid ""
+"\n"
+"    DETAILED CONFORMANCE TEST RESULTS\n"
+msgstr ""
+"\n"
+"    RESULTADOS DETALLADOS DE LA PRUEBA DE CONFORMIDAD\n"
+
+#: systemv/cupstestppd.c:307 systemv/cupstestppd.c:326
+#: systemv/cupstestppd.c:325
+#, c-format
+msgid "        WARN    %s has no corresponding options!\n"
+msgstr "        ADVERTENCIA    %s tiene opciones que no corresponden.\n"
+
+#: systemv/cupstestppd.c:318 systemv/cupstestppd.c:333
+#: systemv/cupstestppd.c:354 systemv/cupstestppd.c:369
+#: systemv/cupstestppd.c:397 systemv/cupstestppd.c:417
+#: systemv/cupstestppd.c:439 systemv/cupstestppd.c:459
+#: systemv/cupstestppd.c:479 systemv/cupstestppd.c:499
+#: systemv/cupstestppd.c:517 systemv/cupstestppd.c:535
+#: systemv/cupstestppd.c:556 systemv/cupstestppd.c:575
+#: systemv/cupstestppd.c:595 systemv/cupstestppd.c:615
+#: systemv/cupstestppd.c:635 systemv/cupstestppd.c:655
+#: systemv/cupstestppd.c:673 systemv/cupstestppd.c:690
+#: systemv/cupstestppd.c:712 systemv/cupstestppd.c:730
+#: systemv/cupstestppd.c:747 systemv/cupstestppd.c:765
+#: systemv/cupstestppd.c:781 systemv/cupstestppd.c:801
+#: systemv/cupstestppd.c:832 systemv/cupstestppd.c:854
+#: systemv/cupstestppd.c:902 systemv/cupstestppd.c:931
+#: systemv/cupstestppd.c:952 systemv/cupstestppd.c:337
+#: systemv/cupstestppd.c:352 systemv/cupstestppd.c:373
+#: systemv/cupstestppd.c:388 systemv/cupstestppd.c:416
+#: systemv/cupstestppd.c:436 systemv/cupstestppd.c:458
+#: systemv/cupstestppd.c:478 systemv/cupstestppd.c:498
+#: systemv/cupstestppd.c:518 systemv/cupstestppd.c:536
+#: systemv/cupstestppd.c:554 systemv/cupstestppd.c:594
+#: systemv/cupstestppd.c:614 systemv/cupstestppd.c:634
+#: systemv/cupstestppd.c:654 systemv/cupstestppd.c:674
+#: systemv/cupstestppd.c:692 systemv/cupstestppd.c:709
+#: systemv/cupstestppd.c:731 systemv/cupstestppd.c:749
+#: systemv/cupstestppd.c:766 systemv/cupstestppd.c:784
+#: systemv/cupstestppd.c:800 systemv/cupstestppd.c:820
+#: systemv/cupstestppd.c:851 systemv/cupstestppd.c:873
+#: systemv/cupstestppd.c:921 systemv/cupstestppd.c:950
+#: systemv/cupstestppd.c:971 systemv/cupstestppd.c:343
+#: systemv/cupstestppd.c:361 systemv/cupstestppd.c:376
+#: systemv/cupstestppd.c:412 systemv/cupstestppd.c:440
+#: systemv/cupstestppd.c:460 systemv/cupstestppd.c:482
+#: systemv/cupstestppd.c:502 systemv/cupstestppd.c:522
+#: systemv/cupstestppd.c:542 systemv/cupstestppd.c:560
+#: systemv/cupstestppd.c:578 systemv/cupstestppd.c:599
+#: systemv/cupstestppd.c:618 systemv/cupstestppd.c:638
+#: systemv/cupstestppd.c:658 systemv/cupstestppd.c:678
+#: systemv/cupstestppd.c:698 systemv/cupstestppd.c:716
+#: systemv/cupstestppd.c:733 systemv/cupstestppd.c:755
+#: systemv/cupstestppd.c:773 systemv/cupstestppd.c:790
+#: systemv/cupstestppd.c:808 systemv/cupstestppd.c:824
+#: systemv/cupstestppd.c:844 systemv/cupstestppd.c:875
+#: systemv/cupstestppd.c:897 systemv/cupstestppd.c:945
+#: systemv/cupstestppd.c:974 systemv/cupstestppd.c:995
+#: systemv/cupstestppd.c:1050 systemv/cupstestppd.c:1075
+#: systemv/cupstestppd.c:1095 systemv/cupstestppd.c:1116
+#: systemv/cupstestppd.c:1138 systemv/cupstestppd.c:1172
+msgid " FAIL\n"
+msgstr " FALLO\n"
+
+#: systemv/cupstestppd.c:321 systemv/cupstestppd.c:340
+#: systemv/cupstestppd.c:364
+msgid ""
+"      **FAIL**  REQUIRED DefaultImageableArea\n"
+"                REF: Page 102, section 5.15.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA DefaultImageableArea\n"
+"                REF: PÃ¡gina 102, secciÃ³n 5.15.\n"
+
+#: systemv/cupstestppd.c:336 systemv/cupstestppd.c:355
+#: systemv/cupstestppd.c:379
+#, c-format
+msgid ""
+"      **FAIL**  BAD DefaultImageableArea %s!\n"
+"                REF: Page 102, section 5.15.\n"
+msgstr ""
+"      **FALLO**  MAL DefaultImageableArea %s\n"
+"                REF: PÃ¡gina 102, secciÃ³n 5.15.\n"
+
+#: systemv/cupstestppd.c:346 systemv/cupstestppd.c:365
+#: systemv/cupstestppd.c:389
+msgid "        PASS    DefaultImageableArea\n"
+msgstr "        PASA    DefaultImageableArea\n"
+
+#: systemv/cupstestppd.c:357 systemv/cupstestppd.c:376
+#: systemv/cupstestppd.c:400
+msgid ""
+"      **FAIL**  REQUIRED DefaultPaperDimension\n"
+"                REF: Page 103, section 5.15.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA DefaultPaperDimension\n"
+"                REF: PÃ¡gina 103, secciÃ³n 5.15.\n"
+
+#: systemv/cupstestppd.c:372 systemv/cupstestppd.c:391
+#: systemv/cupstestppd.c:415
+#, c-format
+msgid ""
+"      **FAIL**  BAD DefaultPaperDimension %s!\n"
+"                REF: Page 103, section 5.15.\n"
+msgstr ""
+"      **FALLO**  MAL DefaultPaperDimension %s.\n"
+"                REF: PÃ¡gina 103, secciÃ³n 5.15.\n"
+
+#: systemv/cupstestppd.c:380 systemv/cupstestppd.c:399
+#: systemv/cupstestppd.c:423
+msgid "        PASS    DefaultPaperDimension\n"
+msgstr "        PASA    DefaultPaperDimension\n"
+
+#: systemv/cupstestppd.c:400 systemv/cupstestppd.c:419
+#: systemv/cupstestppd.c:443
+#, c-format
+msgid ""
+"      **FAIL**  BAD Default%s %s\n"
+"                REF: Page 40, section 4.5.\n"
+msgstr ""
+"      **FALLO**  MAL %s %s predeterminado\n"
+"                REF: PÃ¡gina 40, secciÃ³n 4.5.\n"
+
+#: systemv/cupstestppd.c:409 systemv/cupstestppd.c:428
+#: systemv/cupstestppd.c:452
+#, c-format
+msgid "        PASS    Default%s\n"
+msgstr "        PASA    %s predeterminado\n"
+
+#: systemv/cupstestppd.c:420 systemv/cupstestppd.c:439
+#: systemv/cupstestppd.c:463
+#, c-format
+msgid ""
+"      **FAIL**  REQUIRED Default%s\n"
+"                REF: Page 40, section 4.5.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA %s predeterminado\n"
+"                REF: PÃ¡gina 40, secciÃ³n 4.5.\n"
+
+#: systemv/cupstestppd.c:432 systemv/cupstestppd.c:451
+#: systemv/cupstestppd.c:475
+msgid "        PASS    FileVersion\n"
+msgstr "        PASA    FileVersion\n"
+
+#: systemv/cupstestppd.c:442 systemv/cupstestppd.c:461
+#: systemv/cupstestppd.c:485
+msgid ""
+"      **FAIL**  REQUIRED FileVersion\n"
+"                REF: Page 56, section 5.3.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA FileVersion\n"
+"                REF: PÃ¡gina 56, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:452 systemv/cupstestppd.c:471
+#: systemv/cupstestppd.c:495
+msgid "        PASS    FormatVersion\n"
+msgstr "        PASA    FormatVersion\n"
+
+#: systemv/cupstestppd.c:462 systemv/cupstestppd.c:481
+#: systemv/cupstestppd.c:505
+msgid ""
+"      **FAIL**  REQUIRED FormatVersion\n"
+"                REF: Page 56, section 5.3.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA FormatVersion\n"
+"                REF: PÃ¡gina 56, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:472 systemv/cupstestppd.c:491
+#: systemv/cupstestppd.c:515
+msgid "        PASS    LanguageEncoding\n"
+msgstr "        PASA    LanguageEncoding\n"
+
+#: systemv/cupstestppd.c:482 systemv/cupstestppd.c:501
+#: systemv/cupstestppd.c:525
+msgid ""
+"      **FAIL**  REQUIRED LanguageEncoding\n"
+"                REF: Pages 56-57, section 5.3.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA LanguageEncoding\n"
+"                REF: PÃ¡ginas 56-57, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:492 systemv/cupstestppd.c:511
+#: systemv/cupstestppd.c:535
+msgid "        PASS    LanguageVersion\n"
+msgstr "        PASA    LanguageVersion\n"
+
+#: systemv/cupstestppd.c:502 systemv/cupstestppd.c:521
+#: systemv/cupstestppd.c:545
+msgid ""
+"      **FAIL**  REQUIRED LanguageVersion\n"
+"                REF: Pages 57-58, section 5.3.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA LanguageVersion\n"
+"                REF: PÃ¡ginas 57-58, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:520 systemv/cupstestppd.c:539
+#: systemv/cupstestppd.c:563
+msgid ""
+"      **FAIL**  BAD Manufacturer (should be \"HP\")\n"
+"                REF: Page 211, table D.1.\n"
+msgstr ""
+"      **FALLO**  Fabricante INCORRECTO (deberÃ­a ser \"HP\")\n"
+"                REF: PÃ¡gina 211, tabla D.1.\n"
+
+#: systemv/cupstestppd.c:528 systemv/cupstestppd.c:547
+#: systemv/cupstestppd.c:571
+msgid "        PASS    Manufacturer\n"
+msgstr "        PASA    Manufacturer\n"
+
+#: systemv/cupstestppd.c:538 systemv/cupstestppd.c:557
+#: systemv/cupstestppd.c:581
+msgid ""
+"      **FAIL**  REQUIRED Manufacturer\n"
+"                REF: Pages 58-59, section 5.3.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA Manufacturer\n"
+"                REF: PÃ¡ginas 58-59, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:559 systemv/cupstestppd.c:578
+#: systemv/cupstestppd.c:602
+#, c-format
+msgid ""
+"      **FAIL**  BAD ModelName - \"%c\" not allowed in string.\n"
+"                REF: Pages 59-60, section 5.3.\n"
+msgstr ""
+"      **FALLO**  MAL  ModelName - \"%c\" no estÃ¡ permitido en la cadena.\n"
+"                REF: PÃ¡ginas 59-60, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:568 systemv/cupstestppd.c:587
+#: systemv/cupstestppd.c:611
+msgid "        PASS    ModelName\n"
+msgstr "        PASA    ModelName\n"
+
+#: systemv/cupstestppd.c:578 systemv/cupstestppd.c:597
+#: systemv/cupstestppd.c:621
+msgid ""
+"      **FAIL**  REQUIRED ModelName\n"
+"                REF: Pages 59-60, section 5.3.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA ModelName\n"
+"                REF: PÃ¡ginas 59-60, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:588 systemv/cupstestppd.c:607
+#: systemv/cupstestppd.c:631
+msgid "        PASS    NickName\n"
+msgstr "        PASA    NickName\n"
+
+#: systemv/cupstestppd.c:598 systemv/cupstestppd.c:617
+#: systemv/cupstestppd.c:641
+msgid ""
+"      **FAIL**  REQUIRED NickName\n"
+"                REF: Page 60, section 5.3.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA NickName\n"
+"                REF: PÃ¡gina 60, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:608 systemv/cupstestppd.c:627
+#: systemv/cupstestppd.c:651
+msgid "        PASS    PageSize\n"
+msgstr "        PASA    PageSize\n"
+
+#: systemv/cupstestppd.c:618 systemv/cupstestppd.c:637
+#: systemv/cupstestppd.c:661
+msgid ""
+"      **FAIL**  REQUIRED PageSize\n"
+"                REF: Pages 99-100, section 5.14.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA PageSize\n"
+"                REF: PÃ¡ginas 99-100, secciÃ³n 5.14.\n"
+
+#: systemv/cupstestppd.c:628 systemv/cupstestppd.c:647
+#: systemv/cupstestppd.c:671
+msgid "        PASS    PageRegion\n"
+msgstr "        PASA    PageRegion\n"
+
+#: systemv/cupstestppd.c:638 systemv/cupstestppd.c:657
+#: systemv/cupstestppd.c:681
+msgid ""
+"      **FAIL**  REQUIRED PageRegion\n"
+"                REF: Page 100, section 5.14.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA PageRegion\n"
+"                REF: PÃ¡gina 100, secciÃ³n 5.14.\n"
+
+#: systemv/cupstestppd.c:648 systemv/cupstestppd.c:667
+#: systemv/cupstestppd.c:691
+msgid "        PASS    PCFileName\n"
+msgstr "        PASA    PCFileName\n"
+
+#: systemv/cupstestppd.c:658 systemv/cupstestppd.c:677
+#: systemv/cupstestppd.c:701
+msgid ""
+"      **FAIL**  REQUIRED PCFileName\n"
+"                REF: Pages 61-62, section 5.3.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA PCFileName\n"
+"                REF: PÃ¡ginas 61-62, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:676 systemv/cupstestppd.c:695
+#: systemv/cupstestppd.c:719
+msgid ""
+"      **FAIL**  BAD Product - not \"(string)\".\n"
+"                REF: Page 62, section 5.3.\n"
+msgstr ""
+"      **FALLO**  MAL Product - no es \"(string)\".\n"
+"                REF: PÃ¡gina 62, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:683 systemv/cupstestppd.c:702
+#: systemv/cupstestppd.c:726
+msgid "        PASS    Product\n"
+msgstr "        PASA    Product\n"
+
+#: systemv/cupstestppd.c:693 systemv/cupstestppd.c:712
+#: systemv/cupstestppd.c:736
+msgid ""
+"      **FAIL**  REQUIRED Product\n"
+"                REF: Page 62, section 5.3.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA Product\n"
+"                REF: PÃ¡gina 62, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:715 systemv/cupstestppd.c:734
+#: systemv/cupstestppd.c:758
+msgid ""
+"      **FAIL**  BAD PSVersion - not \"(string) int\".\n"
+"                REF: Pages 62-64, section 5.3.\n"
+msgstr ""
+"      **FALLO**  MAL PSVersion - no es \"(string) int\".\n"
+"                REF: PÃ¡ginas 62-64, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:723 systemv/cupstestppd.c:742
+#: systemv/cupstestppd.c:766
+msgid "        PASS    PSVersion\n"
+msgstr "        PASA    PSVersion\n"
+
+#: systemv/cupstestppd.c:733 systemv/cupstestppd.c:752
+#: systemv/cupstestppd.c:776
+msgid ""
+"      **FAIL**  REQUIRED PSVersion\n"
+"                REF: Pages 62-64, section 5.3.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA PSVersion\n"
+"                REF: PÃ¡ginas 62-64, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:750 systemv/cupstestppd.c:769
+#: systemv/cupstestppd.c:793
+msgid ""
+"      **FAIL**  BAD ShortNickName - longer than 31 chars.\n"
+"                REF: Pages 64-65, section 5.3.\n"
+msgstr ""
+"      **FALLO**  MAL ShortNickName - mayor de 31 caracteres.\n"
+"                REF: PÃ¡ginas 64-65, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:758 systemv/cupstestppd.c:777
+#: systemv/cupstestppd.c:801
+msgid "        PASS    ShortNickName\n"
+msgstr "        PASA    ShortNickName\n"
+
+#: systemv/cupstestppd.c:768 systemv/cupstestppd.c:787
+#: systemv/cupstestppd.c:811
+msgid ""
+"      **FAIL**  REQUIRED ShortNickName\n"
+"                REF: Page 64-65, section 5.3.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA ShortNickName\n"
+"                REF: PÃ¡gina 64-65, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:784 systemv/cupstestppd.c:803
+#: systemv/cupstestppd.c:827
+msgid ""
+"      **FAIL**  BAD JobPatchFile attribute in file\n"
+"                REF: Page 24, section 3.4.\n"
+msgstr ""
+"      **FALLO**  MAL atributo JobPatchFile en archivo\n"
+"                REF: PÃ¡gina 24, secciÃ³n 3.4.\n"
+
+#: systemv/cupstestppd.c:804 systemv/cupstestppd.c:823
+#: systemv/cupstestppd.c:847
+msgid ""
+"      **FAIL**  REQUIRED PageSize\n"
+"                REF: Page 41, section 5.\n"
+"                REF: Page 99, section 5.14.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA PageSize\n"
+"                REF: PÃ¡gina 41, secciÃ³n 5.\n"
+"                REF: PÃ¡gina 99, secciÃ³n 5.14.\n"
+
+#: systemv/cupstestppd.c:835 systemv/cupstestppd.c:854
+#: systemv/cupstestppd.c:878
+#, c-format
+msgid ""
+"      **FAIL**  REQUIRED ImageableArea for PageSize %s\n"
+"                REF: Page 41, section 5.\n"
+"                REF: Page 102, section 5.15.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA ImageableArea para PageSize %s\n"
+"                REF: PÃ¡gina 41, secciÃ³n 5.\n"
+"                REF: PÃ¡gina 102, secciÃ³n 5.15.\n"
+
+#: systemv/cupstestppd.c:857 systemv/cupstestppd.c:876
+#: systemv/cupstestppd.c:900
+#, c-format
+msgid ""
+"      **FAIL**  REQUIRED PaperDimension for PageSize %s\n"
+"                REF: Page 41, section 5.\n"
+"                REF: Page 103, section 5.15.\n"
+msgstr ""
+"      **FALLO**  SE NECESITA PaperDimension para PageSize %s\n"
+"                REF: PÃ¡gina 41, secciÃ³n 5.\n"
+"                REF: PÃ¡gina 103, secciÃ³n 5.15.\n"
+
+#: systemv/cupstestppd.c:905 systemv/cupstestppd.c:924
+#: systemv/cupstestppd.c:948
+#, c-format
+msgid ""
+"      **FAIL**  Bad %s choice %s!\n"
+"                REF: Page 84, section 5.9\n"
+msgstr ""
+"      **FALLO**  Preferencia %s incorrecta %s.\n"
+"                REF: PÃ¡gina 84, secciÃ³n 5.9\n"
+
+#: systemv/cupstestppd.c:934 systemv/cupstestppd.c:953
+#: systemv/cupstestppd.c:977
+#, c-format
+msgid ""
+"      **FAIL**  REQUIRED %s does not define choice None!\n"
+"                REF: Page 122, section 5.17\n"
+msgstr ""
+"      **FALLO**  SE NECESITA %s no define la preferencia None\n"
+"                REF: PÃ¡gina 122, secciÃ³n 5.17\n"
+
+#: systemv/cupstestppd.c:955 systemv/cupstestppd.c:974
+#: systemv/cupstestppd.c:998
+#, c-format
+msgid ""
+"      **FAIL**  Bad %s choice %s!\n"
+"                REF: Page 122, section 5.17\n"
+msgstr ""
+"      **FALLO**  Preferencia %s incorrecta %s.\n"
+"                REF: PÃ¡gina 122, secciÃ³n 5.17\n"
+
+#: systemv/cupstestppd.c:967 systemv/cupstestppd.c:986
+#: systemv/cupstestppd.c:1186
+msgid " PASS\n"
+msgstr " PASA\n"
+
+#: systemv/cupstestppd.c:976 systemv/cupstestppd.c:997
+#: systemv/cupstestppd.c:1197
+#, c-format
+msgid ""
+"        WARN    Duplex option keyword %s should be named Duplex or "
+"JCLDuplex!\n"
+"                REF: Page 122, section 5.17\n"
+msgstr ""
+"        ADVERTENCIA    Clave de opciÃ³n Duplex %s deberÃ­a llamarse Duplex o "
+"JCLDuplex.\n"
+"                REF: PÃ¡gina 122, secciÃ³n 5.17\n"
+
+#: systemv/cupstestppd.c:986 systemv/cupstestppd.c:1007
+#: systemv/cupstestppd.c:1207
+msgid "        WARN    Default choices conflicting!\n"
+msgstr ""
+"        ADVERTENCIA    Las preferencias predeterminadas estÃ¡n en conflicto.\n"
+
+#: systemv/cupstestppd.c:994 systemv/cupstestppd.c:1015
+#: systemv/cupstestppd.c:1215
+#, c-format
+msgid ""
+"        WARN    Obsolete PPD version %.1f!\n"
+"                REF: Page 42, section 5.2.\n"
+msgstr ""
+"        ADVERTENCIA    VersiÃ³n de PPD %.1f anticuada.\n"
+"                REF: PÃ¡gina 42, secciÃ³n 5.2.\n"
+
+#: systemv/cupstestppd.c:1002 systemv/cupstestppd.c:1023
+#: systemv/cupstestppd.c:1223
+msgid ""
+"        WARN    LanguageEncoding required by PPD 4.3 spec.\n"
+"                REF: Pages 56-57, section 5.3.\n"
+msgstr ""
+"        ADVERTENCIA    Se necesita LanguageEncoding por especificaciÃ³n de PPD 4.3.\n"
+"                REF: PÃ¡ginas 56-57, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:1010 systemv/cupstestppd.c:1031
+#: systemv/cupstestppd.c:1231
+msgid ""
+"        WARN    Manufacturer required by PPD 4.3 spec.\n"
+"                REF: Pages 58-59, section 5.3.\n"
+msgstr ""
+"        ADVERTENCIA    Se necesita Manufacturer por especificaciÃ³n de PPD 4.3.\n"
+"                REF: PÃ¡ginas 58-59, seccion 5.3.\n"
+
+#: systemv/cupstestppd.c:1023 systemv/cupstestppd.c:1044
+#: systemv/cupstestppd.c:1244
+msgid ""
+"        WARN    PCFileName longer than 8.3 in violation of PPD spec.\n"
+"                REF: Pages 61-62, section 5.3.\n"
+msgstr ""
+"        ADVERTENCIA    PCFileName es mas largo que 8.3 violando la especificaciÃ³n PPD.\n"
+"                REF: PÃ¡ginas 61-62, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:1031 systemv/cupstestppd.c:1052
+#: systemv/cupstestppd.c:1252
+msgid ""
+"        WARN    ShortNickName required by PPD 4.3 spec.\n"
+"                REF: Pages 64-65, section 5.3.\n"
+msgstr ""
+"        ADVERTENCIA    Se necesita ShortNickName por especificaciÃ³n de PPD 4.3.\n"
+"                REF: PÃ¡ginas 64-65, secciÃ³n 5.3.\n"
+
+#: systemv/cupstestppd.c:1048 systemv/cupstestppd.c:1069
+#: systemv/cupstestppd.c:1269
+msgid ""
+"        WARN    Protocols contains both PJL and BCP; expected TBCP.\n"
+"                REF: Pages 78-79, section 5.7.\n"
+msgstr ""
+"        ADVERTENCIA    Protocols contiene a ambos, PJL y BCP; se esperaba TBCP.\n"
+"                REF: PÃ¡ginas 78-79, secciÃ³n 5.7.\n"
+
+#: systemv/cupstestppd.c:1057 systemv/cupstestppd.c:1078
+#: systemv/cupstestppd.c:1278
+msgid ""
+"        WARN    Protocols contains PJL but JCL attributes are not set.\n"
+"                REF: Pages 78-79, section 5.7.\n"
+msgstr ""
+"        ADVERTENCIA    Protocols contiene a PJL pero no se especifican los atributos JCL.\n"
+"                REF: PÃ¡ginas 78-79, secciÃ³n 5.7.\n"
+
+#: systemv/cupstestppd.c:1085 systemv/cupstestppd.c:1106
+#: systemv/cupstestppd.c:1306
+#, c-format
+msgid ""
+"        WARN    %s shares a common prefix with %s\n"
+"                REF: Page 15, section 3.2.\n"
+msgstr ""
+"        ADVERTENCIA    %s comparte un prefijo comÃºn con %s\n"
+"                REF: PÃ¡gina 15, secciÃ³n 3.2.\n"
+
+#: systemv/cupstestppd.c:1097 systemv/cupstestppd.c:1118
+#: systemv/cupstestppd.c:1318
+#, c-format
+msgid "    %d ERROR%s FOUND\n"
+msgstr "    %d ERROR%s ENCONTRADO(S)\n"
+
+#: systemv/cupstestppd.c:1100 systemv/cupstestppd.c:1121
+#: systemv/cupstestppd.c:1321
+msgid "    NO ERRORS FOUND\n"
+msgstr "....NO SE HAN ENCONTRADO ERRORES\n"
+
+#: systemv/cupstestppd.c:1360 systemv/cupstestppd.c:1465
+#: systemv/cupstestppd.c:1665
+#, c-format
+msgid ""
+"        WARN    \"%s %s\" conflicts with \"%s %s\"\n"
+"                (constraint=\"%s %s %s %s\")\n"
+msgstr ""
+"        ADVERTENCIA    \"%s %s\" estÃ¡ en conflicto con \"%s %s\"\n"
+"                (restricciÃ³n=\"%s %s %s %s\")\n"
+
+#: systemv/cupstestppd.c:1376 systemv/cupstestppd.c:1481
+#: systemv/cupstestppd.c:1681
+msgid ""
+"Usage: cupstestppd [-q] [-r] [-v[v]] filename1.ppd[.gz] [... filenameN.ppd[."
+"gz]]\n"
+"       program | cupstestppd [-q] [-r] [-v[v]] -\n"
+msgstr ""
+"Uso: cupstestppd [-q] [-r] [-v[v]] nombre_archivo1.ppd[.gz] [... "
+"nombre_archivoN.ppd[.gz]]\n"
+"       programa | cupstestppd [-q] [-r] [-v[v]] -\n"
+
+#: systemv/lpstat.c:144 systemv/lpstat.c:155
+msgid "lpstat: Need \"completed\" or \"not-completed\" after -W!\n"
+msgstr "lpstat: Se necesita 'completed' o 'not completed' tras -W.\n"
+
+#: systemv/lpstat.c:212 systemv/lpstat.c:213
+msgid "lpstat: The -b option requires a destination argument.\n"
+msgstr "lpstat: La opciÃ³n -b necesita un argumento destino.\n"
+
+#: systemv/lpstat.c:274 systemv/lpinfo.c:143 systemv/lpmove.c:105
+#: systemv/lpmove.c:110 systemv/lpstat.c:275
+msgid "Error: need hostname after '-h' option!\n"
+msgstr "Error: se necesita un nombre de ordenador tras la opciÃ³n '-h'.\n"
+
+#: systemv/lpstat.c:433 systemv/lpstat.c:434
+#, c-format
+msgid "lpstat: Unknown option '%c'!\n"
+msgstr "lpstat: OpciÃ³n '%c' desconocida.\n"
+
+#: systemv/lpstat.c:504 systemv/lpstat.c:505
+#, c-format
+msgid "lpstat: Invalid destination name in list \"%s\"!\n"
+msgstr "lpstat: Nombre de destino invÃ¡lido en lista \"%s\".\n"
+
+#: systemv/lpstat.c:519 systemv/lpstat.c:520
+#, c-format
+msgid "lpstat: Unknown destination \"%s\"!\n"
+msgstr "lpstat: Destino desconocido \"%s\".\n"
+
+#: systemv/lpstat.c:541 systemv/lpstat.c:542
+#, c-format
+msgid "lpstat: Unable to connect to server %s on port %d: %s\n"
+msgstr "lpstat: No se ha podido conectar al servidor %s en el puerto %d: %s\n"
+
+#: systemv/lpstat.c:625 systemv/lpstat.c:773 systemv/lpstat.c:1187
+#: systemv/lpstat.c:1379 systemv/lpstat.c:1809 systemv/lpstat.c:2262
+#, c-format
+msgid "lpstat: get-printers failed: %s\n"
+msgstr "lpstat: get-printers ha fallado: %s\n"
+
+#: systemv/lpstat.c:741
+#, c-format
+msgid "%s accepting requests since Jan 01 00:00\n"
+msgstr "%s aceptando peticiones desde Ene 01 00:00\n"
+
+#: systemv/lpstat.c:745
+#, c-format
+msgid ""
+"%s not accepting requests since Jan 01 00:00 -\n"
+"\t%s\n"
+msgstr ""
+"%s no aceptando peticiones desde Ene 01 00:00 - \n"
+"\t%s\n"
+
+#: systemv/lpstat.c:754
+#, c-format
+msgid "%s/%s accepting requests since Jan 01 00:00\n"
+msgstr "%s/%s aceptando peticiones desde Ene 01 00:00\n"
+
+#: systemv/lpstat.c:758
+#, c-format
+msgid ""
+"%s/%s not accepting requests since Jan 01 00:00 -\n"
+"\t%s\n"
+msgstr ""
+"%s/%s no aceptando peticiones desde Ene 01 00:00 -\n"
+"\t%s\n"
+
+#: systemv/lpstat.c:861 systemv/lpstat.c:1056
+#, c-format
+msgid "lpstat: get-classes failed: %s\n"
+msgstr "lpstat: get-classes ha fallado: %s\n"
+
+#: systemv/lpstat.c:1033 systemv/lpstat.c:1011 systemv/lpstat.c:1039
+#, c-format
+msgid "members of class %s:\n"
+msgstr "miembros de la clase %s:\n"
+
+#: systemv/lpstat.c:1080 systemv/lpstat.c:1057 systemv/lpstat.c:1085
+#, c-format
+msgid "system default destination: %s/%s\n"
+msgstr "destino predeterminado del sistema: %s/%s\n"
+
+#: systemv/lpstat.c:1083 systemv/lpstat.c:1060 systemv/lpstat.c:1088
+#, c-format
+msgid "system default destination: %s\n"
+msgstr "destino predeterminado del sistema: %s\n"
+
+#: systemv/lpstat.c:1105 systemv/lpstat.c:1082 systemv/lpstat.c:1110
+#, c-format
+msgid ""
+"lpstat: error - %s environment variable names non-existent destination \"%s"
+"\"!\n"
+msgstr ""
+"lpstat: error - Los nombre de variable de entorno %s no existen en el "
+"destino \"%s\".\n"
+
+#: systemv/lpstat.c:1109 systemv/lpstat.c:1086 systemv/lpstat.c:1114
+msgid "no system default destination\n"
+msgstr "no hay un destino predeterminado del sistema\n"
+
+#: systemv/lpstat.c:1313 systemv/lpstat.c:1281 systemv/lpstat.c:1309
+#: systemv/lpstat.c:1311
+#, c-format
+msgid "Output for printer %s is sent to remote printer %s on %s\n"
+msgstr "La salida de la impresora %s se ha enviado a la impresora remota %s en %s\n"
+
+#: systemv/lpstat.c:1319 systemv/lpstat.c:1323 systemv/lpstat.c:1287
+#: systemv/lpstat.c:1291 systemv/lpstat.c:1315 systemv/lpstat.c:1317
+#: systemv/lpstat.c:1321
+#, c-format
+msgid "Output for printer %s is sent to %s\n"
+msgstr "La salida de la impresora %s se ha enviado a %s\n"
+
+#: systemv/lpstat.c:1331 systemv/lpstat.c:1299 systemv/lpstat.c:1327
+#: systemv/lpstat.c:1329
+#, c-format
+msgid "Output for printer %s/%s is sent to remote printer %s on %s\n"
+msgstr "La salida de la impresora %s/%s se ha enviado a la impresora remota %s en %s\n"
+
+#: systemv/lpstat.c:1337 systemv/lpstat.c:1341 systemv/lpstat.c:1305
+#: systemv/lpstat.c:1309 systemv/lpstat.c:1333 systemv/lpstat.c:1335
+#: systemv/lpstat.c:1339
+#, c-format
+msgid "Output for printer %s/%s is sent to %s\n"
+msgstr "La salida de la impresora %s/%s se ha enviado a %s\n"
+
+#: systemv/lpstat.c:1346 systemv/lpstat.c:1349 systemv/lpstat.c:1352
+#: systemv/lpstat.c:1314 systemv/lpstat.c:1317 systemv/lpstat.c:1320
+#: systemv/lpstat.c:1342 systemv/lpstat.c:1345 systemv/lpstat.c:1348
+#: systemv/lpstat.c:1344 systemv/lpstat.c:1347 systemv/lpstat.c:1350
+#, c-format
+msgid "device for %s: %s\n"
+msgstr "tipo de conexiÃ³n para %s: %s\n"
+
+#: systemv/lpstat.c:1359 systemv/lpstat.c:1362 systemv/lpstat.c:1365
+#: systemv/lpstat.c:1327 systemv/lpstat.c:1330 systemv/lpstat.c:1333
+#: systemv/lpstat.c:1355 systemv/lpstat.c:1358 systemv/lpstat.c:1361
+#: systemv/lpstat.c:1357 systemv/lpstat.c:1360 systemv/lpstat.c:1363
+#, c-format
+msgid "device for %s/%s: %s\n"
+msgstr "tipo de conexiÃ³n para %s/%s: %s\n"
+
+#: systemv/lpstat.c:1481 systemv/lpstat.c:1693
+#, c-format
+msgid "lpstat: get-jobs failed: %s\n"
+msgstr "lpstat: get-jobs ha fallado: %s\n"
+
+#: systemv/lpstat.c:1681 systemv/lpstat.c:1635 systemv/lpstat.c:1663
+#: systemv/lpstat.c:1665
+#, c-format
+msgid "\tqueued for %s\n"
+msgstr "\ten cola para %s\n"
+
+#: systemv/lpstat.c:2037 systemv/lpstat.c:1971 systemv/lpstat.c:1999
+#: systemv/lpstat.c:2001
+#, c-format
+msgid "printer %s is idle.  enabled since %s\n"
+msgstr "la impresora %s estÃ¡ inactiva.  activada desde %s\n"
+
+#: systemv/lpstat.c:2042 systemv/lpstat.c:1976 systemv/lpstat.c:2004
+#: systemv/lpstat.c:2006
+#, c-format
+msgid "printer %s now printing %s-%d.  enabled since %s\n"
+msgstr "la impresora %s estÃ¡ imprimiendo %s-%d.  activada desde %s\n"
+
+#: systemv/lpstat.c:2048 systemv/lpstat.c:1982 systemv/lpstat.c:2010
+#: systemv/lpstat.c:2012
+#, c-format
+msgid "printer %s disabled since %s -\n"
+msgstr "la impresora %s estÃ¡ deshabilitada desde %s -\n"
+
+#: systemv/lpstat.c:2056 systemv/lpstat.c:2169 systemv/lpstat.c:1990
+#: systemv/lpstat.c:2103 systemv/lpstat.c:2018 systemv/lpstat.c:2131
+#: systemv/lpstat.c:2020 systemv/lpstat.c:2133
+msgid "\treason unknown\n"
+msgstr "\trazÃ³n desconocida\n"
+
+#: systemv/lpstat.c:2063 systemv/lpstat.c:2176 systemv/lpstat.c:1997
+#: systemv/lpstat.c:2110 systemv/lpstat.c:2025 systemv/lpstat.c:2138
+#: systemv/lpstat.c:2027 systemv/lpstat.c:2140
+msgid ""
+"\tForm mounted:\n"
+"\tContent types: any\n"
+"\tPrinter types: unknown\n"
+msgstr ""
+"\tFormulario montado:\n"
+"\tTipos de contenido: cualquiera\n"
+"\tTipos de impresora: desconocido\n"
+
+#: systemv/lpstat.c:2069 systemv/lpstat.c:2182 systemv/lpstat.c:2003
+#: systemv/lpstat.c:2116 systemv/lpstat.c:2031 systemv/lpstat.c:2144
+#: systemv/lpstat.c:2033 systemv/lpstat.c:2146
+#, c-format
+msgid "\tDescription: %s\n"
+msgstr "\tDescripciÃ³n: %s\n"
+
+#: systemv/lpstat.c:2074 systemv/lpstat.c:2187 systemv/lpstat.c:2008
+#: systemv/lpstat.c:2121 systemv/lpstat.c:2036 systemv/lpstat.c:2149
+#: systemv/lpstat.c:2038 systemv/lpstat.c:2151
+msgid "\tAlerts:"
+msgstr "\tAlertas:"
+
+#: systemv/lpstat.c:2083 systemv/lpstat.c:2196 systemv/lpstat.c:2017
+#: systemv/lpstat.c:2130 systemv/lpstat.c:2045 systemv/lpstat.c:2158
+#: systemv/lpstat.c:2047 systemv/lpstat.c:2160
+#, c-format
+msgid "\tLocation: %s\n"
+msgstr "\tUbicaciÃ³n: %s\n"
+
+#: systemv/lpstat.c:2088 systemv/lpstat.c:2201 systemv/lpstat.c:2022
+#: systemv/lpstat.c:2135 systemv/lpstat.c:2050 systemv/lpstat.c:2163
+#: systemv/lpstat.c:2052 systemv/lpstat.c:2165
+msgid "\tConnection: remote\n"
+msgstr "\tConexiÃ³n: remota\n"
+
+#: systemv/lpstat.c:2092 systemv/lpstat.c:2205 systemv/lpstat.c:2026
+#: systemv/lpstat.c:2139 systemv/lpstat.c:2054 systemv/lpstat.c:2167
+#: systemv/lpstat.c:2056 systemv/lpstat.c:2169
+#, c-format
+msgid "\tInterface: %s.ppd\n"
+msgstr "\tInterfaz: %s.ppd\n"
+
+#: systemv/lpstat.c:2097 systemv/lpstat.c:2210 systemv/lpstat.c:2031
+#: systemv/lpstat.c:2144 systemv/lpstat.c:2059 systemv/lpstat.c:2172
+#: systemv/lpstat.c:2061 systemv/lpstat.c:2174
+msgid "\tConnection: direct\n"
+msgstr "\tConexiÃ³n: directa\n"
+
+#: systemv/lpstat.c:2101 systemv/lpstat.c:2214 systemv/lpstat.c:2035
+#: systemv/lpstat.c:2148 systemv/lpstat.c:2063 systemv/lpstat.c:2176
+#: systemv/lpstat.c:2065 systemv/lpstat.c:2178
+#, c-format
+msgid "\tInterface: %s/interfaces/%s\n"
+msgstr "\tInterfaz: %s/interfaces/%s\n"
+
+#: systemv/lpstat.c:2105 systemv/lpstat.c:2218 systemv/lpstat.c:2039
+#: systemv/lpstat.c:2152 systemv/lpstat.c:2067 systemv/lpstat.c:2180
+#: systemv/lpstat.c:2069 systemv/lpstat.c:2182
+#, c-format
+msgid "\tInterface: %s/ppd/%s.ppd\n"
+msgstr "\tInterfaz: %s/ppd/%s.ppd\n"
+
+#: systemv/lpstat.c:2107 systemv/lpstat.c:2220 systemv/lpstat.c:2041
+#: systemv/lpstat.c:2154 systemv/lpstat.c:2069 systemv/lpstat.c:2182
+#: systemv/lpstat.c:2071 systemv/lpstat.c:2184
+msgid "\tOn fault: no alert\n"
+msgstr "\tEn fallo: no alertar\n"
+
+#: systemv/lpstat.c:2108 systemv/lpstat.c:2221 systemv/lpstat.c:2042
+#: systemv/lpstat.c:2155 systemv/lpstat.c:2070 systemv/lpstat.c:2183
+#: systemv/lpstat.c:2072 systemv/lpstat.c:2185
+msgid "\tAfter fault: continue\n"
+msgstr "\tTras fallo: continuar\n"
+
+#: systemv/lpstat.c:2112 systemv/lpstat.c:2126 systemv/lpstat.c:2225
+#: systemv/lpstat.c:2239 systemv/lpstat.c:2046 systemv/lpstat.c:2060
+#: systemv/lpstat.c:2159 systemv/lpstat.c:2173 systemv/lpstat.c:2074
+#: systemv/lpstat.c:2088 systemv/lpstat.c:2187 systemv/lpstat.c:2201
+#: systemv/lpstat.c:2076 systemv/lpstat.c:2090 systemv/lpstat.c:2189
+#: systemv/lpstat.c:2203
+msgid "\tUsers allowed:\n"
+msgstr "\tUsuarios permitidos:\n"
+
+#: systemv/lpstat.c:2119 systemv/lpstat.c:2232 systemv/lpstat.c:2053
+#: systemv/lpstat.c:2166 systemv/lpstat.c:2081 systemv/lpstat.c:2194
+#: systemv/lpstat.c:2083 systemv/lpstat.c:2196
+msgid "\tUsers denied:\n"
+msgstr "\tUsuarios denegados:\n"
+
+#: systemv/lpstat.c:2127 systemv/lpstat.c:2240 systemv/lpstat.c:2061
+#: systemv/lpstat.c:2174 systemv/lpstat.c:2089 systemv/lpstat.c:2202
+#: systemv/lpstat.c:2091 systemv/lpstat.c:2204
+msgid "\t\t(all)\n"
+msgstr "\t\t(todos)\n"
+
+#: systemv/lpstat.c:2129 systemv/lpstat.c:2242 systemv/lpstat.c:2063
+#: systemv/lpstat.c:2176 systemv/lpstat.c:2091 systemv/lpstat.c:2204
+#: systemv/lpstat.c:2093 systemv/lpstat.c:2206
+msgid "\tForms allowed:\n"
+msgstr "\tFormularios permitidos:\n"
+
+#: systemv/lpstat.c:2130 systemv/lpstat.c:2133 systemv/lpstat.c:2243
+#: systemv/lpstat.c:2246 systemv/lpstat.c:2064 systemv/lpstat.c:2067
+#: systemv/lpstat.c:2177 systemv/lpstat.c:2180 systemv/lpstat.c:2092
+#: systemv/lpstat.c:2095 systemv/lpstat.c:2205 systemv/lpstat.c:2208
+#: systemv/lpstat.c:2094 systemv/lpstat.c:2097 systemv/lpstat.c:2207
+#: systemv/lpstat.c:2210
+msgid "\t\t(none)\n"
+msgstr "\t\t(ninguno)\n"
+
+#: systemv/lpstat.c:2131 systemv/lpstat.c:2244 systemv/lpstat.c:2065
+#: systemv/lpstat.c:2178 systemv/lpstat.c:2093 systemv/lpstat.c:2206
+#: systemv/lpstat.c:2095 systemv/lpstat.c:2208
+msgid "\tBanner required\n"
+msgstr "\tSe necesita un banner\n"
+
+#: systemv/lpstat.c:2132 systemv/lpstat.c:2245 systemv/lpstat.c:2066
+#: systemv/lpstat.c:2179 systemv/lpstat.c:2094 systemv/lpstat.c:2207
+#: systemv/lpstat.c:2096 systemv/lpstat.c:2209
+msgid "\tCharset sets:\n"
+msgstr "\tAjustes del juego de caracteres:\n"
+
+#: systemv/lpstat.c:2134 systemv/lpstat.c:2247 systemv/lpstat.c:2068
+#: systemv/lpstat.c:2181 systemv/lpstat.c:2096 systemv/lpstat.c:2209
+#: systemv/lpstat.c:2098 systemv/lpstat.c:2211
+msgid "\tDefault pitch:\n"
+msgstr "\tPaso predeterminado:\n"
+
+#: systemv/lpstat.c:2135 systemv/lpstat.c:2248 systemv/lpstat.c:2069
+#: systemv/lpstat.c:2182 systemv/lpstat.c:2097 systemv/lpstat.c:2210
+#: systemv/lpstat.c:2099 systemv/lpstat.c:2212
+msgid "\tDefault page size:\n"
+msgstr "\tTamaÃ±o de pÃ¡gina predeterminado:\n"
+
+#: systemv/lpstat.c:2136 systemv/lpstat.c:2249 systemv/lpstat.c:2070
+#: systemv/lpstat.c:2183 systemv/lpstat.c:2098 systemv/lpstat.c:2211
+#: systemv/lpstat.c:2100 systemv/lpstat.c:2213
+msgid "\tDefault port settings:\n"
+msgstr "\tAjustes del puerto predeterminados:\n"
+
+#: systemv/lpstat.c:2146 systemv/lpstat.c:2080 systemv/lpstat.c:2108
+#: systemv/lpstat.c:2110
+#, c-format
+msgid "printer %s/%s is idle.  enabled since %s\n"
+msgstr "la impresora %s/%s estÃ¡ inactiva.  activada desde %s\n"
+
+#: systemv/lpstat.c:2153 systemv/lpstat.c:2087 systemv/lpstat.c:2115
+#: systemv/lpstat.c:2117
+#, c-format
+msgid "printer %s/%s now printing %s-%d.  enabled since %s\n"
+msgstr "la impresora %s/%s estÃ¡ imprimiendo %s-%d.  activada desde %s\n"
+
+#: systemv/lpstat.c:2160 systemv/lpstat.c:2094 systemv/lpstat.c:2122
+#: systemv/lpstat.c:2124
+#, c-format
+msgid "printer %s/%s disabled since %s -\n"
+msgstr "la impresora %s/%s estÃ¡ desactivada desde %s -\n"
+
+#: systemv/lpstat.c:2279 systemv/lpstat.c:2212 systemv/lpstat.c:2240
+#: systemv/lpstat.c:2242
+msgid "scheduler is running\n"
+msgstr "el planificador de tareas se estÃ¡ ejecutando\n"
+
+#: systemv/lpstat.c:2281 systemv/lpstat.c:2214 systemv/lpstat.c:2242
+#: systemv/lpstat.c:2244
+msgid "scheduler is not running\n"
+msgstr "el planificador de tareas no se estÃ¡ ejecutando\n"
+
+#: systemv/lpadmin.c:113 systemv/lpadmin.c:166 systemv/lpadmin.c:237
+#: systemv/lpadmin.c:298 systemv/lpadmin.c:317 systemv/lpadmin.c:383
+#: systemv/lpadmin.c:424 systemv/lpadmin.c:511 systemv/lpadmin.c:557
+#: systemv/lpadmin.c:603 systemv/lpadmin.c:665 systemv/lpadmin.c:711
+#: systemv/lpadmin.c:772
+#, c-format
+msgid "lpadmin: Unable to connect to server: %s\n"
+msgstr "lpadmin: No se ha podido conectar al servidor: %s\n"
+
+#: systemv/lpadmin.c:122
+msgid ""
+"lpadmin: Unable to add a printer to the class:\n"
+"         You must specify a printer name first!\n"
+msgstr ""
+"lpadmin: No se ha podido aÃ±adir una impresora a la clase:\n"
+"         Debe especificar un nombre de impresora primero.\n"
+
+#: systemv/lpadmin.c:137
+msgid "lpadmin: Expected class name after '-c' option!\n"
+msgstr "lpadmin: Se esperaba un nombre de clase tras la opciÃ³n '-c'\n"
+
+#: systemv/lpadmin.c:148 systemv/lpadmin.c:460
+msgid "lpadmin: Class name can only contain printable characters!\n"
+msgstr ""
+"lpadmin: El nombre de la clase sÃ³lo puede contener caracteres imprimibles.\n"
+
+#: systemv/lpadmin.c:181
+msgid "lpadmin: Expected printer name after '-d' option!\n"
+msgstr "lpadmin: Se esperaba un nombre de impresora tras la opciÃ³n '-d'\n"
+
+#: systemv/lpadmin.c:192 systemv/lpadmin.c:409 systemv/lpadmin.c:583
+msgid "lpadmin: Printer name can only contain printable characters!\n"
+msgstr ""
+"lpadmin: El nombre de la impresora sÃ³lo puede contener caracteres "
+"imprimibles.\n"
+
+#: systemv/lpadmin.c:219
+msgid "lpadmin: Expected hostname after '-h' option!\n"
+msgstr "lpadmin: Se esperaba un nombre de ordenador tras la opciÃ³n '-h'.\n"
+
+#: systemv/lpadmin.c:246
+msgid ""
+"lpadmin: Unable to set the interface script:\n"
+"         You must specify a printer name first!\n"
+msgstr ""
+"lpadmin: No se ha podido establecer el script de interfaz:\n"
+"         Primero debe especificar un nombre de impresora.\n"
+
+#: systemv/lpadmin.c:264
+msgid "lpadmin: Expected interface after '-i' option!\n"
+msgstr "lpadmin: Se esperaba una interfaz tras la opciÃ³n '-i'.\n"
+
+#: systemv/lpadmin.c:326
+msgid ""
+"lpadmin: Unable to set the interface script or PPD file:\n"
+"         You must specify a printer name first!\n"
+msgstr ""
+"lpadmin: No se ha podido establecer el script de interfaz o el archivo PPD:\n"
+"         Primero debe especificar un nombre de impresora.\n"
+
+#: systemv/lpadmin.c:345
+msgid "lpadmin: Expected model after '-m' option!\n"
+msgstr "lpadmin: Se esperaba un modelo tras la opciÃ³n '-m'.\n"
+
+#: systemv/lpadmin.c:365
+msgid "lpadmin: Expected name=value after '-o' option!\n"
+msgstr "lpadmin: Se esperaba un nombre=valor tras la opciÃ³n '-o'.\n"
+
+#: systemv/lpadmin.c:398
+msgid "lpadmin: Expected printer after '-p' option!\n"
+msgstr "lpadmin: Se esperaba una impresora tras la opciÃ³n '-p'.\n"
+
+#: systemv/lpadmin.c:433
+msgid ""
+"lpadmin: Unable to remove a printer from the class:\n"
+"         You must specify a printer name first!\n"
+msgstr ""
+"lpadmin: No se ha podido quitar una impresora de la clase:\n"
+"         Primero debe especificar un nombre de impresora.\n"
+
+#: systemv/lpadmin.c:449
+msgid "lpadmin: Expected class after '-r' option!\n"
+msgstr "lpadmin: Se esperaba una clase tras la opciÃ³n '-r'\n"
+
+#: systemv/lpadmin.c:479
+msgid "lpadmin: Expected allow/deny:userlist after '-u' option!\n"
+msgstr "lpadmin: Se esperaba allow/deny:lista_usuarios tras la opciÃ³n '-u'.\n"
+
+#: systemv/lpadmin.c:496
+#, c-format
+msgid "lpadmin: Unknown allow/deny option \"%s\"!\n"
+msgstr "lpadmin: OpciÃ³n allow/deny desconocida \"%s\".\n"
+
+#: systemv/lpadmin.c:520
+msgid ""
+"lpadmin: Unable to set the device URI:\n"
+"         You must specify a printer name first!\n"
+msgstr ""
+"lpadmin: No se ha podido ajustar el URI de dispositivo:\n"
+"         Primero debe especificar un nombre de impresora.\n"
+
+#: systemv/lpadmin.c:538
+msgid "lpadmin: Expected device URI after '-v' option!\n"
+msgstr "lpadmin: Se esperaba un URI de dispositivo tras la opciÃ³n '-v'.\n"
+
+#: systemv/lpadmin.c:572
+msgid "lpadmin: Expected printer or class after '-x' option!\n"
+msgstr "lpadmin: Se esperaba una impresora o clase tras la opciÃ³n '-x'.\n"
+
+#: systemv/lpadmin.c:612
+msgid ""
+"lpadmin: Unable to set the printer description:\n"
+"         You must specify a printer name first!\n"
+msgstr ""
+"lpadmin: No se ha podido establecer la descripciÃ³n de la impresora:\n"
+"         Primero debe especificar un nombre de impresora.\n"
+
+#: systemv/lpadmin.c:631
+msgid "lpadmin: Expected description after '-D' option!\n"
+msgstr "lpadmin: Se esperaba una descripciÃ³n tras la opciÃ³n '-D'.\n"
+
+#: systemv/lpadmin.c:647
+msgid "lpadmin: Expected file type(s) after '-I' option!\n"
+msgstr "lpadmin: Se esperaba tipo(s) de archivo(s) tras la opciÃ³n '-l'.\n"
+
+#: systemv/lpadmin.c:653
+msgid "lpadmin: Warning - content type list ignored!\n"
+msgstr ""
+"lpadmin: Advertencia - lista de tipo de contenido no tenida en cuenta.\n"
+
+#: systemv/lpadmin.c:674
+msgid ""
+"lpadmin: Unable to set the printer location:\n"
+"         You must specify a printer name first!\n"
+msgstr ""
+"lpadmin: No se ha podido establecer la ubicaciÃ³n de la impresora:\n"
+"         Primero debe especificar un nombre de impresora.\n"
+
+#: systemv/lpadmin.c:692
+msgid "lpadmin: Expected location after '-L' option!\n"
+msgstr "lpadmin: Se esperaba una ubicaciÃ³n tras la opciÃ³n '-L'.\n"
+
+#: systemv/lpadmin.c:720
+msgid ""
+"lpadmin: Unable to set the PPD file:\n"
+"         You must specify a printer name first!\n"
+msgstr ""
+"lpadmin: No se ha podido establecer el archivo PPD:\n"
+"         Primero debe especificar un nombre de impresora.\n"
+
+#: systemv/lpadmin.c:738
+msgid "lpadmin: Expected PPD after '-P' option!\n"
+msgstr "lpadmin: Se esperaba un PPD tras la opciÃ³n '-P'.\n"
+
+#: systemv/lpadmin.c:749
+#, c-format
+msgid "lpadmin: Unknown option '%c'!\n"
+msgstr "lpadmin: OpciÃ³n '%c' desconocida.\n"
+
+#: systemv/lpadmin.c:754
+#, c-format
+msgid "lpadmin: Unknown argument '%s'!\n"
+msgstr "lpadmin: Argumento '%s' desconocido.\n"
+
+#: systemv/lpadmin.c:781
+msgid ""
+"lpadmin: Unable to set the printer options:\n"
+"         You must specify a printer name first!\n"
+msgstr ""
+"lpadmin: No se han podido establecer las opciones de impresora:\n"
+"         Primero debe especificar un nombre de impresora.\n"
+
+#: systemv/lpadmin.c:793
+msgid ""
+"Usage:\n"
+"\n"
+"    lpadmin [-h server] -d destination\n"
+"    lpadmin [-h server] -x destination\n"
+"    lpadmin [-h server] -p printer [-c add-class] [-i interface] [-m model]\n"
+"                       [-r remove-class] [-v device] [-D description]\n"
+"                       [-P ppd-file] [-o name=value]\n"
+"                       [-u allow:user,user] [-u deny:user,user]\n"
+"\n"
+msgstr ""
+"Uso:\n"
+"\n"
+"    lpadmin [-h servidor] -d destino\n"
+"    lpadmin [-h servidor] -x destino\n"
+"    lpadmin [-h servidor] -p impresora [-c clase] [-i interfaz] [-m modelo]\n"
+"                       [-r clase] [-v dispositivo] [-D descripciÃ³n]\n"
+"                       [-P archivo_ppd] [-o nombre=valor]\n"
+"                       [-u allow:usuario,usuario] [-u deny:usuario,usuario]\n"
+"\n"
+
+#: systemv/lpadmin.c:1554 systemv/lpadmin.c:1440
+#, c-format
+msgid "lpadmin: Unable to create temporary file: %s\n"
+msgstr "lpadmin: No se ha podido crear el archivo temporal: %s\n"
+
+#: systemv/lpadmin.c:1562 systemv/lpadmin.c:1448
+#, c-format
+msgid "lpadmin: Unable to open file \"%s\": %s\n"
+msgstr "lpadmin: No se ha podido abrir el archivo \"%s\": %s\n"
+
+#: systemv/lpadmin.c:1631 systemv/lpadmin.c:1862 systemv/lpadmin.c:1870
+#, c-format
+msgid "lpadmin: add-printer (set model) failed: %s\n"
+msgstr "lpadmin: add-printer (establecer modelo) ha fallado: %s\n"
+
+#: systemv/lpadmin.c:1701 systemv/lpadmin.c:1708
+#, c-format
+msgid "lpadmin: add-printer (set description) failed: %s\n"
+msgstr "lpadmin: add-printer (establecer descripciÃ³n) ha fallado: %s\n"
+
+#: systemv/lpadmin.c:1784 systemv/lpadmin.c:1792
+#, c-format
+msgid "lpadmin: add-printer (set location) failed: %s\n"
+msgstr "lpadmin: add-printer (establecer ubicaciÃ³n) ha fallado: %s\n"
+
+#: systemv/lpadmin.c:2021 systemv/lpadmin.c:1814 systemv/lpadmin.c:1831
+#, c-format
+msgid "lpadmin: Unable to create temporary file - %s\n"
+msgstr "lpadmin: No se ha podido crear el archivo temporal - %s\n"
+
+#: systemv/lpadmin.c:2031 systemv/lpadmin.c:1824 systemv/lpadmin.c:1841
+#, c-format
+msgid "lpadmin: Unable to open PPD file \"%s\" - %s\n"
+msgstr "lpadmin: No se ha podido abrir el archivo PPD \"%s\" - %s\n"
+
+#: systemv/lpadmin.c:2117 systemv/lpadmin.c:2125
+#, c-format
+msgid "lpadmin: %s failed: %s\n"
+msgstr "lpadmin: %s ha fallado: %s\n"
+
+#: systemv/lp.c:153
+msgid "lp: Expected destination after -d option!\n"
+msgstr "lp: Se esperaba un destino tras la opciÃ³n -d.\n"
+
+#: systemv/lp.c:184
+msgid "lp: Expected form after -f option!\n"
+msgstr "lp: Se esperaba un formulario tras la opciÃ³n -f.\n"
+
+#: systemv/lp.c:202
+msgid "lp: Expected hostname after -h option!\n"
+msgstr "lp: Se esperaba un nombre de ordenador tras la opciÃ³n -h.\n"
+
+#: systemv/lp.c:220
+msgid "lp: Expected job ID after -i option!\n"
+msgstr "lp: Se esperaba un ID de trabajo tras la opciÃ³n -i.\n"
+
+#: systemv/lp.c:230
+msgid "lp: Error - cannot print files and alter jobs simultaneously!\n"
+msgstr ""
+"lp: Error - no se pueden imprimir archivos y alterar trabajos al mismo "
+"tiempo.\n"
+
+#: systemv/lp.c:242
+msgid "lp: Error - bad job ID!\n"
+msgstr "lp: Error - ID de trabajo incorrecta.\n"
+
+#: systemv/lp.c:264
+msgid "lp: Expected copies after -n option!\n"
+msgstr "lp: Se esperaba nÃºmero de copias tras la opciÃ³n -n.\n"
+
+#: systemv/lp.c:285
+msgid "lp: Expected option string after -o option!\n"
+msgstr "lp: Se esperaba una cadena de opciones tras la opciÃ³n -o.\n"
+
+#: systemv/lp.c:304
+#, c-format
+msgid "lp: Expected priority after -%c option!\n"
+msgstr "lp: Se esperaba un valor de prioridad tras la opciÃ³n -%c.\n"
+
+#: systemv/lp.c:326
+msgid "lp: Priority must be between 1 and 100.\n"
+msgstr "lp: La prioridad debe estar entre 1 y 100.\n"
+
+#: systemv/lp.c:348
+msgid "lp: Expected title after -t option!\n"
+msgstr "lp: Se esperaba un tÃ­tulo tras la opciÃ³n -t.\n"
+
+#: systemv/lp.c:364
+msgid "lp: Expected mode list after -y option!\n"
+msgstr "lp: Se esperaba una lista de modos tras la opciÃ³n -y.\n"
+
+#: systemv/lp.c:370
+msgid "lp: Warning - mode option ignored!\n"
+msgstr "lp: Advertencia - opciÃ³n de modo no tenida en cuenta.\n"
+
+#: systemv/lp.c:383
+msgid "lp: Expected hold name after -H option!\n"
+msgstr "lp: Se esperaba un nombre de retenciÃ³n tras la opciÃ³n -H.\n"
+
+#: systemv/lp.c:405
+msgid "lp: Need job ID (-i) before \"-H restart\"!\n"
+msgstr "lp: Se necesita la ID de trabajo (-i) antes de \"-H restart\".\n"
+
+#: systemv/lp.c:427
+msgid "lp: Expected page list after -P option!\n"
+msgstr "lp: Se esperaba una lista de pÃ¡ginas tras la opciÃ³n -P.\n"
+
+#: systemv/lp.c:446
+msgid "lp: Expected character set after -S option!\n"
+msgstr "lp: Se esperaba un juego de caracteres tras la opciÃ³n -S.\n"
+
+#: systemv/lp.c:452
+msgid "lp: Warning - character set option ignored!\n"
+msgstr "lp: Advertencia - opciÃ³n de juego de caracteres no tenida en cuenta.\n"
+
+#: systemv/lp.c:463
+msgid "lp: Expected content type after -T option!\n"
+msgstr "lp: Se esperaba un tipo de contenido tras la opciÃ³n -T.\n"
+
+#: systemv/lp.c:469
+msgid "lp: Warning - content type option ignored!\n"
+msgstr "lp: Advertencia - opciÃ³n de tipo de contenido no tenida en cuenta.\n"
+
+#: systemv/lp.c:473
+#, c-format
+msgid "lp: Unknown option '%c'!\n"
+msgstr "lp: OpciÃ³n '%c' desconocida.\n"
+
+#: systemv/lp.c:482
+msgid ""
+"lp: Error - cannot print from stdin if files or a job ID are provided!\n"
+msgstr ""
+"lp: Error - no se puede imprimir desde stdin si se proporcionan archivos o "
+"un ID de trabajo.\n"
+
+#: systemv/lp.c:497
+#, c-format
+msgid "lp: Unable to access \"%s\" - %s\n"
+msgstr "lp: No se ha podido acceder a \"%s\" - %s\n"
+
+#: systemv/lp.c:514
+#, c-format
+msgid "lp: Too many files - \"%s\"\n"
+msgstr "lp: Demasiados archivos - \"%s\"\n"
+
+#: systemv/lp.c:569
+msgid "lp: error - no default destination available.\n"
+msgstr "lp: error - no estÃ¡ disponible el destino predeterminado.\n"
+
+#: systemv/lp.c:572
+msgid "lp: error - scheduler not responding!\n"
+msgstr "lp: error - el planificador de tareas no responde.\n"
+
+#: systemv/lp.c:611
+#, c-format
+msgid "lp: unable to create temporary file \"%s\" - %s\n"
+msgstr "lp: no se ha podido crear el archivo temporal \"%s\" - %s\n"
+
+#: systemv/lp.c:620
+#, c-format
+msgid "lp: error - unable to write to temporary file \"%s\" - %s\n"
+msgstr ""
+"lp: error - no se ha podido escribir en el archivo temporal \"%s\" - %s\n"
+
+#: systemv/lp.c:634
+msgid "lp: stdin is empty, so no job has been sent.\n"
+msgstr "lp: stdin estÃ¡ vacÃ­o, por lo tanto no se ha enviado ningÃºn trabajo.\n"
+
+#: systemv/lp.c:650
+#, c-format
+msgid "lp: unable to print file: %s\n"
+msgstr "lp: no se ha podido imprimir el archivo: %s\n"
+
+#: systemv/lp.c:656 systemv/lp.c:653 systemv/lp.c:713 systemv/lp.c:729
+#, c-format
+msgid "request id is %s-%d (%d file(s))\n"
+msgstr "la id solicitada es %s-%d (%d archivo(s))\n"
+
+#: systemv/lp.c:703 systemv/lp.c:713
+#, c-format
+msgid "lp: restart-job failed: %s\n"
+msgstr "lp: restart-job ha fallado: %s\n"
+
+#: systemv/lp.c:769 systemv/lp.c:779
+#, c-format
+msgid "lp: set-job-attributes failed: %s\n"
+msgstr "lp: set-job-attibutes ha fallado: %s\n"
+
+#: systemv/lpinfo.c:98 systemv/lpinfo.c:117
+#, c-format
+msgid "lpinfo: Unable to connect to server: %s\n"
+msgstr "lpinfo: No se ha podido conectar al servidor: %s\n"
+
+#: systemv/lpinfo.c:152
+#, c-format
+msgid "lpinfo: Unknown option '%c'!\n"
+msgstr "lpinfo: OpciÃ³n '%c' desconocida.\n"
+
+#: systemv/lpinfo.c:158
+#, c-format
+msgid "lpinfo: Unknown argument '%s'!\n"
+msgstr "lpinfo Argumento '%s' desconocido.\n"
+
+#: systemv/lpinfo.c:225 systemv/lpinfo.c:310
+#, c-format
+msgid "lpinfo: cups-get-devices failed: %s\n"
+msgstr "lpinfo: cups-get-devices ha fallado: %s\n"
+
+#: systemv/lpinfo.c:293
+#, c-format
+msgid ""
+"Device: uri = %s\n"
+"        class = %s\n"
+"        info = %s\n"
+"        make-and-model = %s\n"
+msgstr ""
+"Dispositivo: uri = %s\n"
+"        clase = %s\n"
+"        info = %s\n"
+"        make-and-model = %s\n"
+
+#: systemv/lpinfo.c:376 systemv/lpinfo.c:454
+#, c-format
+msgid "lpinfo: cups-get-ppds failed: %s\n"
+msgstr "lpinfo: cups-get-ppds ha fallado: %s\n"
+
+#: systemv/lpinfo.c:438
+#, c-format
+msgid ""
+"Model:  name = %s\n"
+"        natural_language = %s\n"
+"        make-and-model = %s\n"
+msgstr ""
+"Modelo:  nombre = %s\n"
+"        natural_language = %s\n"
+"        make-and-model = %s\n"
+
+#: systemv/lpmove.c:114 systemv/lpmove.c:119
+#, c-format
+msgid "lpmove: Unknown option '%c'!\n"
+msgstr "lpmove: OpciÃ³n '%c' desconocida.\n"
+
+#: systemv/lpmove.c:133 systemv/lpmove.c:138
+#, c-format
+msgid "lpmove: Unknown argument '%s'!\n"
+msgstr "lpmove: Argumento '%s' desconocido.\n"
+
+#: systemv/lpmove.c:140
+msgid "Usage: lpmove job dest\n"
+msgstr "Uso: lpmove trabajo destino\n"
+
+#: systemv/lpmove.c:151 systemv/lpmove.c:156
+#, c-format
+msgid "lpmove: Unable to connect to server: %s\n"
+msgstr "lpmove: No se ha podido conectar al servidor: %s\n"
+
+#: systemv/lpmove.c:225 systemv/lpmove.c:234
+#, c-format
+msgid "lpmove: move-job failed: %s\n"
+msgstr "lpmove: move-job ha fallado: %s\n"
+
+#: systemv/lpoptions.c:109
+msgid "lpoptions: Unknown printer or class!\n"
+msgstr "lpoptions: Impresora o clase desconocida.\n"
+
+#: systemv/lpoptions.c:159
+msgid "lpoptions: No printers!?!\n"
+msgstr "lpoptions: Â¡Â¿Â¡No hay impresoras!?!\n"
+
+#: systemv/lpoptions.c:207
+#, c-format
+msgid "lpoptions: Unable to add printer or instance: %s\n"
+msgstr "lpoptions: No se ha podido aÃ±adir la impresora o la instancia: %s\n"
+
+#: systemv/lpoptions.c:411
+#, c-format
+msgid "lpoptions: Destination %s has no PPD file!\n"
+msgstr "lpoptions: El destino %s no tiene archivo PPD.\n"
+
+#: systemv/lpoptions.c:420
+#, c-format
+msgid "lpoptions: Unable to open PPD file for %s!\n"
+msgstr "lpoptions: No se ha podido abrir el archivo PPD para %s.\n"
+
+#: systemv/lpoptions.c:444
+msgid ""
+"Usage: lpoptions [-h server] [-E] -d printer\n"
+"       lpoptions [-h server] [-E] [-p printer] -l\n"
+"       lpoptions [-h server] [-E] -p printer -o option[=value] ...\n"
+"       lpoptions [-h server] [-E] -x printer\n"
+msgstr ""
+"Uso: lpoptions [-h servidor] [-E] -d impresora\n"
+"       lpoptions [-h servidor] [-E] [-p impresora] -l\n"
+"       lpoptions [-h servidor] [-E] -p impresora -o opciÃ³n[=valor] ...\n"
+"       lpoptions [-h servidor] [-E] -x impresora\n"
+
+#: systemv/lppasswd.c:192
+msgid "lppasswd: Only root can add or delete passwords!\n"
+msgstr "lppasswd: Solo el usuario root puede aÃ±adir o borrar contraseÃ±as.\n"
+
+#: systemv/lppasswd.c:212
+msgid "Enter old password:"
+msgstr "Introduzca la contraseÃ±a antigua:"
+
+#: systemv/lppasswd.c:218 systemv/lppasswd.c:236
+#, c-format
+msgid "lppasswd: Unable to copy password string: %s\n"
+msgstr "lppasswd: No se ha podido copiar la cadena de contraseÃ±a: %s\n"
+
+#: systemv/lppasswd.c:230
+msgid "Enter password:"
+msgstr "Introduzca la contraseÃ±a:"
+
+#: systemv/lppasswd.c:241
+msgid "Enter password again:"
+msgstr "Introduzca nuevamente la contraseÃ±a:"
+
+#: systemv/lppasswd.c:247
+msgid "lppasswd: Sorry, passwords don't match!\n"
+msgstr "lppasswd: Lo siento, las contraseÃ±as no coinciden.\n"
+
+#: systemv/lppasswd.c:271
+msgid ""
+"lppasswd: Sorry, password rejected.\n"
+"Your password must be at least 6 characters long, cannot contain\n"
+"your username, and must contain at least one letter and number.\n"
+msgstr ""
+"lppasswd: Lo siento, se ha rechazado la contraseÃ±a.\n"
+"Su contraseÃ±a debe tener al menos 6 caracteres, no puede contener\n"
+"su nombre de usuario, y debe tener al menos una letra y un nÃºmero.\n"
+
+#: systemv/lppasswd.c:321
+msgid "lppasswd: Password file busy!\n"
+msgstr "lppasswd: Archivo de contraseÃ±as ocupado.\n"
+
+#: systemv/lppasswd.c:324 systemv/lppasswd.c:333 systemv/lppasswd.c:351
+#, c-format
+msgid "lppasswd: Unable to open password file: %s\n"
+msgstr "lppasswd: No se ha podido abrir el archivo de contraseÃ±as: %s\n"
+
+#: systemv/lppasswd.c:386 systemv/lppasswd.c:399 systemv/lppasswd.c:431
+#, c-format
+msgid "lppasswd: Unable to write to password file: %s\n"
+msgstr "lppasswd: No se ha podido escribir en el archivo de contraseÃ±as: %s\n"
+
+#: systemv/lppasswd.c:411
+#, c-format
+msgid "lppasswd: user \"%s\" and group \"%s\" do not exist.\n"
+msgstr "lppasswd: el usuario \"%s\" y el grupo \"%s\" no existen.\n"
+
+#: systemv/lppasswd.c:421
+msgid "lppasswd: Sorry, password doesn't match!\n"
+msgstr "lppasswd: Lo siento, las contraseÃ±as no coinciden.\n"
+
+#: systemv/lppasswd.c:454
+msgid "lppasswd: Password file not updated!\n"
+msgstr "lppasswd: Archivo de contraseÃ±as no actualizado.\n"
+
+#: systemv/lppasswd.c:469
+#, c-format
+msgid "lppasswd: failed to backup old password file: %s\n"
+msgstr ""
+"lppasswd: fallÃ³ al hacer una copia de seguridad del antiguo archivo de "
+"contraseÃ±as: %s\n"
+
+#: systemv/lppasswd.c:482
+#, c-format
+msgid "lppasswd: failed to rename password file: %s\n"
+msgstr "lppasswd: fallÃ³ al cambiar de nombre al archivo de contraseÃ±as: %s\n"
+
+#: systemv/lppasswd.c:501 systemv/lppasswd.c:500
+msgid "Usage: lppasswd [-g groupname]\n"
+msgstr "Usage: lppasswd [-g nombre_grupo]\n"
+
+#: systemv/lppasswd.c:506 systemv/lppasswd.c:503
+msgid ""
+"Usage: lppasswd [-g groupname] [username]\n"
+"       lppasswd [-g groupname] -a [username]\n"
+"       lppasswd [-g groupname] -x [username]\n"
+msgstr ""
+"Usage: lppasswd [-g nombre_grupo] [nombre_usuario]\n"
+"       lppasswd [-g nombre_grupo] -a [nombre_usuario]\n"
+"       lppasswd [-g nombre_grupo] -x [nombre_usuario]\n"
+
+#: cgi-bin/admin.c:125 cgi-bin/admin.c:142 cgi-bin/admin.c:143
+msgid "Start Printer"
+msgstr "Iniciar impresora"
+
+#: cgi-bin/admin.c:127 cgi-bin/admin.c:144 cgi-bin/admin.c:145
+msgid "Stop Printer"
+msgstr "Detener impresora"
+
+#: cgi-bin/admin.c:129 cgi-bin/admin.c:146 cgi-bin/admin.c:147
+msgid "Start Class"
+msgstr "Iniciar clase"
+
+#: cgi-bin/admin.c:131 cgi-bin/admin.c:148 cgi-bin/admin.c:149
+msgid "Stop Class"
+msgstr "Detener clase"
+
+#: cgi-bin/admin.c:133 cgi-bin/admin.c:150 cgi-bin/admin.c:151
+msgid "Accept Jobs"
+msgstr "Aceptar trabajos"
+
+#: cgi-bin/admin.c:135 cgi-bin/admin.c:152 cgi-bin/admin.c:153
+msgid "Reject Jobs"
+msgstr "Rechazar trabajos"
+
+#: cgi-bin/admin.c:137 cgi-bin/admin.c:154 cgi-bin/admin.c:155
+msgid "Purge Jobs"
+msgstr "Purgar trabajos"
+
+#: cgi-bin/admin.c:141 cgi-bin/admin.c:158 cgi-bin/admin.c:159
+msgid "Set As Default"
+msgstr "Poner como predeterminada"
+
+#: cgi-bin/admin.c:168 cgi-bin/admin.c:179 cgi-bin/admin.c:2690
+#: cgi-bin/admin.c:185 cgi-bin/admin.c:196 cgi-bin/admin.c:2734
+#: cgi-bin/admin.c:186 cgi-bin/admin.c:197 cgi-bin/admin.c:2377
+msgid "Administration"
+msgstr "AdministraciÃ³n"
+
+#: cgi-bin/admin.c:224 cgi-bin/admin.c:241 cgi-bin/admin.c:242
+msgid "Modify Class"
+msgstr "Modificar clase"
+
+#: cgi-bin/admin.c:224 cgi-bin/admin.c:241 cgi-bin/admin.c:242
+msgid "Add Class"
+msgstr "AÃ±adir clase"
+
+#: cgi-bin/admin.c:385 cgi-bin/admin.c:402 cgi-bin/admin.c:404
+msgid ""
+"The class name may only contain up to 127 printable characters and may not "
+"contain spaces, slashes (/), or the pound sign (#)."
+msgstr ""
+"El nombre de la clase sÃ³lo puede contener hasta 127 caracteres imprimibles y "
+"no puede contener espacios, barras (/), o la almohadilla (#)."
+
+#: cgi-bin/admin.c:444 cgi-bin/admin.c:462 cgi-bin/admin.c:464
+msgid "Unable to modify class:"
+msgstr "No se ha podido modificar la clase:"
+
+#: cgi-bin/admin.c:445 cgi-bin/admin.c:463 cgi-bin/admin.c:465
+msgid "Unable to add class:"
+msgstr "No se ha podido aÃ±adir la clase:"
+
+#: cgi-bin/admin.c:514 cgi-bin/admin.c:532 cgi-bin/admin.c:534
+msgid "Modify Printer"
+msgstr "Modificar impresora"
+
+#: cgi-bin/admin.c:514 cgi-bin/admin.c:532 cgi-bin/admin.c:534
+msgid "Add Printer"
+msgstr "AÃ±adir impresora"
+
+#: cgi-bin/admin.c:583 cgi-bin/admin.c:602 cgi-bin/admin.c:604
+msgid ""
+"The printer name may only contain up to 127 printable characters and may not "
+"contain spaces, slashes (/), or the pound sign (#)."
+msgstr ""
+"El nombre de la impresora sÃ³lo puede contener hasta 127 caracteres "
+"imprimibles y no puede contener espacios, barras (/), o la almohadilla (#)."
+
+#: cgi-bin/admin.c:900 cgi-bin/admin.c:930 cgi-bin/admin.c:932
+msgid "Unable to get list of printer drivers:"
+msgstr "No se ha podido obtener la lista de controladores de impresora:"
+
+#: cgi-bin/admin.c:983 cgi-bin/admin.c:1014 cgi-bin/admin.c:1016
+msgid "Unable to modify printer:"
+msgstr "No se ha podido modificar la impresora:"
+
+#: cgi-bin/admin.c:984 cgi-bin/admin.c:1015 cgi-bin/admin.c:1017
+msgid "Unable to add printer:"
+msgstr "No se ha podido aÃ±adir la impresora:"
+
+#: cgi-bin/admin.c:1051 cgi-bin/admin.c:1082 cgi-bin/admin.c:1084
+msgid "Set Printer Options"
+msgstr "Cambiar opciones impresora"
+
+#: cgi-bin/admin.c:1062 cgi-bin/admin.c:2330 cgi-bin/admin.c:2391
+#: cgi-bin/admin.c:3112 cgi-bin/admin.c:3213 cgi-bin/admin.c:3449
+#: cgi-bin/admin.c:1095 cgi-bin/admin.c:2374 cgi-bin/admin.c:2435
+#: cgi-bin/admin.c:3156 cgi-bin/admin.c:3258 cgi-bin/admin.c:3496
+#: cgi-bin/admin.c:1097 cgi-bin/admin.c:1846 cgi-bin/admin.c:1907
+#: cgi-bin/admin.c:2405 cgi-bin/admin.c:2507 cgi-bin/admin.c:2745
+msgid "Missing form variable!"
+msgstr "Variable de formulario desaparecida."
+
+#: cgi-bin/admin.c:1076 cgi-bin/admin.c:1113 cgi-bin/admin.c:1115
+msgid "Unable to get PPD file!"
+msgstr "No se ha podido obtener el archivo PPD."
+
+#: cgi-bin/admin.c:1084 cgi-bin/admin.c:1123 cgi-bin/admin.c:1125
+msgid "Unable to open PPD file:"
+msgstr "No se ha podido abrir el archivo PPD:"
+
+#: cgi-bin/admin.c:1241 cgi-bin/admin.c:1282 cgi-bin/admin.c:1290
+msgid "Banners"
+msgstr "Banners"
+
+#: cgi-bin/admin.c:1255 cgi-bin/admin.c:1296 cgi-bin/admin.c:1304
+msgid "Starting Banner"
+msgstr "Banner inicial"
+
+#: cgi-bin/admin.c:1262 cgi-bin/admin.c:1303 cgi-bin/admin.c:1311
+msgid "Ending Banner"
+msgstr "Banner final"
+
+#: cgi-bin/admin.c:1280 cgi-bin/admin.c:1321 cgi-bin/admin.c:1329
+msgid "Policies"
+msgstr "Reglas"
+
+#: cgi-bin/admin.c:1304 cgi-bin/admin.c:1345 cgi-bin/admin.c:1353
+msgid "Error Policy"
+msgstr "Directiva de error"
+
+#: cgi-bin/admin.c:1331 cgi-bin/admin.c:1372 cgi-bin/admin.c:1380
+msgid "Operation Policy"
+msgstr "Directiva de operaciÃ³n"
+
+#: cgi-bin/admin.c:1352 cgi-bin/admin.c:1372 cgi-bin/admin.c:1393
+#: cgi-bin/admin.c:1413 cgi-bin/admin.c:1401 cgi-bin/admin.c:1421
+msgid "PS Binary Protocol"
+msgstr "Protocolo Binario PS"
+
+#: cgi-bin/admin.c:1358 cgi-bin/admin.c:1399 cgi-bin/admin.c:1407
+msgid "None"
+msgstr "Ninguno"
+
+#: cgi-bin/admin.c:1490 cgi-bin/admin.c:1534 cgi-bin/admin.c:1542
+msgid "Unable to set options:"
+msgstr "No se han podido cambiar las opciones:"
+
+#: cgi-bin/admin.c:1591 cgi-bin/admin.c:1607 cgi-bin/admin.c:1620
+#: cgi-bin/admin.c:2099 cgi-bin/admin.c:2106 cgi-bin/admin.c:1635
+#: cgi-bin/admin.c:1651 cgi-bin/admin.c:1664 cgi-bin/admin.c:2143
+#: cgi-bin/admin.c:2150 cgi-bin/admin.c:1609 cgi-bin/admin.c:1618
+msgid "Change Settings"
+msgstr "Cambiar especificaciones"
+
+#: cgi-bin/admin.c:1592 cgi-bin/admin.c:1608 cgi-bin/admin.c:1621
+#: cgi-bin/admin.c:1636 cgi-bin/admin.c:1652 cgi-bin/admin.c:1665
+#: cgi-bin/admin.c:1611
+msgid "Unable to change server settings:"
+msgstr "No se han podido cambiar las especificaciones del servidor:"
+
+#: cgi-bin/admin.c:2097 cgi-bin/admin.c:2190 cgi-bin/admin.c:2141
+#: cgi-bin/admin.c:2234 cgi-bin/admin.c:1703
+msgid "Unable to upload cupsd.conf file:"
+msgstr "No se ha podido copiar el archivo cupsd.conf:"
+
+#: cgi-bin/admin.c:2134 cgi-bin/admin.c:2146 cgi-bin/admin.c:2193
+#: cgi-bin/admin.c:2200 cgi-bin/admin.c:2232 cgi-bin/admin.c:2244
+#: cgi-bin/admin.c:2267 cgi-bin/admin.c:2178 cgi-bin/admin.c:2190
+#: cgi-bin/admin.c:2237 cgi-bin/admin.c:2276 cgi-bin/admin.c:2288
+#: cgi-bin/admin.c:2311 cgi-bin/admin.c:1646 cgi-bin/admin.c:1658
+#: cgi-bin/admin.c:1706 cgi-bin/admin.c:1713 cgi-bin/admin.c:1745
+#: cgi-bin/admin.c:1758 cgi-bin/admin.c:1782
+msgid "Edit Configuration File"
+msgstr "Editar archivo de configuraciÃ³n"
+
+#: cgi-bin/admin.c:2135 cgi-bin/admin.c:2147 cgi-bin/admin.c:2179
+#: cgi-bin/admin.c:2191 cgi-bin/printers.c:219 cgi-bin/printers.c:224
+#: cgi-bin/admin.c:1647 cgi-bin/admin.c:1659
+msgid "Unable to create temporary file:"
+msgstr "No se ha podido crear el archivo temporal:"
+
+#: cgi-bin/admin.c:2233 cgi-bin/admin.c:2245 cgi-bin/admin.c:2268
+#: cgi-bin/admin.c:2277 cgi-bin/admin.c:2289 cgi-bin/admin.c:2312
+#: cgi-bin/admin.c:1747 cgi-bin/admin.c:1760 cgi-bin/admin.c:1784
+msgid "Unable to access cupsd.conf file:"
+msgstr "No se ha podido acceder al archivo cupsd.conf"
+
+#: cgi-bin/admin.c:2247 cgi-bin/admin.c:2291 cgi-bin/admin.c:1762
+msgid "Unable to edit cupsd.conf files larger than 1MB!"
+msgstr "No se pueden editar archivos cupsd.conf mayores de 1MB."
+
+#: cgi-bin/admin.c:2316 cgi-bin/admin.c:2360 cgi-bin/admin.c:1832
+msgid "Delete Class"
+msgstr "Borrar clase"
+
+#: cgi-bin/admin.c:2357 cgi-bin/admin.c:2401 cgi-bin/admin.c:1873
+msgid "Unable to delete class:"
+msgstr "No se ha podido borrar la clase:"
+
+#: cgi-bin/admin.c:2377 cgi-bin/admin.c:2421 cgi-bin/admin.c:1893
+msgid "Delete Printer"
+msgstr "Borrar impresora"
+
+#: cgi-bin/admin.c:2418 cgi-bin/admin.c:2462 cgi-bin/admin.c:1934
+msgid "Unable to delete printer:"
+msgstr "No se ha podido borrar la impresora:"
+
+#: cgi-bin/admin.c:2447 cgi-bin/admin.c:2491 cgi-bin/admin.c:2053
+#: cgi-bin/admin.c:2072
+msgid "Export Printers to Samba"
+msgstr "Exportar impresoras a Samba"
+
+#: cgi-bin/admin.c:2515 cgi-bin/admin.c:2559
+msgid "Unable to fork process!"
+msgstr "No se ha podido bifurcar el proceso."
+
+#: cgi-bin/admin.c:2534 cgi-bin/admin.c:2578
+msgid "Unable to connect to server!"
+msgstr "No se ha podido conectar al servidor."
+
+#: cgi-bin/admin.c:2538 cgi-bin/admin.c:2582
+msgid "Unable to get printer attributes!"
+msgstr "No se han podido obtener los atributos de la impresora."
+
+#: cgi-bin/admin.c:2543 cgi-bin/admin.c:2587
+msgid "Unable to convert PPD file!"
+msgstr "No se ha podido convertir el archivo PPD."
+
+#: cgi-bin/admin.c:2547 cgi-bin/admin.c:2591
+msgid "Unable to copy Windows 2000 printer driver files!"
+msgstr ""
+"No se han podido copiar los archivos del controlador de impresora de Windows "
+"2000."
+
+#: cgi-bin/admin.c:2552 cgi-bin/admin.c:2596
+msgid "Unable to install Windows 2000 printer driver files!"
+msgstr ""
+"No se han podido instalar los archivos del controlador de impresora de "
+"Windows 2000."
+
+#: cgi-bin/admin.c:2557 cgi-bin/admin.c:2601
+msgid "Unable to copy Windows 9x printer driver files!"
+msgstr ""
+"No se han podido copiar los archivos del controlador de impresora de Windows "
+"9x."
+
+#: cgi-bin/admin.c:2562 cgi-bin/admin.c:2606
+msgid "Unable to install Windows 9x printer driver files!"
+msgstr ""
+"No se han podido instalar los archivos del controlador de impresora de "
+"Windows 9x."
+
+#: cgi-bin/admin.c:2567 cgi-bin/admin.c:2611
+msgid "Unable to set Windows printer driver!"
+msgstr "No se ha podido configurar el controlador de impresora de Windows."
+
+#: cgi-bin/admin.c:2572 cgi-bin/admin.c:2616
+msgid "No printer drivers found!"
+msgstr "No se han encontrado controladores de impresora."
+
+#: cgi-bin/admin.c:2576 cgi-bin/admin.c:2620
+msgid "Unable to execute cupsaddsmb command!"
+msgstr "No se ha podido ejecutar el comando cupsaddsmb."
+
+#: cgi-bin/admin.c:2582 cgi-bin/admin.c:2626
+#, c-format
+msgid "cupsaddsmb failed with status %d"
+msgstr "cupsaddsmb ha fallado con estado %d"
+
+#: cgi-bin/admin.c:2592 cgi-bin/admin.c:2636
+#, c-format
+msgid "cupsaddsmb crashed on signal %d"
+msgstr "cupsaddsmb se ha estropeado con seÃ±al %d"
+
+#: cgi-bin/admin.c:2608 cgi-bin/admin.c:2652 cgi-bin/admin.c:2061
+msgid "A Samba username is required to export printer drivers!"
+msgstr ""
+"Se requiere un nombre de usuario Samba para exportar los controladores de "
+"impresora."
+
+#: cgi-bin/admin.c:2612 cgi-bin/admin.c:2656 cgi-bin/admin.c:2065
+msgid "A Samba password is required to export printer drivers!"
+msgstr ""
+"Se requiere una contraseÃ±a Samba para exportar los controladores de "
+"impresora."
+
+#: cgi-bin/admin.c:2704 cgi-bin/admin.c:2748 cgi-bin/admin.c:2102
+msgid "Unable to open cupsd.conf file:"
+msgstr "No se ha podido abrir el archivo cupsd.conf:"
+
+#: cgi-bin/admin.c:3144 cgi-bin/admin.c:3400 cgi-bin/admin.c:3189
+#: cgi-bin/admin.c:3447 cgi-bin/admin.c:2438 cgi-bin/admin.c:2696
+msgid "Unable to change printer:"
+msgstr "No se ha podido cambiar la impresora:"
+
+#: cgi-bin/admin.c:3214 cgi-bin/admin.c:3259 cgi-bin/admin.c:3399
+#: cgi-bin/admin.c:3417 cgi-bin/admin.c:3305 cgi-bin/admin.c:3446
+#: cgi-bin/admin.c:3464 cgi-bin/admin.c:2508 cgi-bin/admin.c:2554
+#: cgi-bin/admin.c:2695 cgi-bin/admin.c:2713
+msgid "Set Allowed Users"
+msgstr "Establecer usuarios permitidos"
+
+#: cgi-bin/admin.c:3262 cgi-bin/admin.c:3308 cgi-bin/admin.c:2557
+msgid "Unable to get printer attributes:"
+msgstr "No se han podido obtener los atributos de la impresora:"
+
+#: cgi-bin/admin.c:3450 cgi-bin/admin.c:3488 cgi-bin/admin.c:3506
+#: cgi-bin/admin.c:3497 cgi-bin/admin.c:3536 cgi-bin/admin.c:3554
+#: cgi-bin/admin.c:2746 cgi-bin/admin.c:2785 cgi-bin/admin.c:2803
+msgid "Set Publishing"
+msgstr "Hacer pÃºblica"
+
+#: cgi-bin/admin.c:3489 cgi-bin/admin.c:3537 cgi-bin/admin.c:2786
+msgid "Unable to change printer-is-shared attribute:"
+msgstr "No se ha podido cambiar el atributo printer-is-shared:"
+
+#: cgi-bin/classes.c:161 cgi-bin/classes.c:208 cgi-bin/classes.c:159
+#: cgi-bin/classes.c:206 cgi-bin/classes.c:164 cgi-bin/classes.c:211
+msgid "Classes"
+msgstr "Clases"
+
+#: cgi-bin/classes.c:355 cgi-bin/classes.c:356 cgi-bin/classes.c:354
+#: cgi-bin/classes.c:359
+msgid "Unable to get class list:"
+msgstr "No se ha podido obtener la lista de clases:"
+
+#: cgi-bin/classes.c:454 cgi-bin/classes.c:455 cgi-bin/classes.c:453
+#: cgi-bin/classes.c:458
+msgid "Unable to get class status:"
+msgstr "No se ha podido obtener el estado de la clase:"
+
+#: cgi-bin/ipp-var.c:366 cgi-bin/ipp-var.c:419 cgi-bin/ipp-var.c:489
+#: cgi-bin/ipp-var.c:490
+msgid "Move Job"
+msgstr "Mover trabajo"
+
+#: cgi-bin/ipp-var.c:367
+msgid "Unable to find destination for job!"
+msgstr "No se ha podido encontrar destino para el trabajo."
+
+#: cgi-bin/ipp-var.c:421 cgi-bin/ipp-var.c:491 cgi-bin/ipp-var.c:492
+msgid "Move All Jobs"
+msgstr "Mover todos los trabajos"
+
+#: cgi-bin/ipp-var.c:496 cgi-bin/ipp-var.c:497
+msgid "Unable to move job"
+msgstr "No se ha podido mover el trabajo"
+
+#: cgi-bin/ipp-var.c:498 cgi-bin/ipp-var.c:499
+msgid "Unable to move jobs"
+msgstr "No se han podido mover los trabajos"
+
+#: cgi-bin/ipp-var.c:603 cgi-bin/ipp-var.c:605
+msgid "Print Test Page"
+msgstr "Imprimir pÃ¡gina de prueba"
+
+#: cgi-bin/ipp-var.c:606 cgi-bin/ipp-var.c:608
+msgid "Unable to print test page:"
+msgstr "No se ha podido imprimir la pÃ¡gina de prueba:"
+
+#: cgi-bin/jobs.c:111 cgi-bin/jobs.c:122 cgi-bin/jobs.c:184
+msgid "Jobs"
+msgstr "Trabajos"
+
+#: cgi-bin/jobs.c:187
+msgid "Job operation failed:"
+msgstr "La operaciÃ³n del trabajo ha fallado:"
+
+#: cgi-bin/printers.c:161 cgi-bin/printers.c:208 cgi-bin/printers.c:211
+#: cgi-bin/printers.c:166 cgi-bin/printers.c:335 cgi-bin/printers.c:171
+#: cgi-bin/printers.c:340
+msgid "Printers"
+msgstr "Impresoras"
+
+#: cgi-bin/printers.c:362 cgi-bin/printers.c:366 cgi-bin/printers.c:518
+#: cgi-bin/printers.c:523
+msgid "Unable to get printer list:"
+msgstr "No se ha podido obtener la lista de impresoras:"
+
+#: cgi-bin/printers.c:461 cgi-bin/printers.c:468 cgi-bin/printers.c:628
+#: cgi-bin/printers.c:633
+msgid "Unable to get printer status:"
+msgstr "No se ha podido obtener el estado de la impresora"
+
+#: cups/ppd.c:319 cups/ppd.c:302
+msgid "OK"
+msgstr "OK"
+
+#: cups/ppd.c:320 cups/ppd.c:303
+msgid "Unable to open PPD file"
+msgstr "No se ha podido abrir el archivo PPD"
+
+#: cups/ppd.c:321 cups/ppd.c:304
+msgid "NULL PPD file pointer"
+msgstr "Puntero de archivo PPD NULO"
+
+#: cups/ppd.c:322 cups/ppd.c:305
+msgid "Memory allocation error"
+msgstr "Error de reserva de memoria"
+
+#: cups/ppd.c:323 cups/ppd.c:306
+msgid "Missing PPD-Adobe-4.x header"
+msgstr "Falta cabecera PPD-Adobe-4.x"
+
+#: cups/ppd.c:324 cups/ppd.c:307
+msgid "Missing value string"
+msgstr "Falta cadena de valores"
+
+#: cups/ppd.c:325 cups/ppd.c:308
+msgid "Internal error"
+msgstr "Error interno"
+
+#: cups/ppd.c:326 cups/ppd.c:309
+msgid "Bad OpenGroup"
+msgstr "OpenGroup incorrecto"
+
+#: cups/ppd.c:327 cups/ppd.c:310
+msgid "OpenGroup without a CloseGroup first"
+msgstr "OpenGroup sin un CloseGroup previo"
+
+#: cups/ppd.c:328 cups/ppd.c:311
+msgid "Bad OpenUI/JCLOpenUI"
+msgstr "OpenUI/JCLOpenUI incorrecto"
+
+#: cups/ppd.c:329 cups/ppd.c:312
+msgid "OpenUI/JCLOpenUI without a CloseUI/JCLCloseUI first"
+msgstr "OpenUI/JCLOpenUI sin un CloseUI/JCLCloseUI previo"
+
+#: cups/ppd.c:330 cups/ppd.c:313
+msgid "Bad OrderDependency"
+msgstr "OrderDependency incorrecto"
+
+#: cups/ppd.c:331 cups/ppd.c:314
+msgid "Bad UIConstraints"
+msgstr "UIConstraints incorrecto"
+
+#: cups/ppd.c:332 cups/ppd.c:315
+msgid "Missing asterisk in column 1"
+msgstr "Falta un asterisco en la columna 1"
+
+#: cups/ppd.c:333 cups/ppd.c:316
+msgid "Line longer than the maximum allowed (255 characters)"
+msgstr "LÃ­nea mÃ¡s larga que el mÃ¡ximo permitido (255 caracteres)"
+
+#: cups/ppd.c:334 cups/ppd.c:317
+msgid "Illegal control character"
+msgstr "CarÃ¡cter de control ilegal"
+
+#: cups/ppd.c:335 cups/ppd.c:318
+msgid "Illegal main keyword string"
+msgstr "Cadena de clave principal ilegal"
+
+#: cups/ppd.c:336 cups/ppd.c:319
+msgid "Illegal option keyword string"
+msgstr "Cadena de clave de opciÃ³n ilegal"
+
+#: cups/ppd.c:337 cups/ppd.c:320
+msgid "Illegal translation string"
+msgstr "Cadena de traducciÃ³n ilegal"
+
+#: cups/ppd.c:338 cups/ppd.c:321
+msgid "Illegal whitespace character"
+msgstr "CarÃ¡cter de espacio en blanco ilegal"
+
+#: cups/ppd.c:339 cups/ppd.c:322
+msgid "Bad custom parameter"
+msgstr "ParÃ¡metro a medida incorrecto"
+
+#: cups/ppd.c:344 cups/ppd.c:327
+msgid "Unknown"
+msgstr "Desconocido"
+
+#: cups/ppd.c:1033 cups/ppd.c:1020 cups/ppd.c:1009 cups/ppd.c:1010
+#: cups/ppd.c:1007
+msgid "Custom"
+msgstr "A medida"
+
+#: cups/ppd.c:1259 cups/ppd.c:1236 cups/ppd.c:1225 cups/ppd.c:1226
+#: cups/ppd.c:1223
+msgid "JCL"
+msgstr "JCL"
+
+#: scheduler/ipp.c:2184 scheduler/ipp.c:2226 scheduler/ipp.c:2681
+msgid "No authentication information provided!"
+msgstr "No se ha proporcionado informaciÃ³n de autentificaciÃ³n."
+
+#: systemv/cupsaddsmb.c:440 systemv/cupsaddsmb.c:252
+#, c-format
+msgid "Password for %s required to access %s via SAMBA: "
+msgstr "Se requiere la contraseÃ±a de %s para acceder a %s vÃ­a SAMBA: "
+
+#: systemv/cupsaddsmb.c:451 cups/adminutil.c:626
+#, c-format
+msgid "Running command: %s %s -N -U '%s%%%s' -c '%s'\n"
+msgstr "Ejecutando comando: %s %s -N -U '%s%%%s' -c '%s'\n"
+
+#: systemv/cupsaddsmb.c:479 cups/adminutil.c:656 cups/adminutil.c:1683
+#, c-format
+msgid "cupsaddsmb: Unable to run \"%s\": %s\n"
+msgstr "cupsaddsmb: No se ha podido ejecutar \"%s\": %s\n"
+
+#: systemv/cupsaddsmb.c:805
+msgid "cupsaddsmb: No Windows printer drivers are installed!\n"
+msgstr ""
+"cupsaddsmb: No estÃ¡ instalado ningÃºn controlador de impresora de Windows.\n"
+
+#: systemv/cupsaddsmb.c:810
+msgid "cupsaddsmb: Warning, no Windows 2000 printer drivers are installed!\n"
+msgstr ""
+"cupsaddsmb: Advertencia, no estÃ¡ instalado ningÃºn controlador de impresora "
+"de Windows 2000.\n"
+
+#: systemv/lpadmin.c:881
+#, c-format
+msgid "lpadmin: Printer %s is already a member of class %s.\n"
+msgstr "lpadmin: La impresora %s ya es miembro de la clase %s.\n"
+
+#: systemv/lpadmin.c:1115
+msgid "lpadmin: No member names were seen!\n"
+msgstr "lpadmin: No se han visto nombres de miembros.\n"
+
+#: systemv/lpadmin.c:1129
+#, c-format
+msgid "lpadmin: Printer %s is not a member of class %s.\n"
+msgstr "lpadmin: La impresora %s no es miembro de la clase %s.\n"
+
+#: systemv/lpinfo.c:278
+#, c-format
+msgid ""
+"Device: uri = %s\n"
+"        class = %s\n"
+"        info = %s\n"
+"        make-and-model = %s\n"
+"        device-id = %s\n"
+msgstr ""
+"Dispositivo: uri = %s\n"
+"        clase = %s\n"
+"        info = %s\n"
+"        make-and-model = %s\n"
+"        device-id = %s\n"
+
+#: systemv/lpinfo.c:410
+#, c-format
+msgid ""
+"Model:  name = %s\n"
+"        natural_language = %s\n"
+"        make-and-model = %s\n"
+"        device-id = %s\n"
+msgstr ""
+"Modelo:  nombre = %s\n"
+"        natural_language = %s\n"
+"        make-and-model = %s\n"
+"        device-id = %s\n"
+
+#: systemv/lpmove.c:145
+msgid "Usage: lpmove job/src dest\n"
+msgstr "Uso: lpmove trabajo/fuente destino\n"
+
+#: systemv/lpstat.c:144 systemv/lpstat.c:156
+msgid "lpstat: Need \"completed\", \"not-completed\", or \"all\" after -W!\n"
+msgstr ""
+"lpstat: Se necesita \"completed\", \"not completed\", o \"all\" tras -W.\n"
+
+#: systemv/lpstat.c:740 systemv/lpstat.c:768
+#, c-format
+msgid "%s accepting requests since %s\n"
+msgstr "%s aceptando peticiones desde %s\n"
+
+#: systemv/lpstat.c:743 systemv/lpstat.c:771
+#, c-format
+msgid ""
+"%s not accepting requests since %s -\n"
+"\t%s\n"
+msgstr ""
+"%s no acepta peticiones desde %s -\n"
+"\t%s\n"
+
+#: systemv/lpstat.c:752 systemv/lpstat.c:780
+#, c-format
+msgid "%s/%s accepting requests since %s\n"
+msgstr "%s/%s aceptando peticiones desde %s\n"
+
+#: systemv/lpstat.c:755 systemv/lpstat.c:783
+#, c-format
+msgid ""
+"%s/%s not accepting requests since %s -\n"
+"\t%s\n"
+msgstr ""
+"%s/%s no acepta peticiones desde %s -\n"
+"\t%s\n"
+
+#: berkeley/lpc.c:88 berkeley/lpc.c:116 berkeley/lpc.c:152
+msgid "lpc> "
+msgstr "lpc> "
+
+#: berkeley/lpq.c:93 systemv/cancel.c:250 systemv/cancel.c:332
+#: systemv/cancel.c:331
+#, c-format
+msgid "%s: Unable to contact server!\n"
+msgstr "%s: No se ha podido contactar con el servidor.\n"
+
+#: berkeley/lpq.c:138 berkeley/lpr.c:128 berkeley/lprm.c:144
+#: systemv/accept.c:120 systemv/cancel.c:107 systemv/lp.c:150
+#: systemv/lpstat.c:144 berkeley/lpr.c:130 systemv/lp.c:154
+#, c-format
+msgid "%s: Error - expected username after '-U' option!\n"
+msgstr "%s: Error - se esperaba un nombre de usuario tras la opciÃ³n '-U'.\n"
+
+#: berkeley/lpq.c:173
+#, c-format
+msgid "%s: Error - unknown destination \"%s/%s\"!\n"
+msgstr "%s: Error - destino \"%s/%s\" desconocido.\n"
+
+#: berkeley/lpq.c:177 systemv/lpstat.c:549
+#, c-format
+msgid "%s: Unknown destination \"%s\"!\n"
+msgstr "%s: Destino \"%s\" desconocido.\n"
+
+#: berkeley/lpq.c:201 berkeley/lprm.c:167 systemv/accept.c:146
+#: systemv/cancel.c:135 systemv/lp.c:227 systemv/lpstat.c:300 systemv/lp.c:231
+#, c-format
+msgid "%s: Error - expected hostname after '-h' option!\n"
+msgstr "%s: Error - se esperaba un nombre de ordenador tras la opciÃ³n '-h'.\n"
+
+#: berkeley/lpq.c:253
+#, c-format
+msgid ""
+"%s: error - %s environment variable names non-existent destination \"%s\"!\n"
+msgstr ""
+"%s: error - %s nombres de variables de entorno no existen en destino \"%s"
+"\".\n"
+
+#: berkeley/lpq.c:258
+#, c-format
+msgid "%s: error - no default destination available.\n"
+msgstr "%s: error - destino predeterminado no disponible.\n"
+
+#: berkeley/lpq.c:647
+msgid ""
+"Usage: lpq [-P dest] [-U username] [-h hostname[:port]] [-l] [+interval]\n"
+msgstr ""
+"Uso: lpq (-P dest) (-U nombre_usuario) (-h nombre_ordenador(:puerto)) (-l) "
+"(+intervalo)\n"
+
+#: berkeley/lpr.c:148 berkeley/lpr.c:150
+#, c-format
+msgid "%s: Error - expected hostname after '-H' option!\n"
+msgstr "%s: Error - se esperaba un nombre de ordenador tras la opciÃ³n '-H'.\n"
+
+#: berkeley/lpr.c:171 berkeley/lpr.c:173
+#, c-format
+msgid "%s: Error - expected value after '-%c' option!\n"
+msgstr "%s: Error - se esperaba un valor tras la opciÃ³n '%c'.\n"
+
+#: berkeley/lpr.c:185 berkeley/lpr.c:187
+#, c-format
+msgid ""
+"%s: Warning - '%c' format modifier not supported - output may not be "
+"correct!\n"
+msgstr ""
+"%s: Advertencia - no se admite el uso del modificador de formato '%c' - la "
+"salida puede no ser correcta.\n"
+
+#: berkeley/lpr.c:199 berkeley/lpr.c:201
+#, c-format
+msgid "%s: error - expected option=value after '-o' option!\n"
+msgstr "%s: error - se esperaba opciÃ³n=valor tras la opciÃ³n '-o'.\n"
+
+#: berkeley/lpr.c:250 berkeley/lpr.c:258
+#, c-format
+msgid "%s: Error - expected destination after '-P' option!\n"
+msgstr "%s: Error - se esperaba un destino tras la opciÃ³n '-P'.\n"
+
+#: berkeley/lpr.c:285 berkeley/lpr.c:293
+#, c-format
+msgid "%s: Error - expected copy count after '-#' option!\n"
+msgstr "%s: Error - se esperaba un nÃºmero de copias tras la opciÃ³n '-#'.\n"
+
+#: berkeley/lpr.c:309 berkeley/lpr.c:317
+#, c-format
+msgid "%s: Error - expected name after '-%c' option!\n"
+msgstr "%s: Error - se esperaba un nombre tras la opciÃ³n '%c'.\n"
+
+#: berkeley/lpr.c:320 berkeley/lprm.c:179 systemv/accept.c:176
+#: systemv/cancel.c:169 systemv/lp.c:529 systemv/lpstat.c:461
+#: berkeley/lpr.c:328 systemv/lp.c:545
+#, c-format
+msgid "%s: Error - unknown option '%c'!\n"
+msgstr "%s: Error - opciÃ³n '%c' desconocida.\n"
+
+#: berkeley/lpr.c:333 systemv/lp.c:554 berkeley/lpr.c:341 systemv/lp.c:570
+#, c-format
+msgid "%s: Error - unable to access \"%s\" - %s\n"
+msgstr "%s: Error - no se ha podido acceder a \"%s\" - %s\n"
+
+#: berkeley/lpr.c:351 systemv/lp.c:571 berkeley/lpr.c:359 systemv/lp.c:587
+#, c-format
+msgid "%s: Error - too many files - \"%s\"\n"
+msgstr "%s: Error - demasiados archivos - \"%s\"\n"
+
+#: berkeley/lpr.c:393 systemv/lp.c:621 berkeley/lpr.c:401 systemv/lp.c:637
+#, c-format
+msgid ""
+"%s: Error - %s environment variable names non-existent destination \"%s\"!\n"
+msgstr ""
+"%s: Error - %s nombres de variables de entorno no existen en destino \"%s"
+"\".\n"
+
+#: berkeley/lpr.c:398 systemv/lp.c:626 berkeley/lpr.c:406 systemv/lp.c:642
+#, c-format
+msgid "%s: Error - no default destination available.\n"
+msgstr "%s: Error - destino predeterminado no disponible.\n"
+
+#: berkeley/lpr.c:402 systemv/lp.c:630 berkeley/lpr.c:410 systemv/lp.c:646
+#, c-format
+msgid "%s: Error - scheduler not responding!\n"
+msgstr "%s: Error - el programa planificador de tareas no responde.\n"
+
+#: berkeley/lpr.c:452 systemv/lp.c:670 berkeley/lpr.c:460 systemv/lp.c:686
+#, c-format
+msgid "%s: Error - unable to create temporary file \"%s\" - %s\n"
+msgstr "%s: Error - no se ha podido crear el archivo temporal \"%s\" - %s\n"
+
+#: berkeley/lpr.c:462 systemv/lp.c:679 berkeley/lpr.c:470 systemv/lp.c:695
+#, c-format
+msgid "%s: Error - unable to write to temporary file \"%s\" - %s\n"
+msgstr "%s: Error - no se ha podido escribir al archivo temporal \"%s\" - %s\n"
+
+#: berkeley/lpr.c:476 systemv/lp.c:693 berkeley/lpr.c:484 systemv/lp.c:709
+#, c-format
+msgid "%s: Error - stdin is empty, so no job has been sent.\n"
+msgstr ""
+"%s: Error - stdin estÃ¡ vacÃ­o, por lo tanto no se ha enviado ningÃºn trabajo.\n"
+
+#: berkeley/lprm.c:127 systemv/cancel.c:227
+#, c-format
+msgid "%s: Error - unknown destination \"%s\"!\n"
+msgstr "%s: Error - destino \"%s\" desconocido.\n"
+
+#: systemv/accept.c:165
+#, c-format
+msgid "%s: Error - expected reason text after '-r' option!\n"
+msgstr "%s: Error - se esperaba un texto con una razÃ³n tras la opciÃ³n '-r'.\n"
+
+#: systemv/cancel.c:157
+#, c-format
+msgid "%s: Error - expected username after '-u' option!\n"
+msgstr "%s: Error - se esperaba un nombre de usuario tras la opciÃ³n '-u'.\n"
+
+#: systemv/cancel.c:308 systemv/cancel.c:373 systemv/cancel.c:372
+#, c-format
+msgid "%s: %s failed: %s\n"
+msgstr "%s: %s ha fallado: %s\n"
+
+#: systemv/lp.c:173 systemv/lp.c:177
+#, c-format
+msgid "%s: Error - expected destination after '-d' option!\n"
+msgstr "%s: Error -  se esperaba un destino tras la opciÃ³n '-d'.\n"
+
+#: systemv/lp.c:206 systemv/lp.c:210
+#, c-format
+msgid "%s: Error - expected form after '-f' option!\n"
+msgstr "%s: Error - se esperaba un formulario tras la opciÃ³n '-f'.\n"
+
+#: systemv/lp.c:213 systemv/lp.c:217
+#, c-format
+msgid "%s: Warning - form option ignored!\n"
+msgstr "%s: Advertencia - opciÃ³n de formulario no tenida en cuenta.\n"
+
+#: systemv/lp.c:247 systemv/lp.c:251
+#, c-format
+msgid "%s: Expected job ID after '-i' option!\n"
+msgstr "%s : Se esperaba una ID de trabajo tras la opciÃ³n '-i'.\n"
+
+#: systemv/lp.c:258 systemv/lp.c:262
+#, c-format
+msgid "%s: Error - cannot print files and alter jobs simultaneously!\n"
+msgstr ""
+"%s: Error - no se pueden imprimir archivos y alterar trabajos al mismo "
+"tiempo.\n"
+
+#: systemv/lp.c:271 systemv/lp.c:275
+#, c-format
+msgid "%s: Error - bad job ID!\n"
+msgstr "%s: Error - ID de trabajo incorrecta.\n"
+
+#: systemv/lp.c:296 systemv/lp.c:308
+#, c-format
+msgid "%s: Error - expected copies after '-n' option!\n"
+msgstr "%s: Error -  se esperaba nÃºmero de copias tras la opciÃ³n '-n'.\n"
+
+#: systemv/lp.c:319 systemv/lp.c:331
+#, c-format
+msgid "%s: Error - expected option string after '-o' option!\n"
+msgstr "%s: Error - se esperaba una cadena de opciones tras la opciÃ³n '-o'.\n"
+
+#: systemv/lp.c:340 systemv/lp.c:352
+#, c-format
+msgid "%s: Error - expected priority after '-%c' option!\n"
+msgstr "%s: Error - se esperaba un valor de prioridad tras la opciÃ³n '-%c'.\n"
+
+#: systemv/lp.c:363 systemv/lp.c:375
+#, c-format
+msgid "%s: Error - priority must be between 1 and 100.\n"
+msgstr "%s: Error - la prioridad debe estar entre 1 y 100.\n"
+
+#: systemv/lp.c:387 systemv/lp.c:399
+#, c-format
+msgid "%s: Error - expected title after '-t' option!\n"
+msgstr "%s: Error - se esperaba un tÃ­tulo tras la opciÃ³n '-t'.\n"
+
+#: systemv/lp.c:405 systemv/lp.c:417
+#, c-format
+msgid "%s: Error - expected mode list after '-y' option!\n"
+msgstr "%s: Error - se esperaba una lista de modos tras la opciÃ³n '-y'.\n"
+
+#: systemv/lp.c:413 systemv/lp.c:425
+#, c-format
+msgid "%s: Warning - mode option ignored!\n"
+msgstr "%s: Advertencia - opciÃ³n de modo no tenida en cuenta.\n"
+
+#: systemv/lp.c:427 systemv/lp.c:439
+#, c-format
+msgid "%s: Error - expected hold name after '-H' option!\n"
+msgstr "%s: Error - se esperaba un nombre de retenciÃ³n tras la opciÃ³n '-H'.\n"
+
+#: systemv/lp.c:451 systemv/lp.c:463
+#, c-format
+msgid "%s: Need job ID ('-i jobid') before '-H restart'!\n"
+msgstr ""
+"%s: Se necesita un ID de trabajo ('-i id_trabajo') antes de '-H restart'.\n"
+
+#: systemv/lp.c:475 systemv/lp.c:487
+#, c-format
+msgid "%s: Error - expected page list after '-P' option!\n"
+msgstr "%s: Error - se esperaba una lista de pÃ¡ginas tras la opciÃ³n '-P'.\n"
+
+#: systemv/lp.c:496 systemv/lp.c:508
+#, c-format
+msgid "%s: Error - expected character set after '-S' option!\n"
+msgstr "%s: Error - se esperaba un juego de caracteres tras la opciÃ³n '-S'.\n"
+
+#: systemv/lp.c:504 systemv/lp.c:516
+#, c-format
+msgid "%s: Warning - character set option ignored!\n"
+msgstr "%s: Advertencia - opciÃ³n de juego de caracteres no tenida en cuenta.\n"
+
+#: systemv/lp.c:516 systemv/lp.c:528
+#, c-format
+msgid "%s: Error - expected content type after '-T' option!\n"
+msgstr "%s: Error - se esperaba un tipo de contenido tras la opciÃ³n '-T'.\n"
+
+#: systemv/lp.c:524 systemv/lp.c:536
+#, c-format
+msgid "%s: Warning - content type option ignored!\n"
+msgstr "%s: Advertencia - opciÃ³n de tipo de contenido no tenida en cuenta.\n"
+
+#: systemv/lp.c:538 systemv/lp.c:554
+#, c-format
+msgid ""
+"%s: Error - cannot print from stdin if files or a job ID are provided!\n"
+msgstr ""
+"%s: Error - no se puede imprimir desde stdin si se proporcionan archivos o "
+"una ID de trabajo.\n"
+
+#: systemv/lpstat.c:164 systemv/lpstat.c:178
+#, c-format
+msgid ""
+"%s: Error - need \"completed\", \"not-completed\", or \"all\" after '-W' "
+"option!\n"
+msgstr ""
+"%s: Error - se necesita \"completed\", \"not completed\", o \"all\" tras la "
+"opciÃ³n '-W'.\n"
+
+#: systemv/lpstat.c:237
+#, c-format
+msgid "%s: Error - expected destination after '-b' option!\n"
+msgstr "%s: Error - se esperaba un destino tras la opciÃ³n '-b'.\n"
+
+#: systemv/lpstat.c:534
+#, c-format
+msgid "%s: Invalid destination name in list \"%s\"!\n"
+msgstr "%s: Nombre de destino no vÃ¡lido en la lista \"%s\".\n"
+
+#: systemv/lpstat.c:571 systemv/cupsaddsmb.c:156 systemv/cupsaddsmb.c:177
+#, c-format
+msgid "%s: Unable to connect to server\n"
+msgstr "%s: No se ha podido conectar al servidor\n"
+
+#: cups/notify.c:91
+msgid "Print Job:"
+msgstr "Imprimir trabajo:"
+
+#: cups/notify.c:96
+msgid "pending"
+msgstr "pendiente"
+
+#: cups/notify.c:99
+msgid "held"
+msgstr "retenido"
+
+#: cups/notify.c:102 cups/notify.c:143
+msgid "processing"
+msgstr "en proceso"
+
+#: cups/notify.c:105 cups/notify.c:146
+msgid "stopped"
+msgstr "parado"
+
+#: cups/notify.c:108
+msgid "canceled"
+msgstr "cancelado"
+
+#: cups/notify.c:111
+msgid "aborted"
+msgstr "cancelado"
+
+#: cups/notify.c:114
+msgid "completed"
+msgstr "completado"
+
+#: cups/notify.c:117 cups/notify.c:149
+msgid "unknown"
+msgstr "desconocido"
+
+#: cups/notify.c:126
+msgid "untitled"
+msgstr "sin tÃ­tulo"
+
+#: cups/notify.c:135
+msgid "Printer:"
+msgstr "Impresora:"
+
+#: cups/notify.c:140
+msgid "idle"
+msgstr "inactiva"
+
+#: scheduler/ipp.c:5513 scheduler/ipp.c:5482 scheduler/ipp.c:5498
+msgid "Missing notify-subscription-ids attribute!"
+msgstr "Atributo notify-subscription-ids desaparecido."
+
+#: scheduler/ipp.c:7851 scheduler/ipp.c:7341 scheduler/ipp.c:7357
+msgid "Job subscriptions cannot be renewed!"
+msgstr "Las suscripciones de trabajos no han podido ser renovadas."
+
+#: scheduler/main.c:163
+msgid "cupsd: Expected config filename after \"-c\" option!\n"
+msgstr ""
+"cupsd: Se esperaba un nombre de archivo de configuraciÃ³n tras la opciÃ³n \"-c"
+"\".\n"
+
+#: scheduler/main.c:218
+msgid "cupsd: launchd(8) support not compiled in, running in normal mode.\n"
+msgstr ""
+"cupsd: el uso de launchd(8) no ha sido compilado, ejecutÃ¡ndose en modo "
+"normal.\n"
+
+#: scheduler/main.c:225
+#, c-format
+msgid "cupsd: Unknown option \"%c\" - aborting!\n"
+msgstr "cupsd: OpciÃ³n \"%c\" desconocida - cancelando.\n"
+
+#: scheduler/main.c:232
+#, c-format
+msgid "cupsd: Unknown argument \"%s\" - aborting!\n"
+msgstr "cupsd: Argumento \"%s\" desconocido - cancelando.\n"
+
+#: scheduler/main.c:2315 scheduler/main.c:2329 scheduler/main.c:2304
+msgid ""
+"Usage: cupsd [-c config-file] [-f] [-F] [-h] [-l]\n"
+"\n"
+"-c config-file      Load alternate configuration file\n"
+"-f                  Run in the foreground\n"
+"-F                  Run in the foreground but detach\n"
+"-h                  Show this usage message\n"
+"-l                  Run cupsd from launchd(8)\n"
+msgstr ""
+"Uso: cupsd (-c archivo-configuraciÃ³n) (-f) (-F) (-h) (-l)\n"
+"\n"
+"-c archivo-configuraciÃ³n      Carga un archivo de configuraciÃ³n alternativo\n"
+"-f                  Se ejecuta en primer plano\n"
+"-F                  Se ejecuta en primer plano pero separado\n"
+"-h                  Muestra este mensaje de cÃ³mo se usa\n"
+"-l                  Ejecuta cupsd desde launchd(8)\n"
+
+#: systemv/cupstestppd.c:1343 systemv/cupstestppd.c:1543
+#, c-format
+msgid "        WARN    Line %d only contains whitespace!\n"
+msgstr "        ADVERTENCIA    La lÃ­nea %d solo contiene espacios en blanco.\n"
+
+#: systemv/cupstestppd.c:1361 systemv/cupstestppd.c:1561
+msgid ""
+"        WARN    File contains a mix of CR, LF, and CR LF line endings!\n"
+msgstr ""
+"        ADVERTENCIA    El archivo contiene una mezcla de lÃ­neas acabadas en "
+"CR, LF y CR LF.\n"
+
+#: systemv/cupstestppd.c:1366 systemv/cupstestppd.c:1566
+msgid ""
+"        WARN    Non-Windows PPD files should use lines ending with only LF, "
+"not CR LF!\n"
+msgstr ""
+"        ADVERTENCIA    Los archivos PPD que no sean de Windows deben tener "
+"lÃ­neas que acaben sÃ³lo en LF, no en CR LF.\n"
+
+#: cgi-bin/printers.c:218 cgi-bin/printers.c:289 cgi-bin/printers.c:223
+#: cgi-bin/printers.c:294
+msgid "Printer Maintenance"
+msgstr "Mantenimiento de impresora"
+
+#: cgi-bin/printers.c:292 cgi-bin/printers.c:297
+msgid "Unable to send maintenance job:"
+msgstr "No se ha podido enviar el trabajo de mantenimiento:"
+
+#: systemv/cupsaddsmb.c:566 systemv/cupsaddsmb.c:233
+#, c-format
+msgid "cupsaddsmb: No PPD file for printer \"%s\" - %s\n"
+msgstr "cupsaddsmb: No hay archivo PPD para la impresora \"%s\" - %s\n"
+
+#: systemv/cupstestppd.c:346
+#, c-format
+msgid "      **FAIL**  %s %s does not exist!\n"
+msgstr "      **FALLO**  %s %s no existe.\n"
+
+#: systemv/cupstestppd.c:1053
+#, c-format
+msgid "      **FAIL**  Bad language \"%s\"!\n"
+msgstr "      **FALLO**  Idioma incorrecto \"%s\".\n"
+
+#: systemv/cupstestppd.c:1078
+#, c-format
+msgid "      **FAIL**  Missing \"%s\" translation string for option %s!\n"
+msgstr ""
+"      **FALLO**  Cadena de traducciÃ³n \"%s\" para opciÃ³n %s desaparecida.\n"
+
+#: systemv/cupstestppd.c:1098
+#, c-format
+msgid ""
+"      **FAIL**  Default translation string for option %s contains 8-bit "
+"characters!\n"
+msgstr ""
+"      **FALLO**  Cadena de traducciÃ³n predeterminada para opciÃ³n %s contiene "
+"caracteres de 8-bits.\n"
+
+#: systemv/cupstestppd.c:1119
+#, c-format
+msgid ""
+"      **FAIL**  Missing \"%s\" translation string for option %s, choice %s!\n"
+msgstr ""
+"      **FALLO**  Cadena de traducciÃ³n \"%s\" para opciÃ³n %s, preferencia %"
+"s.\n"
+
+#: systemv/cupstestppd.c:1141
+#, c-format
+msgid ""
+"      **FAIL**  Default translation string for option %s choice %s contains "
+"8-bit characters!\n"
+msgstr ""
+"      **FALLO**  Cadena de traducciÃ³n predeterminada para opciÃ³n %s "
+"preferencia %s contiene caracteres de 8-bits.\n"
+
+#: systemv/cupstestppd.c:1175
+#, c-format
+msgid "      **FAIL**  Bad cupsFilter value \"%s\"!\n"
+msgstr "      **FALLO**  Valor cupsFilter incorrecto \"%s\".\n"
+
+#: cgi-bin/help.c:98 cgi-bin/help.c:139 cgi-bin/help.c:149 cgi-bin/help.c:179
+msgid "Help"
+msgstr "Ayuda"
+
+#: cups/adminutil.c:233 cups/adminutil.c:246
+#, c-format
+msgid "Missing value on line %d!\n"
+msgstr "Falta un valor en la lÃ­nea %d.\n"
+
+#: cups/adminutil.c:249 cups/adminutil.c:265
+#, c-format
+msgid "Missing double quote on line %d!\n"
+msgstr "Faltan dobles comillas en lÃ­nea %d.\n"
+
+#: cups/adminutil.c:266 cups/adminutil.c:284
+#, c-format
+msgid "Bad option + choice on line %d!\n"
+msgstr "OpciÃ³n incorrecta + preferencia en lÃ­nea %s.\n"
+
+#: cups/adminutil.c:417
+#, c-format
+msgid "Unable to copy Windows 2000 printer driver files (%d)!\n"
+msgstr ""
+"No se han podido copiar los archivos del controlador de impresora de Windows "
+"2000 (%d).\n"
+
+#: cups/adminutil.c:445
+#, c-format
+msgid "Unable to copy CUPS printer driver files (%d)!\n"
+msgstr ""
+"No se han podido copiar los archivos del controlador de impresora de CUPS (%"
+"d).\n"
+
+#: cups/adminutil.c:480
+#, c-format
+msgid "Unable to install Windows 2000 printer driver files (%d)!\n"
+msgstr ""
+"No se han podido instalar los archivos del controlador de impresora de "
+"Windows 2000 (%d).\n"
+
+#: cups/adminutil.c:514
+#, c-format
+msgid "Unable to copy Windows 9x printer driver files (%d)!\n"
+msgstr ""
+"No se han podido copiar los archivos del controlador de impresora de Windows "
+"9x (%d).\n"
+
+#: cups/adminutil.c:536
+#, c-format
+msgid "Unable to install Windows 9x printer driver files (%d)!\n"
+msgstr ""
+"No se han podido instalar los archivos del controlador de impresora de "
+"Windows 9x (%d).\n"
+
+#: cups/adminutil.c:547
+msgid "No Windows printer drivers are installed!\n"
+msgstr "No estÃ¡ instalado ningÃºn controlador de impresora de Windows.\n"
+
+#: cups/adminutil.c:550
+msgid "Warning, no Windows 2000 printer drivers are installed!\n"
+msgstr ""
+"Advertencia, no estÃ¡ instalado ningÃºn controlador de impresora de Windows "
+"2000.\n"
+
+#: cups/adminutil.c:568 cups/adminutil.c:658
+#, c-format
+msgid "Unable to set Windows printer driver (%d)!\n"
+msgstr ""
+"No se ha podido configurar el controlador de impresora de Windows (%d).\n"
+
+#: systemv/cupsaddsmb.c:278
+msgid ""
+"Usage: cupsaddsmb [options] printer1 ... printerN\n"
+"       cupsaddsmb [options] -a\n"
+"\n"
+"Options:\n"
+"  -E               Encrypt the connection to the server\n"
+"  -H samba-server  Use the named SAMBA server\n"
+"  -U samba-user    Authenticate using the named SAMBA user\n"
+"  -a               Export all printers\n"
+"  -h cups-server   Use the named CUPS server\n"
+"  -v               Be verbose (show commands)\n"
+msgstr ""
+"Uso: cupsaddsmb [opciones] impresora1 ... impresoraN\n"
+"       cupsaddsmb [opciones] -a\n"
+"\n"
+"Opciones:\n"
+"  -E               Hace que se use encriptaciÃ³n en la conexiÃ³n con el "
+"servidor\n"
+"  -H servidor_samba  Usa el servidor SAMBA especificado\n"
+"  -U usuario_samba    Autentifica usando el usuario SAMBA especificado\n"
+"  -a               Exporta todas las impresoras\n"
+"  -h servidor_cups   Usa el servidor CUPS especificado\n"
+"  -v               Ser detallado (mostrar comandos)\n"
+
+#: cups/adminutil.c:464
+#, c-format
+msgid "Unable to copy Windows 2000 printer driver files (%d)!"
+msgstr ""
+"No se han podido copiar los archivos del controlador de impresora de Windows "
+"2000 (%d)."
+
+#: cups/adminutil.c:499
+#, c-format
+msgid "Unable to copy CUPS printer driver files (%d)!"
+msgstr ""
+"No se han podido copiar los archivos del controlador de impresora de CUPS (%"
+"d)."
+
+#: cups/adminutil.c:542
+#, c-format
+msgid "Unable to install Windows 2000 printer driver files (%d)!"
+msgstr ""
+"No se han podido instalar los archivos del controlador de impresora de "
+"Windows 2000 (%d)."
+
+#: cups/adminutil.c:583
+#, c-format
+msgid "Unable to copy Windows 9x printer driver files (%d)!"
+msgstr ""
+"No se han podido copiar los archivos del controlador de impresora de Windows "
+"9x (%d)."
+
+#: cups/adminutil.c:612
+#, c-format
+msgid "Unable to install Windows 9x printer driver files (%d)!"
+msgstr ""
+"No se han podido instalar los archivos del controlador de impresora de "
+"Windows 9x (%d)."
+
+#: cups/adminutil.c:631
+msgid "No Windows printer drivers are installed!"
+msgstr "No estÃ¡ instalado ningÃºn controlador de impresora de Windows."
+
+#: cups/adminutil.c:636
+msgid "Warning, no Windows 2000 printer drivers are installed!"
+msgstr ""
+"Advertencia, no estÃ¡ instalado ningÃºn controlador de impresora de Windows "
+"2000."
+
+#: cups/adminutil.c:736
+#, c-format
+msgid "open of %s failed: %s"
+msgstr "la apertura de %s ha fallado: %s"
+
+#: cups/adminutil.c:1653
+#, c-format
+msgid "Running command: %s %s -N -A %s -c '%s'\n"
+msgstr "Ejecutando comando: %s %s -N -A '%s -c '%s'\n"
+
+#: cups/adminutil.c:1750
+#, c-format
+msgid "stat of %s failed: %s"
+msgstr "verificaciÃ³n de %s ha fallado: %s"
+
+#: scheduler/ipp.c:3021
+#, c-format
+msgid "Job #%d is already cancelled - can't cancel."
+msgstr "El trabajo #%d ya estÃ¡ cancelado - no se puede cancelar."
+
+#: scheduler/ipp.c:3027
+#, c-format
+msgid "Job #%d is already aborted - can't cancel."
+msgstr "El trabajo #%d ya estÃ¡ anulado - no se puede cancelar."
+
+#: scheduler/ipp.c:3033
+#, c-format
+msgid "Job #%d is already completed - can't cancel."
+msgstr "El trabajo #%d ya ha sido completado - no se puede cancelar."
+
diff -urNad cupsys-1.1.99.b2~/locale/cups_ja.po cupsys-1.1.99.b2/locale/cups_ja.po
--- cupsys-1.1.99.b2~/locale/cups_ja.po	2006-03-08 19:28:54.000000000 +0000
+++ cupsys-1.1.99.b2/locale/cups_ja.po	2006-03-15 11:04:23.000000000 +0000
@@ -25,8 +25,8 @@
 msgstr ""
 "Project-Id-Version: CUPS 1.2\n"
 "Report-Msgid-Bugs-To: http://www.cups.org/str.php\n"
-"POT-Creation-Date: 2006-03-09 19:42-0500\n"
-"PO-Revision-Date: 2006-02-17 11:17+0900\n"
+"POT-Creation-Date: 2006-03-13 08:39-0500\n"
+"PO-Revision-Date: 2006-03-14 09:29+0900\n"
 "Last-Translator: Kenshi Muto <kmuto@debian.org>\n"
 "Language-Team: Japanese <LL@li.org>\n"
 "MIME-Version: 1.0\n"
@@ -53,37 +53,37 @@
 #: cups/ppd.c:656 cups/ppd.c:881 cups/ppd.c:1047 cups/ppd.c:662 cups/ppd.c:996
 #: cups/ppd.c:1169 cups/ppd.c:651 cups/ppd.c:983 cups/ppd.c:1148
 #: cups/ppd.c:972 cups/ppd.c:1137 cups/ppd.c:646 cups/ppd.c:973
-#: cups/ppd.c:1138
+#: cups/ppd.c:1138 cups/ppd.c:970 cups/ppd.c:1135
 msgid "General"
 msgstr "ä¸è¬"
 
 #: cups/ppd.c:704 cups/ppd.c:1105 cups/ppd.c:710 cups/ppd.c:1224
 #: cups/ppd.c:697 cups/ppd.c:1201 cups/ppd.c:1190 cups/ppd.c:692
-#: cups/ppd.c:1191
+#: cups/ppd.c:1191 cups/ppd.c:1188
 msgid "Media Size"
 msgstr "ç¨ç´ãµã¤ãº"
 
 #: cups/ppd.c:706 cups/ppd.c:1107 cups/ppd.c:712 cups/ppd.c:1226
 #: cups/ppd.c:699 cups/ppd.c:1203 cups/ppd.c:1192 cups/ppd.c:694
-#: cups/ppd.c:1193
+#: cups/ppd.c:1193 cups/ppd.c:1190
 msgid "Media Type"
 msgstr "ç¨ç´å½¢å¼"
 
 #: cups/ppd.c:708 cups/ppd.c:1109 cups/ppd.c:714 cups/ppd.c:1228
 #: cups/ppd.c:701 cups/ppd.c:1205 cups/ppd.c:1194 cups/ppd.c:696
-#: cups/ppd.c:1195
+#: cups/ppd.c:1195 cups/ppd.c:1192
 msgid "Media Source"
 msgstr "çµ¦ç´"
 
 #: cups/ppd.c:710 cups/ppd.c:1111 cups/ppd.c:716 cups/ppd.c:1230
 #: cups/ppd.c:703 cups/ppd.c:1207 cups/ppd.c:1196 cups/ppd.c:698
-#: cups/ppd.c:1197
+#: cups/ppd.c:1197 cups/ppd.c:1194
 msgid "Output Mode"
 msgstr "åºåã¢ã¼ã"
 
 #: cups/ppd.c:712 cups/ppd.c:1113 cups/ppd.c:718 cups/ppd.c:1232
 #: cups/ppd.c:705 cups/ppd.c:1209 cups/ppd.c:1198 cups/ppd.c:700
-#: cups/ppd.c:1199
+#: cups/ppd.c:1199 cups/ppd.c:1196
 msgid "Resolution"
 msgstr "è§£ååº¦"
 
@@ -92,12 +92,12 @@
 msgstr "å¯å¤"
 
 #: cups/ppd.c:1535 cups/ppd.c:1650 cups/ppd.c:1627 cups/ppd.c:1616
-#: cups/ppd.c:1622
+#: cups/ppd.c:1622 cups/ppd.c:1619
 msgid "Yes"
 msgstr "ã¯ã"
 
 #: cups/ppd.c:1537 cups/ppd.c:1652 cups/ppd.c:1629 cups/ppd.c:1618
-#: cups/ppd.c:1624
+#: cups/ppd.c:1624 cups/ppd.c:1621
 msgid "No"
 msgstr "ããã"
 
@@ -106,7 +106,7 @@
 msgstr "èªå"
 
 #: scheduler/client.c:2247 scheduler/client.c:2251 scheduler/client.c:2274
-#: scheduler/client.c:2308 scheduler/client.c:2349
+#: scheduler/client.c:2308 scheduler/client.c:2349 scheduler/client.c:2350
 msgid ""
 "Enter your username and password or the root username and password to access "
 "this page."
@@ -115,7 +115,7 @@
 "ã®ã¦ã¼ã¶åã¨ãã¹ã¯ã¼ããå¥åãã¦ãã ããã"
 
 #: scheduler/client.c:2252 scheduler/client.c:2256 scheduler/client.c:2279
-#: scheduler/client.c:2313 scheduler/client.c:2354
+#: scheduler/client.c:2313 scheduler/client.c:2354 scheduler/client.c:2355
 msgid "You must use a https: URL to access this page."
 msgstr "ãã®ãã¼ã¸ã«ã¢ã¯ã»ã¹ããããã«ã¯ãhttps: URL ãä½¿ãå¿è¦ãããã¾ãã"
 
@@ -170,7 +170,11 @@
 #: scheduler/ipp.c:5326 scheduler/ipp.c:5738 scheduler/ipp.c:6046
 #: scheduler/ipp.c:6337 scheduler/ipp.c:6379 scheduler/ipp.c:7116
 #: scheduler/ipp.c:8081 scheduler/ipp.c:8745 scheduler/ipp.c:8826
-#: scheduler/ipp.c:9001
+#: scheduler/ipp.c:9001 scheduler/ipp.c:4715 scheduler/ipp.c:4958
+#: scheduler/ipp.c:5342 scheduler/ipp.c:5754 scheduler/ipp.c:6062
+#: scheduler/ipp.c:6353 scheduler/ipp.c:6395 scheduler/ipp.c:7132
+#: scheduler/ipp.c:8097 scheduler/ipp.c:8761 scheduler/ipp.c:8842
+#: scheduler/ipp.c:9017
 msgid "The printer or class was not found."
 msgstr "ããªã³ã¿ã¾ãã¯ã¯ã©ã¹ãè¦ã¤ããã¾ããã§ããã"
 
@@ -218,21 +222,21 @@
 
 #: scheduler/ipp.c:1290 scheduler/ipp.c:4501 scheduler/ipp.c:1316
 #: scheduler/ipp.c:4705 scheduler/ipp.c:1348 scheduler/ipp.c:4804
-#: scheduler/ipp.c:1810 scheduler/ipp.c:4773
+#: scheduler/ipp.c:1810 scheduler/ipp.c:4773 scheduler/ipp.c:4789
 #, c-format
 msgid "Character set \"%s\" not supported!"
 msgstr "æå­ã»ãã \"%s\" ã¯ãµãã¼ãããã¦ãã¾ãã!"
 
 #: scheduler/ipp.c:1299 scheduler/ipp.c:4510 scheduler/ipp.c:1325
 #: scheduler/ipp.c:4714 scheduler/ipp.c:1357 scheduler/ipp.c:4813
-#: scheduler/ipp.c:1819 scheduler/ipp.c:4782
+#: scheduler/ipp.c:1819 scheduler/ipp.c:4782 scheduler/ipp.c:4798
 #, c-format
 msgid "Language \"%s\" not supported!"
 msgstr "è¨èª \"%s\" ã¯ãµãã¼ãããã¦ãã¾ãã!"
 
 #: scheduler/ipp.c:1309 scheduler/ipp.c:4520 scheduler/ipp.c:1335
 #: scheduler/ipp.c:4724 scheduler/ipp.c:1367 scheduler/ipp.c:4823
-#: scheduler/ipp.c:1829 scheduler/ipp.c:4792
+#: scheduler/ipp.c:1829 scheduler/ipp.c:4792 scheduler/ipp.c:4808
 #, c-format
 msgid "The notify-user-data value is too large (%d > 63 octets)!"
 msgstr "notify-user-data å¤ãå¤§ãããã¾ã (%d > 63 ãªã¯ããã)!"
@@ -288,13 +292,13 @@
 msgstr "%d ã¯ç¡å¹ãª printer-state å¤ã§ã!"
 
 #: scheduler/ipp.c:1762 scheduler/ipp.c:1800 scheduler/ipp.c:1842
-#: scheduler/ipp.c:8585
+#: scheduler/ipp.c:8585 scheduler/ipp.c:8601
 #, c-format
 msgid "Unknown printer-op-policy \"%s\"."
 msgstr "\"%s\" ã¯æªç¥ã® printer-op-policy ã§ãã"
 
 #: scheduler/ipp.c:1775 scheduler/ipp.c:1813 scheduler/ipp.c:1855
-#: scheduler/ipp.c:8600
+#: scheduler/ipp.c:8600 scheduler/ipp.c:8616
 #, c-format
 msgid "Unknown printer-error-policy \"%s\"."
 msgstr "\"%s\" ã¯æªç¥ã® printer-error-policy ã§ãã"
@@ -327,6 +331,8 @@
 #: scheduler/ipp.c:8672 scheduler/ipp.c:2613 scheduler/ipp.c:2906
 #: scheduler/ipp.c:5189 scheduler/ipp.c:6179 scheduler/ipp.c:7203
 #: scheduler/ipp.c:7418 scheduler/ipp.c:7657 scheduler/ipp.c:8164
+#: scheduler/ipp.c:5205 scheduler/ipp.c:6195 scheduler/ipp.c:7219
+#: scheduler/ipp.c:7434 scheduler/ipp.c:7673 scheduler/ipp.c:8180
 msgid "Got a printer-uri attribute but no job-id!"
 msgstr "printer-uri å±æ§ãåå¾ãã¾ããããjob-id ãåå¾ã§ãã¾ããã§ãã!"
 
@@ -342,6 +348,9 @@
 #: scheduler/ipp.c:2635 scheduler/ipp.c:2978 scheduler/ipp.c:5212
 #: scheduler/ipp.c:6202 scheduler/ipp.c:6425 scheduler/ipp.c:7226
 #: scheduler/ipp.c:7441 scheduler/ipp.c:7680 scheduler/ipp.c:8187
+#: scheduler/ipp.c:5228 scheduler/ipp.c:6218 scheduler/ipp.c:6441
+#: scheduler/ipp.c:7242 scheduler/ipp.c:7457 scheduler/ipp.c:7696
+#: scheduler/ipp.c:8203
 #, c-format
 msgid "Bad job-uri attribute \"%s\"!"
 msgstr "\"%s\" ã¯ç¡å¹ãª job-uri å±æ§ã§ã!"
@@ -446,51 +455,52 @@
 msgstr "å®å \"%s\" ã«ã¸ã§ããè¿½å ã§ãã¾ãã!"
 
 #: scheduler/ipp.c:4469 scheduler/ipp.c:4673 scheduler/ipp.c:4770
-#: scheduler/ipp.c:4739
+#: scheduler/ipp.c:4739 scheduler/ipp.c:4755
 msgid "No subscription attributes in request!"
 msgstr "ãªã¯ã¨ã¹ãã«ãµãã¹ã¯ãªãã·ã§ã³å±æ§ãããã¾ãã!"
 
 #: scheduler/ipp.c:4559 scheduler/ipp.c:4763 scheduler/ipp.c:4869
-#: scheduler/ipp.c:4838
+#: scheduler/ipp.c:4838 scheduler/ipp.c:4854
 msgid "notify-events not specified!"
 msgstr "notify-events ãæå®ããã¦ãã¾ãã!"
 
 #: scheduler/ipp.c:4577 scheduler/ipp.c:4781 scheduler/ipp.c:4887
-#: scheduler/ipp.c:4856
+#: scheduler/ipp.c:4856 scheduler/ipp.c:4872
 #, c-format
 msgid "Job %d not found!"
 msgstr "ã¸ã§ã %d ã¯è¦ã¤ããã¾ãã!"
 
 #: scheduler/ipp.c:4827 scheduler/ipp.c:4957 scheduler/ipp.c:5075
-#: scheduler/ipp.c:5044
+#: scheduler/ipp.c:5044 scheduler/ipp.c:5060
 msgid "No default printer"
 msgstr "ããã©ã«ãããªã³ã¿ã¯ããã¾ãã"
 
 #: scheduler/ipp.c:4930 scheduler/ipp.c:5060 scheduler/ipp.c:5178
-#: scheduler/ipp.c:5147
+#: scheduler/ipp.c:5147 scheduler/ipp.c:5163
 msgid "cups-deviced failed to execute."
 msgstr "cups-deviced ã®å®è¡ã«å¤±æãã¾ããã"
 
 #: scheduler/ipp.c:5393 scheduler/ipp.c:5479 scheduler/ipp.c:5722
-#: scheduler/ipp.c:5691
+#: scheduler/ipp.c:5691 scheduler/ipp.c:5707
 msgid "cups-driverd failed to execute."
 msgstr "cups-driverd ã®å®è¡ã«å¤±æãã¾ããã"
 
 #: scheduler/ipp.c:5571 scheduler/ipp.c:5594 scheduler/ipp.c:5837
-#: scheduler/ipp.c:5806
+#: scheduler/ipp.c:5806 scheduler/ipp.c:5822
 msgid "No destinations added."
 msgstr "è¿½å ãããå®åã¯ããã¾ããã"
 
 #: scheduler/ipp.c:5794 scheduler/ipp.c:5736 scheduler/ipp.c:2615
 #: scheduler/ipp.c:5530 scheduler/ipp.c:5979 scheduler/ipp.c:7840
 #: scheduler/ipp.c:3070 scheduler/ipp.c:5499 scheduler/ipp.c:5948
-#: scheduler/ipp.c:7330
+#: scheduler/ipp.c:7330 scheduler/ipp.c:3086 scheduler/ipp.c:5515
+#: scheduler/ipp.c:5964 scheduler/ipp.c:7346
 #, c-format
 msgid "notify-subscription-id %d no good!"
 msgstr "notify-subscription-id %d ã¯è¯ãããã¾ãã!"
 
 #: scheduler/ipp.c:5878 scheduler/ipp.c:5822 scheduler/ipp.c:6065
-#: scheduler/ipp.c:6034
+#: scheduler/ipp.c:6034 scheduler/ipp.c:6050
 #, c-format
 msgid "Job #%s does not exist!"
 msgstr "ã¸ã§ã #%s ã¯å­å¨ãã¾ãã!"
@@ -509,13 +519,16 @@
 #: scheduler/ipp.c:2996 scheduler/ipp.c:5230 scheduler/ipp.c:6056
 #: scheduler/ipp.c:6220 scheduler/ipp.c:6398 scheduler/ipp.c:6443
 #: scheduler/ipp.c:7244 scheduler/ipp.c:7459 scheduler/ipp.c:7698
-#: scheduler/ipp.c:8205
+#: scheduler/ipp.c:8205 scheduler/ipp.c:5246 scheduler/ipp.c:6072
+#: scheduler/ipp.c:6236 scheduler/ipp.c:6414 scheduler/ipp.c:6459
+#: scheduler/ipp.c:7260 scheduler/ipp.c:7475 scheduler/ipp.c:7714
+#: scheduler/ipp.c:8221
 #, c-format
 msgid "Job #%d does not exist!"
 msgstr "ã¸ã§ã #%d ã¯å­å¨ãã¾ãã!"
 
 #: scheduler/ipp.c:5969 scheduler/ipp.c:5915 scheduler/ipp.c:6150
-#: scheduler/ipp.c:6119
+#: scheduler/ipp.c:6119 scheduler/ipp.c:6135
 msgid "No subscriptions found."
 msgstr "ãµãã¹ã¯ãªãã·ã§ã³ãè¦ã¤ããã¾ããã"
 
@@ -527,7 +540,8 @@
 
 #: scheduler/ipp.c:6203 scheduler/ipp.c:8315 scheduler/ipp.c:6250
 #: scheduler/ipp.c:8390 scheduler/ipp.c:6505 scheduler/ipp.c:8728
-#: scheduler/ipp.c:6474 scheduler/ipp.c:8220
+#: scheduler/ipp.c:6474 scheduler/ipp.c:8220 scheduler/ipp.c:6490
+#: scheduler/ipp.c:8236
 #, c-format
 msgid "Job #%d is finished and cannot be altered!"
 msgstr "ã¸ã§ã #%d ã¯å®äºããå¤æ´ãããã¨ã¯ã§ãã¾ãã!"
@@ -540,32 +554,35 @@
 "ã!"
 
 #: scheduler/ipp.c:6228 scheduler/ipp.c:6098 scheduler/ipp.c:6353
-#: scheduler/ipp.c:6322
+#: scheduler/ipp.c:6322 scheduler/ipp.c:6338
 msgid "job-printer-uri attribute missing!"
 msgstr "job-printer-uri å±æ§ãããã¾ãã!"
 
 #: scheduler/ipp.c:6485 scheduler/ipp.c:7847 scheduler/ipp.c:6531
 #: scheduler/ipp.c:7913 scheduler/ipp.c:6783 scheduler/ipp.c:8238
-#: scheduler/ipp.c:6703 scheduler/ipp.c:7728
+#: scheduler/ipp.c:6703 scheduler/ipp.c:7728 scheduler/ipp.c:6719
+#: scheduler/ipp.c:7744
 #, c-format
 msgid "Unsupported compression \"%s\"!"
 msgstr "\"%s\" ã¯ãµãã¼ãããã¦ããªãå§ç¸®ã§ã!"
 
 #: scheduler/ipp.c:6504 scheduler/ipp.c:7866 scheduler/ipp.c:6550
 #: scheduler/ipp.c:7932 scheduler/ipp.c:6802 scheduler/ipp.c:8257
-#: scheduler/ipp.c:6722 scheduler/ipp.c:7747
+#: scheduler/ipp.c:6722 scheduler/ipp.c:7747 scheduler/ipp.c:6738
+#: scheduler/ipp.c:7763
 msgid "No file!?!"
 msgstr "ãã¡ã¤ã«ãããã¾ãã!?!"
 
 #: scheduler/ipp.c:6522 scheduler/ipp.c:6568 scheduler/ipp.c:6820
-#: scheduler/ipp.c:6740
+#: scheduler/ipp.c:6740 scheduler/ipp.c:6756
 #, c-format
 msgid "Could not scan type \"%s\"!"
 msgstr "ã¿ã¤ã \"%s\" ãæ¤æ»ã§ãã¾ããã§ãã!"
 
 #: scheduler/ipp.c:6574 scheduler/ipp.c:7936 scheduler/ipp.c:6620
 #: scheduler/ipp.c:8001 scheduler/ipp.c:6879 scheduler/ipp.c:8332
-#: scheduler/ipp.c:6799 scheduler/ipp.c:7822
+#: scheduler/ipp.c:6799 scheduler/ipp.c:7822 scheduler/ipp.c:6815
+#: scheduler/ipp.c:7838
 #, c-format
 msgid "Unsupported format '%s/%s'!"
 msgstr "'%s/%s' ã¯ãµãã¼ãããã¦ããªãå½¢å¼ã§ã!"
@@ -580,7 +597,7 @@
 msgstr "ã¸ã§ããå¤ããã¾ã - %d ã¸ã§ããæå¤§ã¸ã§ãæ°ã¯ %d ã§ãã"
 
 #: scheduler/ipp.c:7448 scheduler/ipp.c:7507 scheduler/ipp.c:7768
-#: scheduler/ipp.c:7258
+#: scheduler/ipp.c:7258 scheduler/ipp.c:7274
 #, c-format
 msgid "Job #%d is not held!"
 msgstr "ã¸ã§ã #%d ã¯ãã¼ã«ãããã¦ãã¾ãã!"
@@ -593,13 +610,13 @@
 "ãã!"
 
 #: scheduler/ipp.c:7592 scheduler/ipp.c:7654 scheduler/ipp.c:7983
-#: scheduler/ipp.c:7473
+#: scheduler/ipp.c:7473 scheduler/ipp.c:7489
 #, c-format
 msgid "Job #%d is not complete!"
 msgstr "ã¸ã§ã #%d ã¯å®çµãã¦ãã¾ãã!"
 
 #: scheduler/ipp.c:7608 scheduler/ipp.c:7670 scheduler/ipp.c:8001
-#: scheduler/ipp.c:7491
+#: scheduler/ipp.c:7491 scheduler/ipp.c:7507
 #, c-format
 msgid "Job #%d cannot be restarted - no files!"
 msgstr "ã¸ã§ã #%d ã¯åèµ·åã§ãã¾ãã - ãã¡ã¤ã«ãããã¾ãã!"
@@ -620,7 +637,8 @@
 
 #: scheduler/ipp.c:7883 scheduler/ipp.c:8803 scheduler/ipp.c:7949
 #: scheduler/ipp.c:8883 scheduler/ipp.c:8274 scheduler/ipp.c:9225
-#: scheduler/ipp.c:7764 scheduler/ipp.c:8967
+#: scheduler/ipp.c:7764 scheduler/ipp.c:8967 scheduler/ipp.c:7780
+#: scheduler/ipp.c:8983
 #, c-format
 msgid "Bad document-format \"%s\"!"
 msgstr "\"%s\" ã¯ä¸æ­£ãª document-format ã§ã!"
@@ -633,23 +651,23 @@
 "ãã!"
 
 #: scheduler/ipp.c:8371 scheduler/ipp.c:8446 scheduler/ipp.c:8783
-#: scheduler/ipp.c:8275
+#: scheduler/ipp.c:8275 scheduler/ipp.c:8291
 #, c-format
 msgid "%s cannot be changed."
 msgstr "%s ã¯å¤æ´ã§ãã¾ããã"
 
 #: scheduler/ipp.c:8387 scheduler/ipp.c:8462 scheduler/ipp.c:8799
-#: scheduler/ipp.c:8291
+#: scheduler/ipp.c:8291 scheduler/ipp.c:8307
 msgid "Bad job-priority value!"
 msgstr "ä¸æ­£ãª job-priority å¤ã§ã!"
 
 #: scheduler/ipp.c:8395 scheduler/ipp.c:8470 scheduler/ipp.c:8807
-#: scheduler/ipp.c:8299
+#: scheduler/ipp.c:8299 scheduler/ipp.c:8315
 msgid "Job is completed and cannot be changed."
 msgstr "ã¸ã§ãã¯å®çµããå¤æ´ã§ãã¾ããã"
 
 #: scheduler/ipp.c:8409 scheduler/ipp.c:8484 scheduler/ipp.c:8821
-#: scheduler/ipp.c:8313
+#: scheduler/ipp.c:8313 scheduler/ipp.c:8329
 msgid "Bad job-state value!"
 msgstr "ä¸æ­£ãª job-state å¤ã§ã!"
 
@@ -657,17 +675,18 @@
 #: scheduler/ipp.c:8498 scheduler/ipp.c:8510 scheduler/ipp.c:8521
 #: scheduler/ipp.c:8835 scheduler/ipp.c:8850 scheduler/ipp.c:8861
 #: scheduler/ipp.c:8327 scheduler/ipp.c:8342 scheduler/ipp.c:8353
+#: scheduler/ipp.c:8343 scheduler/ipp.c:8358 scheduler/ipp.c:8369
 msgid "Job state cannot be changed."
 msgstr "ã¸ã§ãã®ç¶æãå¤æ´ã§ãã¾ããã"
 
 #: scheduler/ipp.c:8787 scheduler/ipp.c:8867 scheduler/ipp.c:9209
-#: scheduler/ipp.c:8951
+#: scheduler/ipp.c:8951 scheduler/ipp.c:8967
 #, c-format
 msgid "Unsupported compression attribute %s!"
 msgstr "%s ã¯ãµãã¼ãããã¦ããªãå§ç¸®å±æ§ã§ã!"
 
 #: scheduler/ipp.c:8815 scheduler/ipp.c:8894 scheduler/ipp.c:9236
-#: scheduler/ipp.c:8978
+#: scheduler/ipp.c:8978 scheduler/ipp.c:8994
 #, c-format
 msgid "Unsupported format \"%s\"!"
 msgstr "\"%s\" ã¯ãµãã¼ãããã¦ããªãå½¢å¼ã§ã!"
@@ -1116,7 +1135,7 @@
 
 #: systemv/cupstestppd.c:136 systemv/cupstestppd.c:153
 msgid "cupstestppd: The -v option is incompatible with the -q option.\n"
-msgstr "cupstestppd: -v ãªãã·ã§ã³ã¯ -q ãªãã·ã§ã³ã¨ä¸¡ç«ã§ãã¾ããã"
+msgstr "cupstestppd: -v ãªãã·ã§ã³ã¯ -q ãªãã·ã§ã³ã¨ä¸¡ç«ã§ãã¾ããã\n"
 
 #: systemv/cupstestppd.c:193 systemv/cupstestppd.c:210
 #, c-format
@@ -3137,10 +3156,12 @@
 msgstr "æªç¥"
 
 #: cups/ppd.c:1033 cups/ppd.c:1020 cups/ppd.c:1009 cups/ppd.c:1010
+#: cups/ppd.c:1007
 msgid "Custom"
 msgstr "ã«ã¹ã¿ã "
 
 #: cups/ppd.c:1259 cups/ppd.c:1236 cups/ppd.c:1225 cups/ppd.c:1226
+#: cups/ppd.c:1223
 msgid "JCL"
 msgstr "JCL"
 
@@ -3592,11 +3613,11 @@
 msgid "idle"
 msgstr "å¾æ©ä¸­"
 
-#: scheduler/ipp.c:5513 scheduler/ipp.c:5482
+#: scheduler/ipp.c:5513 scheduler/ipp.c:5482 scheduler/ipp.c:5498
 msgid "Missing notify-subscription-ids attribute!"
 msgstr "notify-subscription-ids å±æ§ãããã¾ãã!"
 
-#: scheduler/ipp.c:7851 scheduler/ipp.c:7341
+#: scheduler/ipp.c:7851 scheduler/ipp.c:7341 scheduler/ipp.c:7357
 msgid "Job subscriptions cannot be renewed!"
 msgstr "ã¸ã§ããµãã¹ã¯ãªãã·ã§ã³ãæ´æ°ããã¦ãã¾ãã!"
 
@@ -3659,35 +3680,32 @@
 
 #: cgi-bin/printers.c:218 cgi-bin/printers.c:289 cgi-bin/printers.c:223
 #: cgi-bin/printers.c:294
-#, fuzzy
 msgid "Printer Maintenance"
-msgstr "ããªã³ã¿ã¯å±æããã¦ãã¾ãã!"
+msgstr "ããªã³ã¿ã®ã¡ã³ããã³ã¹"
 
 #: cgi-bin/printers.c:292 cgi-bin/printers.c:297
-#, fuzzy
 msgid "Unable to send maintenance job:"
-msgstr "ã¸ã§ããç§»åã§ãã¾ãã"
+msgstr "ã¡ã³ããã³ã¹ã¸ã§ããéãã¾ãã:"
 
 #: systemv/cupsaddsmb.c:566 systemv/cupsaddsmb.c:233
-#, fuzzy, c-format
+#, c-format
 msgid "cupsaddsmb: No PPD file for printer \"%s\" - %s\n"
-msgstr ""
-"cupsaddsmb: ããªã³ã¿ \"%s\" ã® PPD ãã¡ã¤ã«ãããã¾ãã - ã¹ã­ãããã¾ã!\n"
+msgstr "cupsaddsmb: ããªã³ã¿ \"%s\" ã® PPD ãã¡ã¤ã«ãããã¾ãã - %s\n"
 
 #: systemv/cupstestppd.c:346
-#, fuzzy, c-format
+#, c-format
 msgid "      **FAIL**  %s %s does not exist!\n"
-msgstr "ã¸ã§ã #%s ã¯å­å¨ãã¾ãã!"
+msgstr "      **å¤±æ** %s %s ã¯å­å¨ãã¾ãã!\n"
 
 #: systemv/cupstestppd.c:1053
 #, c-format
 msgid "      **FAIL**  Bad language \"%s\"!\n"
-msgstr ""
+msgstr "      **å¤±æ**  ç¡å¹ãªè¨èª \"%s\" ã§ã!\n"
 
 #: systemv/cupstestppd.c:1078
 #, c-format
 msgid "      **FAIL**  Missing \"%s\" translation string for option %s!\n"
-msgstr ""
+msgstr "      **å¤±æ**  \"%s\" ç¿»è¨³æå­å (ãªãã·ã§ã³ %s ç¨) ãããã¾ãã!\n"
 
 #: systemv/cupstestppd.c:1098
 #, c-format
@@ -3695,12 +3713,15 @@
 "      **FAIL**  Default translation string for option %s contains 8-bit "
 "characters!\n"
 msgstr ""
+"      **å¤±æ**  ãªãã·ã§ã³ %s ã®ããã©ã«ãã®ç¿»è¨³æå­åã8ãããæå­ãå«ãã§ã"
+"ã¾ã!\n"
 
 #: systemv/cupstestppd.c:1119
 #, c-format
 msgid ""
 "      **FAIL**  Missing \"%s\" translation string for option %s, choice %s!\n"
 msgstr ""
+"      **å¤±æ**  \"%s\" ç¿»è¨³æå­å (ãªãã·ã§ã³ %sãé¸æ %s) ãããã¾ãã!\n"
 
 #: systemv/cupstestppd.c:1141
 #, c-format
@@ -3708,75 +3729,72 @@
 "      **FAIL**  Default translation string for option %s choice %s contains "
 "8-bit characters!\n"
 msgstr ""
+"      **å¤±æ**  ãªãã·ã§ã³ %sãé¸æ %s ã®ããã©ã«ãã®ç¿»è¨³æå­åã8ãããæå­"
+"ãå«ãã§ãã¾ã!\n"
 
 #: systemv/cupstestppd.c:1175
 #, c-format
 msgid "      **FAIL**  Bad cupsFilter value \"%s\"!\n"
-msgstr ""
+msgstr "      **å¤±æ**  \"%s\" ã¯ä¸æ­£ãª cupsFilter å¤ã§ã!\n"
 
 #: cgi-bin/help.c:98 cgi-bin/help.c:139 cgi-bin/help.c:149 cgi-bin/help.c:179
 msgid "Help"
-msgstr ""
+msgstr "ãã«ã"
 
 #: cups/adminutil.c:233 cups/adminutil.c:246
-#, fuzzy, c-format
+#, c-format
 msgid "Missing value on line %d!\n"
-msgstr "cupsaddsmb: %d è¡ã«å¤ãããã¾ãã!\n"
+msgstr "%d è¡ã«å¤ãããã¾ãã!\n"
 
 #: cups/adminutil.c:249 cups/adminutil.c:265
-#, fuzzy, c-format
+#, c-format
 msgid "Missing double quote on line %d!\n"
-msgstr "cupsaddsmb: %d è¡ã«äºéå¼ç¨ç¬¦ãããã¾ãã!\n"
+msgstr "%d è¡ã«äºéå¼ç¨ç¬¦ãããã¾ãã!\n"
 
 #: cups/adminutil.c:266 cups/adminutil.c:284
-#, fuzzy, c-format
+#, c-format
 msgid "Bad option + choice on line %d!\n"
-msgstr "cupsaddsmb: %d è¡ã«ä¸æ­£ãªãªãã·ã§ã³ã¨é¸æãããã¾ã!\n"
+msgstr "%d è¡ã«ä¸æ­£ãªãªãã·ã§ã³ã¨é¸æãããã¾ã!\n"
 
 #: cups/adminutil.c:417
-#, fuzzy, c-format
+#, c-format
 msgid "Unable to copy Windows 2000 printer driver files (%d)!\n"
-msgstr "Windows 2000 ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã³ãã¼ã§ãã¾ãã!"
+msgstr "Windows 2000 ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã³ãã¼ã§ãã¾ãã (%d)!\n"
 
 #: cups/adminutil.c:445
-#, fuzzy, c-format
+#, c-format
 msgid "Unable to copy CUPS printer driver files (%d)!\n"
-msgstr "cupsaddsmb: CUPS ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã³ãã¼ã§ãã¾ãã (%d)!\n"
+msgstr "CUPS ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã³ãã¼ã§ãã¾ãã (%d)!\n"
 
 #: cups/adminutil.c:480
-#, fuzzy, c-format
+#, c-format
 msgid "Unable to install Windows 2000 printer driver files (%d)!\n"
-msgstr "Windows 2000 ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã¤ã³ã¹ãã¼ã«ã§ãã¾ãã!"
+msgstr "Windows 2000 ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã¤ã³ã¹ãã¼ã«ã§ãã¾ãã (%)!\n"
 
 #: cups/adminutil.c:514
-#, fuzzy, c-format
+#, c-format
 msgid "Unable to copy Windows 9x printer driver files (%d)!\n"
-msgstr "Windows 9x ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã³ãã¼ã§ãã¾ãã!"
+msgstr "Windows 9x ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã³ãã¼ã§ãã¾ãã (%d)!\n"
 
 #: cups/adminutil.c:536
-#, fuzzy, c-format
+#, c-format
 msgid "Unable to install Windows 9x printer driver files (%d)!\n"
-msgstr "Windows 9x ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã¤ã³ã¹ãã¼ã«ã§ãã¾ãã!"
+msgstr "Windows 9x ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã¤ã³ã¹ãã¼ã«ã§ãã¾ãã (%d)!\n"
 
 #: cups/adminutil.c:547
-#, fuzzy
 msgid "No Windows printer drivers are installed!\n"
-msgstr "cupsaddsmb: Windows ããªã³ã¿ãã©ã¤ããã¤ã³ã¹ãã¼ã«ããã¦ãã¾ãã!\n"
+msgstr "Windows ããªã³ã¿ãã©ã¤ããã¤ã³ã¹ãã¼ã«ããã¦ãã¾ãã!\n"
 
 #: cups/adminutil.c:550
-#, fuzzy
 msgid "Warning, no Windows 2000 printer drivers are installed!\n"
-msgstr ""
-"cupsaddsmb: è­¦å: Windows 2000 ããªã³ã¿ãã©ã¤ããã¤ã³ã¹ãã¼ã«ããã¦ãã¾ã"
-"ã!\n"
+msgstr "è­¦å: Windows 2000 ããªã³ã¿ãã©ã¤ããã¤ã³ã¹ãã¼ã«ããã¦ãã¾ãã!\n"
 
 #: cups/adminutil.c:568 cups/adminutil.c:658
-#, fuzzy, c-format
+#, c-format
 msgid "Unable to set Windows printer driver (%d)!\n"
-msgstr "Windows ããªã³ã¿ãã©ã¤ããè¨­å®ã§ãã¾ãã!"
+msgstr "Windows ããªã³ã¿ãã©ã¤ããè¨­å®ã§ãã¾ãã (%d)!\n"
 
 #: systemv/cupsaddsmb.c:278
-#, fuzzy
 msgid ""
 "Usage: cupsaddsmb [options] printer1 ... printerN\n"
 "       cupsaddsmb [options] -a\n"
@@ -3789,10 +3807,11 @@
 "  -h cups-server   Use the named CUPS server\n"
 "  -v               Be verbose (show commands)\n"
 msgstr ""
-"Usage: cupsaddsmb [ãªãã·ã§ã³] ããªã³ã¿1 ... ããªã³ã¿N\n"
-"       cupsaddsmb [ãªãã·ã§ã³] -a\n"
+"ä½¿ãæ¹: cupsaddsmb [ãªãã·ã§ã³] ããªã³ã¿1 ... ããªã³ã¿N\n"
+"        cupsaddsmb [ãªãã·ã§ã³] -a\n"
 "\n"
-"Options:\n"
+"ãªãã·ã§ã³:\n"
+"  -E               ãµã¼ãã¨ã®æ¥ç¶ãæå·åãã\n"
 "  -H sambaãµã¼ã   æå®ã® SAMBA ãµã¼ããä½¿ã\n"
 "  -U sambaã¦ã¼ã¶   æå®ã® SAMBA ã¦ã¼ã¶åã§èªè¨¼ãã\n"
 "  -a               ãã¹ã¦ã®ããªã³ã¿ãã¨ã­ã¹ãã¼ããã\n"
@@ -3800,53 +3819,64 @@
 "  -v               åé·ã«ãã (ã³ãã³ããè¡¨ç¤ºãã)\n"
 
 #: cups/adminutil.c:464
-#, fuzzy, c-format
+#, c-format
 msgid "Unable to copy Windows 2000 printer driver files (%d)!"
-msgstr "Windows 2000 ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã³ãã¼ã§ãã¾ãã!"
+msgstr "Windows 2000 ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã³ãã¼ã§ãã¾ãã (%d)!"
 
 #: cups/adminutil.c:499
-#, fuzzy, c-format
+#, c-format
 msgid "Unable to copy CUPS printer driver files (%d)!"
-msgstr "cupsaddsmb: CUPS ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã³ãã¼ã§ãã¾ãã (%d)!\n"
+msgstr "CUPS ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã³ãã¼ã§ãã¾ãã (%d)!"
 
 #: cups/adminutil.c:542
-#, fuzzy, c-format
+#, c-format
 msgid "Unable to install Windows 2000 printer driver files (%d)!"
-msgstr "Windows 2000 ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã¤ã³ã¹ãã¼ã«ã§ãã¾ãã!"
+msgstr "Windows 2000 ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã¤ã³ã¹ãã¼ã«ã§ãã¾ãã (%d)!"
 
 #: cups/adminutil.c:583
-#, fuzzy, c-format
+#, c-format
 msgid "Unable to copy Windows 9x printer driver files (%d)!"
-msgstr "Windows 9x ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã³ãã¼ã§ãã¾ãã!"
+msgstr "Windows 9x ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã³ãã¼ã§ãã¾ãã (%d)!"
 
 #: cups/adminutil.c:612
-#, fuzzy, c-format
+#, c-format
 msgid "Unable to install Windows 9x printer driver files (%d)!"
-msgstr "Windows 9x ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã¤ã³ã¹ãã¼ã«ã§ãã¾ãã!"
+msgstr "Windows 9x ããªã³ã¿ãã©ã¤ããã¡ã¤ã«ãã¤ã³ã¹ãã¼ã«ã§ãã¾ãã (%d)!"
 
 #: cups/adminutil.c:631
-#, fuzzy
 msgid "No Windows printer drivers are installed!"
-msgstr "cupsaddsmb: Windows ããªã³ã¿ãã©ã¤ããã¤ã³ã¹ãã¼ã«ããã¦ãã¾ãã!\n"
+msgstr "Windows ããªã³ã¿ãã©ã¤ããã¤ã³ã¹ãã¼ã«ããã¦ãã¾ãã!"
 
 #: cups/adminutil.c:636
-#, fuzzy
 msgid "Warning, no Windows 2000 printer drivers are installed!"
-msgstr ""
-"cupsaddsmb: è­¦å: Windows 2000 ããªã³ã¿ãã©ã¤ããã¤ã³ã¹ãã¼ã«ããã¦ãã¾ã"
-"ã!\n"
+msgstr "è­¦å: Windows 2000 ããªã³ã¿ãã©ã¤ããã¤ã³ã¹ãã¼ã«ããã¦ãã¾ãã!"
 
 #: cups/adminutil.c:736
-#, fuzzy, c-format
+#, c-format
 msgid "open of %s failed: %s"
-msgstr "lpadmin: %s å¤±æãã¾ãã: %s\n"
+msgstr "%s ã®ãªã¼ãã³ã«å¤±æãã¾ãã: %s"
 
 #: cups/adminutil.c:1653
-#, fuzzy, c-format
+#, c-format
 msgid "Running command: %s %s -N -A %s -c '%s'\n"
-msgstr "ã³ãã³ããå®è¡ä¸­: %s %s -N -U '%s%%%s' -c '%s'\n"
+msgstr "ã³ãã³ããå®è¡ä¸­: %s %s -N -A %s -c '%s'\n"
 
 #: cups/adminutil.c:1750
-#, fuzzy, c-format
+#, c-format
 msgid "stat of %s failed: %s"
-msgstr "%s: %s å¤±æãã¾ãã: %s\n"
+msgstr "%s ã®ç¶æåå¾ã«å¤±æãã¾ãã: %s"
+
+#: scheduler/ipp.c:3021
+#, c-format
+msgid "Job #%d is already cancelled - can't cancel."
+msgstr "ã¸ã§ã #%d ã¯ãã§ã«ã­ã£ã³ã»ã«ããã¦ãã¾ã - ã­ã£ã³ã»ã«ã§ãã¾ããã"
+
+#: scheduler/ipp.c:3027
+#, c-format
+msgid "Job #%d is already aborted - can't cancel."
+msgstr "ã¸ã§ã #%d ã¯ãã§ã«åæ­¢ããã¦ãã¾ã - ã­ã£ã³ã»ã«ã§ãã¾ããã"
+
+#: scheduler/ipp.c:3033
+#, c-format
+msgid "Job #%d is already completed - can't cancel."
+msgstr "ã¸ã§ã #%d ã¯ãã§ã«å®äºãã¦ãã¾ã - ã­ã£ã³ã»ã«ã§ãã¾ããã"
diff -urNad cupsys-1.1.99.b2~/man/cups-lpd.man.in cupsys-1.1.99.b2/man/cups-lpd.man.in
--- cupsys-1.1.99.b2~/man/cups-lpd.man.in	2006-02-13 02:46:10.000000000 +0000
+++ cupsys-1.1.99.b2/man/cups-lpd.man.in	2006-03-15 11:04:23.000000000 +0000
@@ -21,7 +21,7 @@
 .\"       EMail: cups-info@cups.org
 .\"         WWW: http://www.cups.org
 .\"
-.TH cups-lpd 8 "Common UNIX Printing System" "12 Febrary 2006" "Easy Software Products"
+.TH cups-lpd 8 "Common UNIX Printing System" "11 March 2006" "Easy Software Products"
 .SH NAME
 cups-lpd \- receive print jobs and report printer status to lpd clients
 .SH SYNOPSIS
@@ -44,6 +44,11 @@
         -o document-format=application/octet-stream
 .fi
 .LP
+.LP
+\fBNote:\fR If you are using Solaris 10 or higher, you must run
+the \fIinetdconv(1m)\fR program to register the changes to the
+inetd.conf file.
+.LP
 If you are using the newer \fIxinetd(8)\fR daemon, create a file
 named \fI/etc/xinetd.d/cups\fR containing the following lines:
 .br
@@ -105,7 +110,8 @@
 stray from this definition, remote status reporting to LPD
 clients may be unreliable.
 .SH SEE ALSO
-\fIcups(1)\fR, \fIcupsd(8)\fR, \fIinetd(8)\fR, \fIxinetd(8)\fR,
+\fIcups(1)\fR, \fIcupsd(8)\fR, \fIinetconv(1m)\fR,
+\fIinetd(8)\fR, \fIxinetd(8)\fR,
 .br
 http://localhost:631/help
 .SH COPYRIGHT
diff -urNad cupsys-1.1.99.b2~/packaging/cups.list.in cupsys-1.1.99.b2/packaging/cups.list.in
--- cupsys-1.1.99.b2~/packaging/cups.list.in	2006-03-04 02:00:43.000000000 +0000
+++ cupsys-1.1.99.b2/packaging/cups.list.in	2006-03-15 11:04:23.000000000 +0000
@@ -97,6 +97,9 @@
 %provides cups-lpd 1:@CUPS_VERSION@
 %format all
 
+%subpackage es
+%description Common UNIX Printing System - Spanish support
+
 %subpackage ja
 %description Common UNIX Printing System - Japanese support
 
@@ -294,6 +297,8 @@
 d 0511 root $CUPS_PRIMARY_SYSTEM_GROUP $STATEDIR/certs -
 
 # Data files
+%subpackage es
+f 0644 root sys $LOCALEDIR/es/cups_es.po locale/cups_es.po
 %subpackage ja
 f 0644 root sys $LOCALEDIR/ja/cups_ja.po locale/cups_ja.po
 %subpackage
@@ -351,6 +356,9 @@
 c 0644 root sys $DATADIR/templates templates/*.tmpl
 
 # Japanese template files
+%subpackage es
+d 0755 root sys $DATADIR/templates/es
+f 0644 root sys $DATADIR/templates/es templates/es/*.tmpl
 %subpackage ja
 d 0755 root sys $DATADIR/templates/ja
 f 0644 root sys $DATADIR/templates/ja templates/ja/*.tmpl
@@ -413,7 +421,12 @@
 f 0644 root sys $DOCDIR/images doc/images/*.png
 f 0644 root sys $DOCDIR/robots.txt doc/robots.txt
 
-# Japanese documentation files
+# Localized documentation files
+%subpackage es
+d 0755 root sys $DOCDIR/es
+f 0644 root sys $DOCDIR/es doc/es/*.html
+d 0755 root sys $DOCDIR/es/images -
+f 0644 root sys $DOCDIR/es/images doc/es/images/*.gif
 %subpackage ja
 d 0755 root sys $DOCDIR/ja
 f 0644 root sys $DOCDIR/ja doc/ja/*.html
diff -urNad cupsys-1.1.99.b2~/packaging/cups.spec.in cupsys-1.1.99.b2/packaging/cups.spec.in
--- cupsys-1.1.99.b2~/packaging/cups.spec.in	2006-03-04 02:00:43.000000000 +0000
+++ cupsys-1.1.99.b2/packaging/cups.spec.in	2006-03-15 11:04:23.000000000 +0000
@@ -70,6 +70,11 @@
 Group: System Environment/Daemons
 Requires: %{name} = %{epoch}:%{version} xinetd
 
+%package es
+Summary: Common UNIX Printing System - Spanish support
+Group: System Environment/Daemons
+Requires: %{name} = %{epoch}:%{version}
+
 %package ja
 Summary: Common UNIX Printing System - Japanese support
 Group: System Environment/Daemons
@@ -101,6 +106,10 @@
 The Common UNIX Printing System provides a portable printing layer for 
 UNIX® operating systems. This package provides LPD client support.
 
+%description es
+The Common UNIX Printing System provides a portable printing layer for 
+UNIX® operating systems. This package provides Spanish support.
+
 %description ja
 The Common UNIX Printing System provides a portable printing layer for 
 UNIX® operating systems. This package provides Japanese support.
@@ -115,8 +124,11 @@
 %setup
 
 %build
+%ifarch x86_64
+./configure --enable-32bit %{_dbus} %{_without_php}
+%else
 CFLAGS="$RPM_OPT_FLAGS" CXXFLAGS="$RPM_OPT_FLAGS" LDFLAGS="$RPM_OPT_FLAGS" ./configure %{_dbus} %{_without_php}
-
+%endif
 # If we got this far, all prerequisite libraries must be here.
 make
 
@@ -292,7 +304,7 @@
 %dir /usr/include/cups
 /usr/include/cups/*
 #/usr/lib/*.a
-/usr/lib/*.so
+/usr/lib*/*.so
 
 %dir /usr/share/doc/cups/help
 /usr/share/doc/cups/help/api*.html
@@ -300,7 +312,7 @@
 
 %files libs
 %defattr(-,root,root)
-/usr/lib/*.so.*
+/usr/lib*/*.so.*
 
 %files lpd
 %defattr(-,root,root)
@@ -311,6 +323,16 @@
 %dir /usr/share/man/man8
 /usr/share/man/man8/cups-lpd.8.gz
 
+%files es
+%defattr(-,root,root)
+%dir /usr/share/doc/cups/es
+/usr/share/doc/cups/es/index.html
+%dir /usr/share/doc/cups/es/images
+/usr/share/doc/cups/es/images/*
+%dir /usr/share/cups/templates/es
+/usr/share/cups/templates/es/*
+/usr/share/locale/es/cups_es.po
+
 %files ja
 %defattr(-,root,root)
 %dir /usr/share/doc/cups/ja
@@ -324,7 +346,7 @@
 %if %{?_with_php:1}%{!?_with_php:0}
 %files php
 # PHP
-/usr/lib/php*
+/usr/lib*/php*
 %endif
 
 
diff -urNad cupsys-1.1.99.b2~/ppd/zebracpl.ppd cupsys-1.1.99.b2/ppd/zebracpl.ppd
--- cupsys-1.1.99.b2~/ppd/zebracpl.ppd	2006-02-17 20:25:33.000000000 +0000
+++ cupsys-1.1.99.b2/ppd/zebracpl.ppd	2006-03-15 11:04:23.000000000 +0000
@@ -87,20 +87,20 @@
 *ImageableArea w144h90/Label - 2 x 1.25": "0 0 144 90"
 *ImageableArea w144h144/Label - 2 x 2": "0 0 144 144"
 *ImageableArea w144h216/Label - 2 x 3": "0 0 144 216"
-*ImageableArea w209h72/Label - 2.9 x 1": "0 0 209 72>>"
-*ImageableArea w288h144/Label - 4 x 2": "0 0 288 144"
-*ImageableArea w288h216/Label - 4 x 3": "0 0 288 216"
-*ImageableArea w288h288/Label - 4 x 4": "0 0 288 288"
-*ImageableArea w288h360/Label - 4 x 5": "0 0 288 360"
-*ImageableArea w288h360/Label - 4 x 5": "0 0 288 360"
-*ImageableArea w288h432/Label - 4 x 6": "0 0 288 432"
+*ImageableArea w209h72/Label - 2.9 x 1": "0 0 209 72"
+*ImageableArea w288h144/Label - 4 x 2": "0 0 280.8 144"
+*ImageableArea w288h216/Label - 4 x 3": "0 0 280.8 216"
+*ImageableArea w288h288/Label - 4 x 4": "0 0 280.8 288"
+*ImageableArea w288h360/Label - 4 x 5": "0 0 280.8 360"
+*ImageableArea w288h360/Label - 4 x 5": "0 0 280.8 360"
+*ImageableArea w288h432/Label - 4 x 6": "0 0 280.8 432"
 
 *DefaultPaperDimension: w288h360
 *PaperDimension w144h72/Label - 2 x 1": "144 72"
 *PaperDimension w144h90/Label - 2 x 1.25": "144 90"
 *PaperDimension w144h144/Label - 2 x 2": "144 144"
 *PaperDimension w144h216/Label - 2 x 3": "144 216"
-*PaperDimension w209h72/Label - 2.9 x 1": "209 72>>"
+*PaperDimension w209h72/Label - 2.9 x 1": "209 72"
 *PaperDimension w288h144/Label - 4 x 2": "288 144"
 *PaperDimension w288h216/Label - 4 x 3": "288 216"
 *PaperDimension w288h288/Label - 4 x 4": "288 288"
diff -urNad cupsys-1.1.99.b2~/scheduler/client.c cupsys-1.1.99.b2/scheduler/client.c
--- cupsys-1.1.99.b2~/scheduler/client.c	2006-03-10 01:15:19.000000000 +0000
+++ cupsys-1.1.99.b2/scheduler/client.c	2006-03-15 11:04:23.000000000 +0000
@@ -2517,14 +2517,14 @@
     }
   }
 
-  if (con->language != NULL)
+  if (con->language && strcmp(con->language->language, "C"))
   {
     if (httpPrintf(HTTP(con), "Content-Language: %s\r\n",
                    con->language->language) < 0)
       return (0);
   }
 
-  if (type != NULL)
+  if (type)
   {
     if (!strcmp(type, "text/html"))
     {
diff -urNad cupsys-1.1.99.b2~/scheduler/conf.c cupsys-1.1.99.b2/scheduler/conf.c
--- cupsys-1.1.99.b2~/scheduler/conf.c	2006-03-06 13:02:23.000000000 +0000
+++ cupsys-1.1.99.b2/scheduler/conf.c	2006-03-15 11:04:23.000000000 +0000
@@ -785,6 +785,8 @@
       cupsdLogMessage(CUPSD_LOG_ERROR, "Default policy \"%s\" not found!",
                       DefaultPolicy);
 
+    cupsdSetString(&DefaultPolicy, "default");
+
     if ((DefaultPolicyPtr = cupsdFindPolicy("default")) != NULL)
       cupsdLogMessage(CUPSD_LOG_INFO,
                       "Using policy \"default\" as the default!");
diff -urNad cupsys-1.1.99.b2~/scheduler/ipp.c cupsys-1.1.99.b2/scheduler/ipp.c
--- cupsys-1.1.99.b2~/scheduler/ipp.c	2006-03-09 20:09:53.000000000 +0000
+++ cupsys-1.1.99.b2/scheduler/ipp.c	2006-03-15 11:04:23.000000000 +0000
@@ -3014,11 +3014,27 @@
 
   if (job->state_value >= IPP_JOB_CANCELLED)
   {
-    send_ipp_status(con, IPP_NOT_POSSIBLE,
-                    _("Job #%d is already %s - can\'t cancel."), jobid,
-		    job->state_value == IPP_JOB_CANCELLED ? "cancelled" :
-		    job->state_value == IPP_JOB_ABORTED ? "aborted" :
-		    "completed");
+    switch (job->state_value)
+    {
+      case IPP_JOB_CANCELLED :
+	  send_ipp_status(con, IPP_NOT_POSSIBLE,
+                	  _("Job #%d is already cancelled - can\'t cancel."),
+			  jobid);
+          break;
+
+      case IPP_JOB_ABORTED :
+	  send_ipp_status(con, IPP_NOT_POSSIBLE,
+                	  _("Job #%d is already aborted - can\'t cancel."),
+			  jobid);
+          break;
+
+      default :
+	  send_ipp_status(con, IPP_NOT_POSSIBLE,
+                	  _("Job #%d is already completed - can\'t cancel."),
+			  jobid);
+          break;
+    }
+
     return;
   }
 
diff -urNad cupsys-1.1.99.b2~/scheduler/printers.c cupsys-1.1.99.b2/scheduler/printers.c
--- cupsys-1.1.99.b2~/scheduler/printers.c	2006-03-05 17:22:27.000000000 +0000
+++ cupsys-1.1.99.b2/scheduler/printers.c	2006-03-15 11:04:23.000000000 +0000
@@ -51,7 +51,6 @@
  *   add_printer_formats()       - Add document-format-supported values for
  *                                 a printer.
  *   compare_printers()          - Compare two printers.
- *   transcode_nickname()        - Convert the PPD NickName to UTF-8...
  *   write_irix_config()         - Update the config files used by the IRIX
  *                                 desktop tools.
  *   write_irix_state()          - Update the status files used by IRIX
@@ -63,7 +62,6 @@
  */
 
 #include "cupsd.h"
-#include <cups/transcode.h>
 
 
 /*
@@ -74,7 +72,6 @@
 static void	add_printer_filter(cupsd_printer_t *p, const char *filter);
 static void	add_printer_formats(cupsd_printer_t *p);
 static int	compare_printers(void *first, void *second, void *data);
-static void	transcode_nickname(cupsd_printer_t *p, ppd_file_t *ppd);
 #ifdef __sgi
 static void	write_irix_config(cupsd_printer_t *p);
 static void	write_irix_state(cupsd_printer_t *p);
@@ -1719,14 +1716,21 @@
 	{
 	 /*
 	  * The NickName can be localized in the character set specified
-	  * by the LanugageEncoding attribute.  Convert as needed to
-	  * UTF-8...
+	  * by the LanugageEncoding attribute.  However, ppdOpen2() has
+	  * already converted the ppd->nickname member to UTF-8 for us
+	  * (the original attribute value is available separately)
 	  */
 
-          transcode_nickname(p, ppd);
+          cupsdSetString(&p->make_model, ppd->nickname);
 	}
 	else if (ppd->modelname)
+	{
+	 /*
+	  * Model name can only contain specific characters...
+	  */
+
           cupsdSetString(&p->make_model, ppd->modelname);
+	}
 	else
 	  cupsdSetString(&p->make_model, "Bad PPD File");
 
@@ -3013,88 +3017,6 @@
 }
 
 
-/*
- * 'transcode_nickname()' - Convert the PPD NickName to UTF-8...
- */
-
-static void
-transcode_nickname(cupsd_printer_t *p,	/* I - Printer */
-                   ppd_file_t      *ppd)/* I - PPD file */
-{
-  cups_utf8_t		utf8[256];	/* UTF-8 version of nickname */
-  cups_encoding_t	encoding;	/* Encoding of PPD file */
-  const char		*nickptr;	/* Pointer into nickname */
-
-
- /*
-  * See if we need to convert to UTF-8...
-  */
-
-  if (!ppd->lang_encoding || !strcasecmp(ppd->lang_encoding, "UTF-8"))
-  {
-   /*
-    * No language encoding, or encoding uses the non-standard UTF-8
-    * value, so no transcoding is required...
-    */
-
-    goto no_transcode;
-  }
-
-  for (nickptr = ppd->nickname; *nickptr; nickptr ++)
-    if (*nickptr & 0x80)
-      break;
-
-  if (!*nickptr)
-  {
-   /*
-    * No non-ASCII characters, so no transcoding is required...
-    */
-
-    goto no_transcode;
-  }
-
- /*
-  * OK, we need to transcode...
-  */
-
-  if (!strcasecmp(ppd->lang_encoding, "ISOLatin1"))
-    encoding = CUPS_ISO8859_1;
-  else if (!strcasecmp(ppd->lang_encoding, "ISOLatin2"))
-    encoding = CUPS_ISO8859_2;
-  else if (!strcasecmp(ppd->lang_encoding, "ISOLatin5"))
-    encoding = CUPS_ISO8859_5;
-  else if (!strcasecmp(ppd->lang_encoding, "JIS83-RKSJ"))
-    encoding = CUPS_WINDOWS_932;
-  else if (!strcasecmp(ppd->lang_encoding, "MacStandard"))
-    encoding = CUPS_MAC_ROMAN;
-  else if (!strcasecmp(ppd->lang_encoding, "WindowsANSI"))
-    encoding = CUPS_WINDOWS_1252;
-  else
-  {
-   /*
-    * Unknown encoding, treat as UTF-8...
-    */
-
-    goto no_transcode;
-  }
-
-  cupsCharsetToUTF8(utf8, ppd->nickname, sizeof(utf8), encoding);
-
-  cupsdSetString(&p->make_model, (char *)utf8);
-
-  return;
-
- /*
-  * Yeah, yeah, gotos are evil, but code bloat is more evil...
-  */
-
-  no_transcode:
-
-  cupsdSetString(&p->make_model, ppd->nickname);
-  return;
-}
-
-
 #ifdef __sgi
 /*
  * 'write_irix_config()' - Update the config files used by the IRIX
diff -urNad cupsys-1.1.99.b2~/templates/Makefile cupsys-1.1.99.b2/templates/Makefile
--- cupsys-1.1.99.b2~/templates/Makefile	2006-03-05 16:48:12.000000000 +0000
+++ cupsys-1.1.99.b2/templates/Makefile	2006-03-15 11:04:23.000000000 +0000
@@ -28,7 +28,7 @@
 # Template files...
 #
 
-LANGUAGES =	ja
+LANGUAGES =	es ja
 FILES	=	\
 		add-class.tmpl \
 		add-printer.tmpl \
diff -urNad cupsys-1.1.99.b2~/templates/es/add-class.tmpl cupsys-1.1.99.b2/templates/es/add-class.tmpl
--- cupsys-1.1.99.b2~/templates/es/add-class.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/add-class.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,33 @@
+<FORM METHOD="POST" ACTION="/admin">
+<INPUT TYPE="HIDDEN" NAME="OP" VALUE="{op}">
+
+<H2 CLASS="title">A&ntilde;adir clase</H2>
+
+<TABLE>
+<TR>
+<TH CLASS="label">Nombre:</TH>
+<TD><INPUT TYPE="TEXT" NAME="PRINTER_NAME" SIZE="40" MAXLENGTH="127"></TD>
+</TR>
+<TR>
+<TH CLASS="label">Ubicaci&oacute;n:</TH>
+<TD><INPUT TYPE="TEXT" NAME="PRINTER_LOCATION" SIZE="40" MAXLENGTH="127"></TD>
+</TR>
+<TR>
+<TH CLASS="label">Descripci&oacute;n:</TH>
+<TD><INPUT TYPE="TEXT" NAME="PRINTER_INFO" SIZE="40" MAXLENGTH="127"></TD>
+</TR>
+<TR>
+<TH CLASS="label">Miembros:</TH>
+<TD>
+<SELECT NAME="MEMBER_URIS" SIZE="10" MULTIPLE>
+{[member_uris]<OPTION VALUE="{member_uris}" {?member_selected}>{member_names}}
+</SELECT>
+</TD>
+</TR>
+<TR>
+<TD></TD>
+<TD><INPUT TYPE="IMAGE" SRC="/images/button-add-class.gif" ALT="A&ntilde;adir clase"></TD>
+</TR>
+</TABLE>
+
+</FORM>
diff -urNad cupsys-1.1.99.b2~/templates/es/add-printer.tmpl cupsys-1.1.99.b2/templates/es/add-printer.tmpl
--- cupsys-1.1.99.b2~/templates/es/add-printer.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/add-printer.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,28 @@
+<FORM METHOD="POST" ACTION="/admin">
+<INPUT TYPE="HIDDEN" NAME="OP" VALUE="{op}">
+
+<H2 CLASS="title">A&ntilde;adir impresora nueva</H2>
+
+<TABLE>
+<TR>
+<TH CLASS="label">Nombre:</TH>
+<TD><INPUT TYPE="TEXT" NAME="PRINTER_NAME" SIZE="40" MAXLENGTH="127"><BR>
+<SMALL>(Puede contener cualquier car&aacute;cter imprimible excepto "/", "#", y espacio)</SMALL></TD>
+</TR>
+<TR>
+<TH CLASS="label">Ubicaci&oacute;n:</TH>
+<TD><INPUT TYPE="TEXT" NAME="PRINTER_LOCATION" SIZE="40" MAXLENGTH="127"><BR>
+<SMALL>(Ubicaci&oacute;n f&aacute;cilmente le&iacute;ble tal como "Lab 1")</SMALL></TD>
+</TR>
+<TR>
+<TH CLASS="label">Descripci&oacute;n:</TH>
+<TD><INPUT TYPE="TEXT" NAME="PRINTER_INFO" SIZE="40" MAXLENGTH="127"><BR>
+<SMALL>(Descripci&oacute;n f&aacute;cilmente le&iacute;ble tal como "HP LaserJet de doble cara")</SMALL></TD>
+</TR>
+<TR>
+<TD></TD>
+<TD><INPUT TYPE="IMAGE" SRC="/images/button-continue.gif" ALT="Siguiente"></TD>
+</TR>
+</TABLE>
+
+</FORM>
diff -urNad cupsys-1.1.99.b2~/templates/es/admin.tmpl cupsys-1.1.99.b2/templates/es/admin.tmpl
--- cupsys-1.1.99.b2~/templates/es/admin.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/admin.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,77 @@
+<TABLE CELLPADDING="0" CELLSPACING="0" WIDTH="100%" SUMMARY="Tareas de administraci&oacute;n">
+<TR><TD VALIGN="TOP" NOWRAP>
+
+<H2 CLASS="title">Impresoras</H2>
+
+<P>
+<A HREF="/admin?op=add-printer"><IMG
+SRC="/images/button-add-printer.gif" ALT="A&ntilde;adir impresora" CLASS="button"></A>
+<A HREF="/printers/"><IMG SRC="/images/button-manage-printers.gif"
+ALT="Administrar impresoras" CLASS="button"></A>
+{have_samba?<A HREF="/admin/?op=export-samba"><IMG
+SRC="/images/button-export-samba.gif" ALT="Exportar impresoras a Samba"
+CLASS="button"></A>:}
+</P>
+
+{#device_uri=0?:<P><B>Encontradas nuevas impresoras:</B></P><UL>{[device_uri]
+<LI>{device_make_and_model} ({device_info})
+<A HREF="/admin?op=add-printer&amp;{device_options}"><IMG
+SRC="/images/button-add-this-printer.gif" ALT="A&ntilde;adir esta impresora" CLASS="button"
+ALIGN="MIDDLE"></A></LI>
+}</UL>}
+
+<H2 CLASS="title">Clases</H2>
+
+<P>
+<A HREF="/admin?op=add-class"><IMG SRC="/images/button-add-class.gif"
+ALT="A&ntilde;adir clase" CLASS="button"></A>
+<A HREF="/classes/"><IMG SRC="/images/button-manage-classes.gif"
+ALT="Administrar clases" CLASS="button"></A>
+</P>
+
+<H2 CLASS="title">Trabajos</H2>
+
+<P>
+<A HREF="/jobs/"><IMG SRC="/images/button-manage-jobs.gif" ALT="Administrar
+trabajos" CLASS="button"></A>
+</P>
+
+</TD><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD VALIGN="TOP">
+
+<H2 CLASS="title">Servidor</H2>
+
+<P>
+<A HREF="/admin?op=config-server"><IMG
+SRC="/images/button-edit-configuration-file.gif" ALT="Editar archivo
+configuraci&oacute;n" CLASS="button"></A>
+<A HREF="/admin/log/access_log" TARGET="_blank"><IMG
+SRC="/images/button-view-access-log.gif" ALT="Ver archivo de registro de accesos"
+CLASS="button"></A>
+<A HREF="/admin/log/error_log" TARGET="_blank"><IMG
+SRC="/images/button-view-error-log.gif" ALT="Ver archivo de registro de errores"
+CLASS="button"></A>
+<A HREF="/admin/log/page_log" TARGET="_blank"><IMG
+SRC="/images/button-view-page-log.gif" ALT="Ver archivo de registro de p&aacute;ginas"
+CLASS="button"></A>
+</P>
+
+{SETTINGS_ERROR?<P>{SETTINGS_MESSAGE}</P>
+<BLOCKQUOTE>{SETTINGS_ERROR}</BLOCKQUOTE>:
+
+<FORM METHOD="POST" ACTION="/admin">
+
+<P><B>Configuraci&oacute;n b&aacute;sica del servidor:</B></P>
+
+<P><INPUT TYPE="HIDDEN" NAME="OP" VALUE="config-server">
+<INPUT TYPE="CHECKBOX" NAME="REMOTE_PRINTERS" {?remote_printers}> Mostrar impresoras compartidas por otros sistemas<BR>
+<INPUT TYPE="CHECKBOX" NAME="SHARE_PRINTERS" {?share_printers}> Compartir impresoras p&uacute;blicas conectadas a este sistema<BR>
+<INPUT TYPE="CHECKBOX" NAME="REMOTE_ADMIN" {?remote_admin}> Permitir administraci&oacute;n remota<BR>
+<INPUT TYPE="CHECKBOX" NAME="USER_CANCEL_ANY" {?user_cancel_any}> Permitir a los usuarios cancelar cualquier trabajo (no s&oacute;lo los suyos propios)<BR>
+<INPUT TYPE="CHECKBOX" NAME="DEBUG_LOGGING" {?debug_logging}> Guardar informaci&oacute;n de depuraci&oacute;n para b&uacute;squeda de problemas</P>
+
+<P><INPUT TYPE="IMAGE" SRC="/images/button-change-settings.gif" ALT="Cambiar especificaciones"></P>
+
+</FORM>}
+
+</TD></TR>
+</TABLE>
diff -urNad cupsys-1.1.99.b2~/templates/es/choose-device.tmpl cupsys-1.1.99.b2/templates/es/choose-device.tmpl
--- cupsys-1.1.99.b2~/templates/es/choose-device.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/choose-device.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,26 @@
+<FORM METHOD="POST" ACTION="/admin">
+<INPUT TYPE="HIDDEN" NAME="OP" VALUE="{op}">
+<INPUT TYPE="HIDDEN" NAME="PRINTER_NAME" VALUE="{printer_name}">
+<INPUT TYPE="HIDDEN" NAME="PRINTER_LOCATION" VALUE="{?printer_location}">
+<INPUT TYPE="HIDDEN" NAME="PRINTER_INFO" VALUE="{?printer_info}">
+<INPUT TYPE="HIDDEN" NAME="CURRENT_MAKE_AND_MODEL" VALUE="{?current_make_and_model}">
+
+<H2 CLASS="title">Tipo de conexi&oacute;n de {printer_name}</H2>
+
+<TABLE>
+<TR>
+<TH CLASS="label">Conexi&oacute;n:</TH>
+<TD>
+<SELECT NAME="DEVICE_URI">
+{[device_uri]<OPTION VALUE="{device_uri}{?device_make_and_model!Unknown?|{device_make_and_model}:}" {?current_device_uri={device_uri}?SELECTED:{current_device_scheme={device_uri}?SELECTED:}}>
+{device_info} {?device_make_and_model!Unknown?({device_make_and_model}):}</OPTION>
+}</SELECT>
+</TD>
+</TR>
+<TR>
+<TD></TD>
+<TD><INPUT TYPE="IMAGE" SRC="/images/button-continue.gif" ALT="Siguiente"></TD>
+</TR>
+</TABLE>
+
+</FORM>
diff -urNad cupsys-1.1.99.b2~/templates/es/choose-make.tmpl cupsys-1.1.99.b2/templates/es/choose-make.tmpl
--- cupsys-1.1.99.b2~/templates/es/choose-make.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/choose-make.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,42 @@
+<FORM METHOD="POST" ACTION="/admin" ENCTYPE="multipart/form-data">
+<INPUT TYPE="HIDDEN" NAME="OP" VALUE="{op}">
+<INPUT TYPE="HIDDEN" NAME="PRINTER_NAME" VALUE="{printer_name}">
+<INPUT TYPE="HIDDEN" NAME="PRINTER_LOCATION" VALUE="{?printer_location}">
+<INPUT TYPE="HIDDEN" NAME="PRINTER_INFO" VALUE="{?printer_info}">
+<INPUT TYPE="HIDDEN" NAME="DEVICE_URI" VALUE="{device_uri}">
+<INPUT TYPE="HIDDEN" NAME="BAUDRATE" VALUE="{?baudrate}">
+<INPUT TYPE="HIDDEN" NAME="BITS" VALUE="{?bits}">
+<INPUT TYPE="HIDDEN" NAME="PARITY" VALUE="{?parity}">
+<INPUT TYPE="HIDDEN" NAME="FLOW" VALUE="{?flow}">
+
+<H2 CLASS="title">Marca/Fabricante de {printer_name}</H2>
+
+<TABLE>
+<TR>
+<TH CLASS="label">Marca:</TH>
+<TD>
+<SELECT NAME="PPD_MAKE" SIZE="10">
+{[ppd_make]<OPTION VALUE="{ppd_make}" {?current_make={ppd_make}?SELECTED:}>{ppd_make}}
+</SELECT>
+</TD>
+</TR>
+<TR>
+<TD></TD>
+<TD><INPUT TYPE="IMAGE" SRC="/images/button-continue.gif" ALT="Siguiente"></TD>
+</TR>
+<TR>
+<TD></TD>
+<TD>&nbsp;</TD>
+</TR>
+<TR>
+<TH CLASS="label">O proporcione un archivo PPD:</TH>
+<TD><INPUT TYPE="HIDDEN" NAME="MAX_FILE_SIZE" VALUE="262144"><INPUT
+TYPE="FILE" NAME="PPD_FILE"></TD>
+</TR>
+<TR>
+<TD></TD>
+<TD><INPUT TYPE="IMAGE" SRC="/images/button-{op}.gif" ALT="{op=add-printer?A&ntilde;adir impresora:Modificar impresora}"></TD>
+</TR>
+</TABLE>
+
+</FORM>
diff -urNad cupsys-1.1.99.b2~/templates/es/choose-model.tmpl cupsys-1.1.99.b2/templates/es/choose-model.tmpl
--- cupsys-1.1.99.b2~/templates/es/choose-model.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/choose-model.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,34 @@
+<FORM METHOD="POST" ACTION="/admin" ENCTYPE="multipart/form-data">
+<INPUT TYPE="HIDDEN" NAME="OP" VALUE="{op}">
+<INPUT TYPE="HIDDEN" NAME="PRINTER_NAME" VALUE="{printer_name}">
+<INPUT TYPE="HIDDEN" NAME="PRINTER_LOCATION" VALUE="{?printer_location}">
+<INPUT TYPE="HIDDEN" NAME="PRINTER_INFO" VALUE="{?printer_info}">
+<INPUT TYPE="HIDDEN" NAME="DEVICE_URI" VALUE="{device_uri}">
+<INPUT TYPE="HIDDEN" NAME="BAUDRATE" VALUE="{?baudrate}">
+<INPUT TYPE="HIDDEN" NAME="BITS" VALUE="{?bits}">
+<INPUT TYPE="HIDDEN" NAME="PARITY" VALUE="{?parity}">
+<INPUT TYPE="HIDDEN" NAME="FLOW" VALUE="{?flow}">
+
+<H2 CLASS="title">Modelo/Controlador para {printer_name}</H2>
+
+<TABLE>
+<TR>
+<TH CLASS="label">Modelo:</TH>
+<TD>
+<SELECT NAME="PPD_NAME" SIZE="10">
+{[ppd_name]<OPTION VALUE="{ppd_name}" {?current_make_and_model={ppd_make_and_model}?SELECTED:}>{ppd_make_and_model} ({ppd_natural_language})
+}</SELECT>
+</TD>
+</TR>
+<TR>
+<TH CLASS="label">O proporcione un archivo PPD:</TH>
+<TD><INPUT TYPE="HIDDEN" NAME="MAX_FILE_SIZE" VALUE="262144"><INPUT
+TYPE="FILE" NAME="PPD_FILE"></TD>
+</TR>
+<TR>
+<TD></TD>
+<TD><INPUT TYPE="IMAGE" SRC="/images/button-{op}.gif" ALT="{op=add-printer?A&ntilde;adir impresora:Modificar impresora}"></TD>
+</TR>
+</TABLE>
+
+</FORM>
diff -urNad cupsys-1.1.99.b2~/templates/es/choose-serial.tmpl cupsys-1.1.99.b2/templates/es/choose-serial.tmpl
--- cupsys-1.1.99.b2~/templates/es/choose-serial.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/choose-serial.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,47 @@
+<FORM METHOD="POST" ACTION="/admin">
+<INPUT TYPE="HIDDEN" NAME="OP" VALUE="{op}">
+<INPUT TYPE="HIDDEN" NAME="PRINTER_NAME" VALUE="{printer_name}">
+<INPUT TYPE="HIDDEN" NAME="PRINTER_LOCATION" VALUE="{?printer_location}">
+<INPUT TYPE="HIDDEN" NAME="PRINTER_INFO" VALUE="{?printer_info}">
+<INPUT TYPE="HIDDEN" NAME="DEVICE_URI" VALUE="{device_uri}">
+
+<H2 CLASS="title">Par&aacute;metros puerto serie para {printer_name}</H2>
+
+<TABLE>
+<TR>
+<TH CLASS="label">Baudios:</TH>
+<TD><SELECT NAME="BAUDRATE">
+{[baudrates]<OPTION {?baudrate={baudrates}?SELECTED:}>{baudrates}}
+</SELECT></TD>
+</TR>
+<TR>
+<TH CLASS="label">Paridad:</TH>
+<TD><SELECT NAME="PARITY">
+<OPTION VALUE="none" {?parity=none?SELECTED:}>Sin paridad
+<OPTION VALUE="even" {?parity=even?SELECTED:}>Par
+<OPTION VALUE="odd" {?parity=odd?SELECTED:}>Impar
+</SELECT></TD>
+</TR>
+<TR>
+<TH CLASS="label">Bits de datos:</TH>
+<TD><SELECT NAME="BITS">
+<OPTION {?bits=8?SELECTED:}>8
+<OPTION {?bits=7?SELECTED:}>7
+</SELECT></TD>
+</TR>
+<TR>
+<TH CLASS="label">Control de flujo:</TH>
+<TD><SELECT NAME="FLOW">
+<OPTION VALUE="none" {?flow=none?SELECTED:}>Ninguno
+<OPTION VALUE="soft" {?flow=soft?SELECTED:}>XON/XOFF (Software)
+<OPTION VALUE="hard" {?flow=hard?SELECTED:}>RTS/CTS (Hardware)
+<OPTION VALUE="dtrdsr" {?flow=dtrdsr?SELECTED:}>DTR/DSR (Hardware)
+</SELECT></TD>
+</TR>
+<TR>
+<TD></TD>
+<TD><INPUT TYPE="IMAGE" SRC="/images/button-continue.gif" ALT="Siguiente"></TD>
+</TR>
+</TABLE>
+
+</FORM>
diff -urNad cupsys-1.1.99.b2~/templates/es/choose-uri.tmpl cupsys-1.1.99.b2/templates/es/choose-uri.tmpl
--- cupsys-1.1.99.b2~/templates/es/choose-uri.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/choose-uri.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,40 @@
+<FORM METHOD="POST" ACTION="/admin">
+<INPUT TYPE="HIDDEN" NAME="OP" VALUE="{op}">
+<INPUT TYPE="HIDDEN" NAME="PRINTER_NAME" VALUE="{printer_name}">
+<INPUT TYPE="HIDDEN" NAME="PRINTER_LOCATION" VALUE="{?printer_location}">
+<INPUT TYPE="HIDDEN" NAME="PRINTER_INFO" VALUE="{?printer_info}">
+<INPUT TYPE="HIDDEN" NAME="CURRENT_MAKE_AND_MODEL" VALUE="{?current_make_and_model}">
+
+<H2 CLASS="title">URI de la conexi&oacute;n para {printer_name}</H2>
+
+<TABLE>
+<TR>
+<TH CLASS="label">URI de la conexi&oacute;n:</TH>
+<TD><INPUT TYPE="TEXT" SIZE="60" MAXLENGTH="1024" NAME="DEVICE_URI" VALUE="{device_uri}"></TD>
+</TR>
+<TR>
+<TD></TD>
+<TD>Ejemplos:
+<PRE>
+    file:/camino/a/archivo.prn
+    http://nombre_ordenador:631/ipp/
+    http://nombre_ordenador:631/ipp/puerto1
+    ipp://nombre_ordenador/ipp/
+    ipp://nombre_ordenador/ipp/puerto1
+    lpd://nombre_ordenador/cola
+    socket://nombre_ordenador
+    socket://nombre_ordenador:9100
+</PRE>
+
+<P>Vea <A HREF="/help/network.html" TARGET="_blank">"Impresoras
+en red"</A> para escoger el URI adecuado a usar con su impresora.</P>
+
+</TD>
+</TR>
+<TR>
+<TD></TD>
+<TD><INPUT TYPE="IMAGE" SRC="/images/button-continue.gif" ALT="Siguiente"></TD>
+</TR>
+</TABLE>
+
+</FORM>
diff -urNad cupsys-1.1.99.b2~/templates/es/class-added.tmpl cupsys-1.1.99.b2/templates/es/class-added.tmpl
--- cupsys-1.1.99.b2~/templates/es/class-added.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/class-added.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+<P>Se ha a&ntilde;adido con &eacute;xito la clase <A HREF="/classes/{printer_name}">{printer_name}</A>.
diff -urNad cupsys-1.1.99.b2~/templates/es/class-confirm.tmpl cupsys-1.1.99.b2/templates/es/class-confirm.tmpl
--- cupsys-1.1.99.b2~/templates/es/class-confirm.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/class-confirm.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,7 @@
+<P><B>Advertencia:</B> &iquest;Est&aacute; seguro de querer borrar la clase
+{printer_name}?</P>
+
+<P ALIGN="CENTER"><A
+HREF="/admin?op=delete-class&printer_name={printer_name}&confirm=yes"><IMG
+SRC="/images/button-delete-class.gif" ALT="Borrar clase"
+CLASS="button"></A></P>
diff -urNad cupsys-1.1.99.b2~/templates/es/class-deleted.tmpl cupsys-1.1.99.b2/templates/es/class-deleted.tmpl
--- cupsys-1.1.99.b2~/templates/es/class-deleted.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/class-deleted.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+<P>Se ha borrado con &eacute;xito la clase {printer_name}.
diff -urNad cupsys-1.1.99.b2~/templates/es/class-jobs-header.tmpl cupsys-1.1.99.b2/templates/es/class-jobs-header.tmpl
--- cupsys-1.1.99.b2~/templates/es/class-jobs-header.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/class-jobs-header.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+<H3 CLASS="title">Trabajos</H3>
diff -urNad cupsys-1.1.99.b2~/templates/es/class-modified.tmpl cupsys-1.1.99.b2/templates/es/class-modified.tmpl
--- cupsys-1.1.99.b2~/templates/es/class-modified.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/class-modified.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+<P>Se ha modificado con &eacute;xito la clase <A HREF="/classes/{printer_name}">{printer_name}</A>.
\ No newline at end of file
diff -urNad cupsys-1.1.99.b2~/templates/es/classes-header.tmpl cupsys-1.1.99.b2/templates/es/classes-header.tmpl
--- cupsys-1.1.99.b2~/templates/es/classes-header.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/classes-header.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+<P ALIGN="CENTER">{total=0?No hay clases:Mostrando {#printer_name} de {total} clase{total=1?:s}}.</P>
diff -urNad cupsys-1.1.99.b2~/templates/es/classes.tmpl cupsys-1.1.99.b2/templates/es/classes.tmpl
--- cupsys-1.1.99.b2~/templates/es/classes.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/classes.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,54 @@
+{#printer_name=0?:
+{[printer_name]
+<H2 CLASS="title"><A HREF="{printer_uri_supported}">{printer_name}</A>{default_name={printer_name}? (Impresora predeterminada):}
+{?printer_state_message=?:<SPAN CLASS="message">"{printer_state_message}"</SPAN>}</H2>
+
+<TABLE WIDTH="100%" CLASS="button" CELLSPACING="0" CELLPADDING="0" SUMMARY="{printer_name}">
+<TR>
+<TD VALIGN=TOP><A HREF="{printer_uri_supported}">
+<IMG SRC="/images/classes.gif" CLASS="button" ALT=""></A></TD>
+<TD VALIGN=TOP><B>Descripci&oacute;n:</B> {printer_info}<BR>
+<B>Ubicaci&oacute;n:</B> {printer_location}<BR>
+<B>Estado de la clase:</B> {printer_state=3?inactiva:{printer_state=4?procesando:parada}},
+{printer_is_accepting_jobs=0?rechazando trabajos:aceptando trabajos}, {printer_is_shared=0?no:} p&uacute;blica.
+{?member_uris=?:<BR>Miembros: {member_uris}}
+
+<P>
+<A HREF="{printer_uri_supported}?op=print-test-page">
+<IMG SRC="/images/button-print-test-page.gif" ALT="Imprimir p&aacute;gina de prueba" CLASS="button"></A>
+{printer_state=5?
+<A HREF="{admin_uri}?op=start-class&amp;printer_name={printer_name}&amp;is_class=Y">
+<IMG SRC="/images/button-start-class.gif" ALT="Iniciar clase" CLASS="button"></A>
+:
+<A HREF="{admin_uri}?op=stop-class&amp;printer_name={printer_name}&amp;is_class=Y">
+<IMG SRC="/images/button-stop-class.gif" ALT="Detener clase" CLASS="button"></A>
+}
+{printer_is_accepting_jobs=0?
+<A HREF="{admin_uri}?op=accept-jobs&amp;printer_name={printer_name}&amp;is_class=Y">
+<IMG SRC="/images/button-accept-jobs.gif" ALT="Aceptar trabajos" CLASS="button"></A>
+:
+<A HREF="{admin_uri}?op=reject-jobs&amp;printer_name={printer_name}&amp;is_class=Y">
+<IMG SRC="/images/button-reject-jobs.gif" ALT="Rechazar trabajos" CLASS="button"></A>
+}
+<A HREF="{admin_uri}?op=purge-jobs&amp;printer_name={printer_name}&amp;is_class=Y">
+<IMG SRC="/images/button-cancel-all-jobs.gif" ALT="Cancelar todos los trabajos" CLASS="button"></A>
+{printer_is_shared=0?
+<A HREF="{admin_uri}?op=set-sharing&amp;printer_name={printer_name}&amp;shared=1&amp;is_class=Y">
+<IMG SRC="/images/button-publish-printer.gif" ALT="Publicar impresora" CLASS="button"></A>
+:
+<A HREF="{admin_uri}?op=set-sharing&amp;printer_name={printer_name}&amp;shared=0&amp;is_class=Y">
+<IMG SRC="/images/button-unpublish-printer.gif" ALT="No publicar impresora" CLASS="button"></A>
+}
+<A HREF="{admin_uri}?op=modify-class&amp;printer_name={printer_name}">
+<IMG SRC="/images/button-modify-class.gif" ALT="Modificar clase" CLASS="button"></A>
+<A HREF="{admin_uri}?op=delete-class&amp;printer_name={printer_name}">
+<IMG SRC="/images/button-delete-class.gif" ALT="Borrar clase" CLASS="button"></A>
+<A HREF="{admin_uri}?op=set-as-default&amp;printer_name={printer_name}&amp;is_class=Y">
+<IMG SRC="/images/button-set-as-default.gif" ALT="Poner como predeterminada" CLASS="button"></A>
+<A HREF="{admin_uri}?op=set-allowed-users&amp;printer_name={printer_name}&amp;is_class=Y">
+<IMG SRC="/images/button-set-allowed-users.gif" ALT="Establecer usuarios permitidos" CLASS="button"></A>
+</P>
+</TD>
+</TR>
+</TABLE>
+}}
diff -urNad cupsys-1.1.99.b2~/templates/es/edit-config.tmpl.in cupsys-1.1.99.b2/templates/es/edit-config.tmpl.in
--- cupsys-1.1.99.b2~/templates/es/edit-config.tmpl.in	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/edit-config.tmpl.in	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,90 @@
+<SCRIPT TYPE="text/javascript">
+function reset_config()
+{
+  document.cups.CUPSDCONF.value =
+"# Guarda informaciÃ³n general en error_log - cambie \\"info\\" por \\"debug\\" para\\n" +
+"# bÃºsqueda de problemas...\\n" +
+"LogLevel info\\n" +
+"\\n" +
+"\\n" +
+"# Grupo de usuario del Administrador...\\n" +
+"SystemGroup @CUPS_SYSTEM_GROUPS@\\n" +
+"\\n" +
+"\\n" +
+"# SÃ³lo escucha conexiones que provengan de la mÃ¡quina local.\\n" +
+"Listen 127.0.0.1:@DEFAULT_IPP_PORT@\\n" +
+"@CUPS_LISTEN_DOMAINSOCKET@\\n" +
+"\\n" +
+"\\n" +
+"# Muestra impresoras compartidas en la red local.\\n" +
+"Browsing On\\n" +
+"BrowseOrder allow,deny\\n" +
+"BrowseAllow @LOCAL\\n" +
+"\\n" +
+"\\n" +
+"# De forma predeterminada, la autentificaciÃ³n se hace contra las cuentas del sistema...\\n" +
+"DefaultAuthType Basic\\n" +
+"\\n" +
+"# Limita el acceso al servidor...\\n" +
+"<Location />\\n" +
+"  Order allow,deny\\n" +
+"  Allow localhost\\n" +
+"</Location>\\n" +
+"\\n" +
+"# Limita el acceso a las pÃ¡ginas de administraciÃ³n...\\n" +
+"<Location /admin>\\n" +
+"  Order allow,deny\\n" +
+"  Allow localhost\\n" +
+"</Location>\\n" +
+"\\n" +
+"# Limita el acceso a los archivos de configuraciÃ³n...\\n" +
+"<Location /admin/conf>\\n" +
+"  AuthType Basic\\n" +
+"  Require user @SYSTEM\\n" +
+"  Order allow,deny\\n" +
+"  Allow localhost\\n" +
+"</Location>\\n" +
+"\\n" +
+"# Establece la impresora predeterminada/reglas de trabajos...\\n" +
+"<Policy default>\\n" +
+"  # Las operaciones con trabajos las debe hacer el propietario o un administrador...\\n" +
+"  <Limit Send-Document Send-URI Hold-Job Release-Job Restart-Job Purge-Jobs Set-Job-Attributes Create-Job-Subscription Renew-Subscription Cancel-Subscription Get-Notifications Reprocess-Job Cancel-Current-Job Suspend-Current-Job Resume-Job CUPS-Move-Job>\\n" +
+"    Require user @OWNER @SYSTEM\\n" +
+"    Order deny,allow\\n" +
+"  </Limit>\\n" +
+"\\n" +
+"  # Todas las operaciones de administraciÃ³n requieren la autentificaciÃ³n de un administrador...\\n" +
+"  <Limit Pause-Printer Resume-Printer Set-Printer-Attributes Enable-Printer Disable-Printer Pause-Printer-After-Current-Job Hold-New-Jobs Release-Held-New-Jobs Deactivate-Printer Activate-Printer Restart-Printer Shutdown-Printer Startup-Printer Promote-Job Schedule-Job-After CUPS-Add-Printer CUPS-Delete-Printer CUPS-Add-Class CUPS-Delete-Class CUPS-Accept-Jobs CUPS-Reject-Jobs CUPS-Set-Default>\\n" +
+"    AuthType Basic\\n" +
+"    Require user @SYSTEM\\n" +
+"    Order deny,allow\\n" +
+"  </Limit>\\n" +
+"\\n" +
+"  # SÃ³lo el propietario o un administrador pueden cancelar autenticar un trabajo...\\n" +
+"  <Limit Cancel-Job CUPS-Authenticate-Job>\\n" +
+"    Require user @OWNER @SYSTEM\\n" +
+"    Order deny,allow\\n" +
+"  </Limit>\\n" +
+"\\n" +
+"  <Limit All>\\n" +
+"    Order deny,allow\\n" +
+"  </Limit>\\n" +
+"</Policy>\\n";
+}
+</SCRIPT>
+
+<H2 CLASS="title">Archivo de configuraci&oacute;n del servidor</H2>
+
+<FORM NAME="cups" METHOD="POST" ACTION="/admin/">
+
+<INPUT TYPE="HIDDEN" NAME="OP" VALUE="config-server">
+
+<TEXTAREA NAME="CUPSDCONF" COLS="80" ROWS="25">{CUPSDCONF}</TEXTAREA>
+
+<P><INPUT TYPE="IMAGE" SRC="/images/button-save-changes.gif"
+ALT="Guardar cambios"> <A
+HREF="javascript:reset_config();"><IMG
+SRC="/images/button-use-default-config.gif" CLASS="button"
+ALT="Usar archivo de configuraci&oacute;n predeterminado"></A></P>
+
+</FORM>
diff -urNad cupsys-1.1.99.b2~/templates/es/error-op.tmpl cupsys-1.1.99.b2/templates/es/error-op.tmpl
--- cupsys-1.1.99.b2~/templates/es/error-op.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/error-op.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,3 @@
+<P>Error:</P>
+
+<BLOCKQUOTE>Operaci&oacute; desconocida "{op}"!</BLOCKQUOTE>
diff -urNad cupsys-1.1.99.b2~/templates/es/error.tmpl cupsys-1.1.99.b2/templates/es/error.tmpl
--- cupsys-1.1.99.b2~/templates/es/error.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/error.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,3 @@
+<P>{?message?{message}:Error:}</P>
+
+<BLOCKQUOTE>{error}</BLOCKQUOTE>
diff -urNad cupsys-1.1.99.b2~/templates/es/header.tmpl.in cupsys-1.1.99.b2/templates/es/header.tmpl.in
--- cupsys-1.1.99.b2~/templates/es/header.tmpl.in	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/header.tmpl.in	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,63 @@
+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
+<HTML>
+<HEAD>
+	<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
+	<TITLE>{title} - CUPS @CUPS_VERSION@@CUPS_REVISION@</TITLE>
+	<!-- Prevent caching of CGI content -->
+	<META HTTP-EQUIV="Expires" CONTENT="now">
+	<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
+	{refresh_page?<META HTTP-EQUIV="Refresh" CONTENT="{refresh_page}">:}
+	<LINK REL="STYLESHEET" TYPE="text/css" HREF="/cups.css">
+	<LINK REL="SHORTCUT ICON" HREF="/favicon.ico" TYPE="image/x-icon">
+</HEAD>
+<BODY>
+<TABLE WIDTH="100%" STYLE="height: 100%;" BORDER="0" CELLSPACING="0" CELLPADDING="0" SUMMARY="{title}">
+<TR CLASS="HEADER">
+<TD VALIGN="TOP" WIDTH="15" ROWSPAN="2"><IMG SRC="/images/top-left.gif" WIDTH="15" HEIGHT="80" ALT=""></TD>
+<TD VALIGN="TOP" WIDTH="55" ROWSPAN="2"><IMG SRC="/images/top-middle.gif" WIDTH="55" HEIGHT="80" ALT=""></TD>
+<TD WIDTH="100%" HEIGHT="60"><H1>{title}</H1></TD>
+<TD ALIGN="RIGHT" VALIGN="TOP" WIDTH="15" ROWSPAN="2"><IMG
+SRC="/images/top-right.gif" WIDTH="15" HEIGHT="15" ALT=""></TD>
+</TR>
+<TR CLASS="HEADER"><TD WIDTH="100%" VALIGN="BOTTOM" NOWRAP>
+
+<A CLASS="unsel" HREF="/"><IMG SRC="/images/tab-left.gif"
+WIDTH="4" HEIGHT="4" ALIGN="TOP" BORDER="0"
+ALT="">&nbsp;&nbsp;Inicio&nbsp;&nbsp;<IMG
+SRC="/images/tab-right.gif" WIDTH="4" HEIGHT="4" ALIGN="TOP"
+BORDER="0" ALT=""></A>
+
+&nbsp;<A CLASS="{SECTION=admin?:un}sel" HREF="/admin"><IMG
+SRC="/images/tab-left.gif" WIDTH="4" HEIGHT="4" ALIGN="TOP"
+BORDER="0" ALT="">&nbsp;&nbsp;Administraci&oacute;n&nbsp;&nbsp;<IMG
+SRC="/images/tab-right.gif" WIDTH="4" HEIGHT="4" ALIGN="TOP"
+BORDER="0" ALT=""></A>
+
+&nbsp;<A CLASS="{SECTION=classes?:un}sel" HREF="/classes/"><IMG
+SRC="/images/tab-left.gif" WIDTH="4" HEIGHT="4" ALIGN="TOP"
+BORDER="0" ALT="">&nbsp;&nbsp;Clases&nbsp;&nbsp;<IMG
+SRC="/images/tab-right.gif" WIDTH="4" HEIGHT="4" ALIGN="TOP"
+BORDER="0" ALT=""></A>
+
+&nbsp;<A CLASS="{SECTION=help?:un}sel" HREF="/help/"><IMG
+SRC="/images/tab-left.gif" WIDTH="4" HEIGHT="4" ALIGN="TOP"
+BORDER="0" ALT="">&nbsp;&nbsp;Documentaci&oacute;n/Ayuda&nbsp;&nbsp;<IMG
+SRC="/images/tab-right.gif" WIDTH="4" HEIGHT="4" ALIGN="TOP"
+BORDER="0" ALT=""></A>
+
+&nbsp;<A CLASS="{SECTION=jobs?:un}sel" HREF="/jobs/"><IMG
+SRC="/images/tab-left.gif" WIDTH="4" HEIGHT="4" ALIGN="TOP"
+BORDER="0" ALT="">&nbsp;&nbsp;Trabajos&nbsp;&nbsp;<IMG
+SRC="/images/tab-right.gif" WIDTH="4" HEIGHT="4" ALIGN="TOP"
+BORDER="0" ALT=""></A>
+
+&nbsp;<A CLASS="{SECTION=printers?:un}sel" HREF="/printers/"><IMG
+SRC="/images/tab-left.gif" WIDTH="4" HEIGHT="4" ALIGN="TOP"
+BORDER="0" ALT="">&nbsp;&nbsp;Impresoras&nbsp;&nbsp;<IMG
+SRC="/images/tab-right.gif" WIDTH="4" HEIGHT="4" ALIGN="TOP"
+BORDER="0" ALT=""></A>
+
+</TD></TR>
+<TR CLASS="page">
+<TD WIDTH="15">&nbsp;</TD>
+<TD COLSPAN="2" WIDTH="100%" STYLE="height: 100%;" VALIGN="TOP" CLASS="page">
diff -urNad cupsys-1.1.99.b2~/templates/es/help-header.tmpl cupsys-1.1.99.b2/templates/es/help-header.tmpl
--- cupsys-1.1.99.b2~/templates/es/help-header.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/help-header.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,47 @@
+<FORM ACTION="/help/{?HELPFILE}" METHOD="GET">
+{TOPIC?<INPUT TYPE="HIDDEN" NAME="TOPIC" VALUE="{TOPIC}">:}
+
+<P ALIGN="CENTER"><B>Buscar en
+{HELPTITLE?{HELPTITLE}:{TOPIC?{TOPIC}:todos los documentos}}:</B> <INPUT
+TYPE="TEXT" NAME="QUERY" VALUE="{?QUERY}" SIZE="60"> <INPUT
+TYPE="IMAGE" SRC="/images/button-search.gif" ALT="Buscar">
+<A HREF="/help/{?HELPFILE}{QUERY?{TOPIC??TOPIC={TOPIC}:}:}"><IMG
+SRC="/images/button-clear.gif" ALT="Borrar" CLASS="button"></A></P>
+
+</FORM>
+
+<!-- Bookmarks -->
+<DIV CLASS="sidebar">
+<H3 CLASS="title">Documentos de ayuda en lÃ­nea</H3>
+
+<P CLASS="l0"><A HREF="/help{QUERY??QUERY={QUERY}:}">Todos los documentos</A></P>
+<HR>
+
+{[BMTEXT]<P CLASS="l{BMINDENT}"><A HREF="{BMLINK}">{BMTEXT}</A></P>
+}
+</DIV>
+
+{QUERY?<P>Buscar resultados en {HELPFILE?{HELPTITLE}:{TOPIC?{TOPIC}:todos los documentos}}\:</P>
+{QTEXT?<UL>
+{[QTEXT]<LI><A HREF="{QLINK}">{QTEXT}</A>{QPTEXT? (in <I><A HREF="{QPLINK}">{QPTEXT}</A></I>):}</LI>}
+{QTEXT?</UL>:}
+:<P>No hay coincidencias.</P>}
+<HR NOSHADE>:}
+{HELPTITLE?<H1>{HELPTITLE}
+<A HREF="/help/{HELPFILE}?PRINTABLE=YES" TARGET="_blank"><IMG
+SRC="/images/button-view-printable-version.gif" ALT="Ver versi&oacute;n imprimible"
+CLASS="button"></A></H1>:<H1>P&aacute;ginas de ayuda de CUPS</H1>
+
+<P>Esta es la interfaz de ayuda en l&iacute;nea de CUPS. Introduzca las palabras
+a buscar aqu&iacute; encima o haga clic en cualquiera de los enlaces de la
+documentaci&oacute;n para visualizar la informaci&oacute;n de ayuda en l&iacute;nea.</P>
+
+<P>Si es nuevo en CUPS, lea la p&aacute;gina "<a
+href="overview.html">Informaci&oacute;n general de CUPS</a>". Los usuarios veteranos
+deber&iacute;an leer la p&aacute;gina "<a href="whatsnew.html">Qu&eacute; hay de nuevo en CUPS
+1.2</a>".</P>
+
+<P>La <A HREF="http://www.cups.org/">p&aacute;gina de inicio de CUPS</A> tambi&eacute;n
+proporciona muchos recursos, incluyendo foros de discusi&oacute;n de usuarios, respuestas
+a preguntas frecuentes, y un formulario para el env&iacute;o de informes de errores y
+peticiones de mejoras.</P>}
diff -urNad cupsys-1.1.99.b2~/templates/es/help-printable.tmpl cupsys-1.1.99.b2/templates/es/help-printable.tmpl
--- cupsys-1.1.99.b2~/templates/es/help-printable.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/help-printable.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,11 @@
+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
+<HTML>
+<HEAD>
+	<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
+	<TITLE>{HELPTITLE}</TITLE>
+	<LINK REL="STYLESHEET" TYPE="text/css" HREF="/cups-printable.css">
+	<LINK REL="SHORTCUT ICON" HREF="/favicon.ico" TYPE="image/x-icon">
+</HEAD>
+<BODY>
+
+<H1>{HELPTITLE}</H1>
diff -urNad cupsys-1.1.99.b2~/templates/es/job-cancel.tmpl cupsys-1.1.99.b2/templates/es/job-cancel.tmpl
--- cupsys-1.1.99.b2~/templates/es/job-cancel.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/job-cancel.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+<P>Se ha cancelado el <A HREF="{job_printer_uri}">Trabajo {job_id}</A>.
diff -urNad cupsys-1.1.99.b2~/templates/es/job-hold.tmpl cupsys-1.1.99.b2/templates/es/job-hold.tmpl
--- cupsys-1.1.99.b2~/templates/es/job-hold.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/job-hold.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+<P>Se ha retenido el <A HREF="{job_printer_uri}">Trabajo {job_id}</A>.
diff -urNad cupsys-1.1.99.b2~/templates/es/job-move.tmpl cupsys-1.1.99.b2/templates/es/job-move.tmpl
--- cupsys-1.1.99.b2~/templates/es/job-move.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/job-move.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,22 @@
+<FORM METHOD="POST" ACTION="/{SECTION}/{job_id?:{printer_name}}">
+<INPUT TYPE="HIDDEN" NAME="OP" VALUE="{op}">
+{job_id?<INPUT TYPE="HIDDEN" NAME="JOB_ID" VALUE="{job_id}">:}
+
+<H2 CLASS="title">{job_id?Mover trabajo {job_id}:Mover todos los trabajos}</H2>
+
+<TABLE>
+<TR>
+<TH CLASS="label">Nuevo destino:</TH>
+<TD>
+<SELECT NAME="JOB_PRINTER_URI" SIZE="10">
+{[job_printer_uri]<OPTION VALUE="{job_printer_uri}">{job_printer_name}}
+</SELECT>
+</TD>
+</TR>
+<TR>
+<TD></TD>
+<TD><INPUT TYPE="IMAGE" SRC="/images/button-move-job{job_id?:s}.gif" ALT="Mover trabajo{job_id?:s}"></TD>
+</TR>
+</TABLE>
+
+</FORM>
diff -urNad cupsys-1.1.99.b2~/templates/es/job-moved.tmpl cupsys-1.1.99.b2/templates/es/job-moved.tmpl
--- cupsys-1.1.99.b2~/templates/es/job-moved.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/job-moved.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,2 @@
+<P>Se {job_id?ha movido el <A HREF="/jobs/{job_id}">Trabajo {job_id}</A>:han movido todos los trabajos} a
+<A HREF="{job_printer_uri}">{job_printer_name}</A>.</P>
diff -urNad cupsys-1.1.99.b2~/templates/es/job-release.tmpl cupsys-1.1.99.b2/templates/es/job-release.tmpl
--- cupsys-1.1.99.b2~/templates/es/job-release.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/job-release.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+<P>Se ha liberado el <A HREF="{job_printer_uri}">Trabajo {job_id}</A>.
diff -urNad cupsys-1.1.99.b2~/templates/es/job-restart.tmpl cupsys-1.1.99.b2/templates/es/job-restart.tmpl
--- cupsys-1.1.99.b2~/templates/es/job-restart.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/job-restart.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+<P>Se ha reiniciado el <A HREF="{job_printer_uri}">Trabajo {job_id}</A>.
diff -urNad cupsys-1.1.99.b2~/templates/es/jobs-header.tmpl cupsys-1.1.99.b2/templates/es/jobs-header.tmpl
--- cupsys-1.1.99.b2~/templates/es/jobs-header.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/jobs-header.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,15 @@
+<P>{?which_jobs=?<A
+HREF="{?printer_name=?/jobs:{printer_uri_supported}}?which_jobs=completed"><IMG
+SRC="/images/button-show-completed.gif" CLASS="button" ALT="Mostrar trabajos completados"></A>
+<A HREF="{?printer_name=?/jobs:{printer_uri_supported}}?which_jobs=all"><IMG
+SRC="/images/button-show-all.gif" CLASS="button" ALT="Mostrar todos los trabajos">:{which_jobs=all?<A
+HREF="{?printer_name=?/jobs:{printer_uri_supported}}?which_jobs=completed"><IMG
+SRC="/images/button-show-completed.gif" CLASS="button" ALT="Mostrar trabajos completados"></A>
+<A HREF="{?printer_name=?/jobs:{printer_uri_supported}}"><IMG
+SRC="/images/button-show-active.gif" CLASS="button" ALT="Mostrar trabajos activos">:<A
+HREF="{?printer_name=?/jobs:{printer_uri_supported}}"><IMG
+SRC="/images/button-show-active.gif" CLASS="button" ALT="Mostrar trabajos activos"></A>
+<A HREF="{?printer_name=?/jobs:{printer_uri_supported}}?which_jobs=all"><IMG
+SRC="/images/button-show-all.gif" CLASS="button" ALT="Mostrar todos los trabajos">}}</A></P>
+
+<P ALIGN="CENTER">{total=0?No hay trabajos:Mostrando {#job_id} de {total} trabajo{total=1?:s}{?which_jobs=? activo{total=1?:s}:{which_jobs=all?: completado{total=1?:s}}}}.</P>
diff -urNad cupsys-1.1.99.b2~/templates/es/jobs.tmpl cupsys-1.1.99.b2/templates/es/jobs.tmpl
--- cupsys-1.1.99.b2~/templates/es/jobs.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/jobs.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,42 @@
+{#job_id=0?:
+<TABLE CELLPADDING="0" CELLSPACING="0" CLASS="button" WIDTH="100%" SUMMARY="Job List">
+<TR CLASS="data">
+<TH>ID&nbsp;</TH>
+<TH>Nombre&nbsp;</TH>
+<TH>Usuario&nbsp;</TH>
+<TH>Tama&ntilde;o&nbsp;</TH>
+<TH>P&aacute;ginas&nbsp;</TH>
+<TH>Estado&nbsp;</TH>
+<TH>Control&nbsp;</TH>
+</TR>
+
+{[job_id]
+<TR CLASS="data" VALIGN="TOP">
+<TD><A HREF="{job_printer_uri}">{job_printer_name}</A>-{job_id}&nbsp;</TD>
+<TD>{?job_name=?Desconocido:{job_name}}&nbsp;</TD>
+<TD>{job_originating_user_name}&nbsp;</TD>
+<TD>{job_k_octets}k&nbsp;</TD>
+<TD>{job_media_sheets_completed=0?Desconocido:{?job_media_sheets_completed}}</TD>
+<TD>{job_state=3?pendiente desde<BR>{time_at_creation}:{job_state=4?retenido desde<BR>{time_at_creation}:
+{job_state=5?en proceso desde<BR>{time_at_processing}:{job_state=6?parado el<BR>{time_at_completed}:
+{job_state=7?cancelado el<BR>{time_at_completed}:{job_state=8?abandonado:completado el<BR>{time_at_completed}}}}}}}&nbsp;</TD>
+<TD>
+{job_preserved>0?
+<A HREF="/jobs/?op=restart-job&amp;job_id={job_id}&amp;job_printer_uri={job_printer_uri}">
+<IMG SRC="/images/button-restart-job.gif" ALT="Reimprimir trabajo" CLASS="button"></A>:}
+{job_state=4?
+<A HREF="/jobs/?op=release-job&amp;job_id={job_id}&amp;job_printer_uri={job_printer_uri}">
+<IMG SRC="/images/button-release-job.gif" ALT="Liberar trabajo" CLASS="button"></A>:}
+{job_state=3?
+<A HREF="/jobs/?op=hold-job&amp;job_id={job_id}&amp;job_printer_uri={job_printer_uri}">
+<IMG SRC="/images/button-hold-job.gif" ALT="Retener trabajo" CLASS="button"></A>:}
+{job_state<7?
+<A HREF="/jobs/?op=cancel-job&amp;job_id={job_id}&amp;job_printer_uri={job_printer_uri}">
+<IMG SRC="/images/button-cancel-job.gif" ALT="Cancelar trabajo" CLASS="button"></A>
+<A HREF="/jobs/?op=move-job&amp;job_id={job_id}"><IMG
+SRC="/images/button-move-job.gif" ALT="Mover trabajo" CLASS="button"></A>:}
+&nbsp;</TD>
+</TR>
+}
+</TABLE>
+}
diff -urNad cupsys-1.1.99.b2~/templates/es/maintenance.tmpl cupsys-1.1.99.b2/templates/es/maintenance.tmpl
--- cupsys-1.1.99.b2~/templates/es/maintenance.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/maintenance.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,2 @@
+<P>Se han enviado los comandos de mantenimiento; la ID del trabajo es <A HREF="/printers/{printer_name}">
+{printer_name}-{job_id}</A>.</P>
diff -urNad cupsys-1.1.99.b2~/templates/es/modify-class.tmpl cupsys-1.1.99.b2/templates/es/modify-class.tmpl
--- cupsys-1.1.99.b2~/templates/es/modify-class.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/modify-class.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,34 @@
+<FORM METHOD="POST" ACTION="/admin">
+<INPUT TYPE="HIDDEN" NAME="OP" VALUE="{op}">
+
+<H2 CLASS="title">Modificar clase {printer_name}</H2>
+
+<TABLE>
+<TR>
+<TH CLASS="label">Nombre:</TH>
+<TD><INPUT TYPE="HIDDEN" NAME="PRINTER_NAME" VALUE="{printer_name}">
+{printer_name}</TD>
+</TR>
+<TR>
+<TH CLASS="label">Ubicaci&oacute;n:</TH>
+<TD><INPUT TYPE="TEXT" NAME="PRINTER_LOCATION" VALUE="{?printer_location}" SIZE="40" MAXLENGTH="127"></TD>
+</TR>
+<TR>
+<TH CLASS="label">Descripci&oacute;n:</TH>
+<TD><INPUT TYPE="TEXT" NAME="PRINTER_INFO" VALUE="{?printer_info}" SIZE="40" MAXLENGTH="127"></TD>
+</TR>
+<TR>
+<TH CLASS="label">Miembros:</TH>
+<TD>
+<SELECT NAME="MEMBER_URIS" SIZE="10" MULTIPLE>
+{[member_uris]<OPTION VALUE="{member_uris}" {?member_selected}>{member_names}}
+</SELECT>
+</TD>
+</TR>
+<TR>
+<TD></TD>
+<TD><INPUT TYPE="IMAGE" SRC="/images/button-modify-class.gif" ALT="Modificar clase"></TD>
+</TR>
+</TABLE>
+
+</FORM>
diff -urNad cupsys-1.1.99.b2~/templates/es/modify-printer.tmpl cupsys-1.1.99.b2/templates/es/modify-printer.tmpl
--- cupsys-1.1.99.b2~/templates/es/modify-printer.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/modify-printer.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,29 @@
+<FORM METHOD="POST" ACTION="/admin">
+<INPUT TYPE="HIDDEN" NAME="OP" VALUE="{op}">
+{?device_uri=?:<INPUT TYPE="HIDDEN" NAME="CURRENT_DEVICE_URI" VALUE="{device_uri}">}
+{?printer_make_and_model=?:<INPUT TYPE="HIDDEN" NAME="CURRENT_MAKE_AND_MODEL" VALUE="{printer_make_and_model}">}
+
+<H2 CLASS="title">Modificar impresora {printer_name}</H2>
+
+<TABLE>
+<TR>
+<TH CLASS="label">Nombre:</TH>
+<TD><INPUT TYPE="HIDDEN" NAME="PRINTER_NAME" VALUE="{printer_name}">{printer_name}</TD>
+</TR>
+<TR>
+<TH CLASS="label">Ubicaci&oacute;n:</TH>
+<TD><INPUT TYPE="TEXT" NAME="PRINTER_LOCATION" VALUE="{?printer_location}" SIZE="40" MAXLENGTH="127"><BR>
+<SMALL>(Ubicaci&oacute;n f&aacute;cilmente le&iacute;ble tal como "Lab 1")</SMALL></TD>
+</TR>
+<TR>
+<TH CLASS="label">Descripci&oacute;n:</TH>
+<TD><INPUT TYPE="TEXT" NAME="PRINTER_INFO" VALUE="{?printer_info}" SIZE="40" MAXLENGTH="127"><BR>
+<SMALL>(Descripci&oacute;n f&aacute;cilmente le&iacute;ble tal como "HP LaserJet de doble cara")</SMALL></TD>
+</TR>
+<TR>
+<TD></TD>
+<TD><INPUT TYPE="IMAGE" SRC="/images/button-continue.gif" ALT="Siguiente"></TD>
+</TR>
+</TABLE>
+
+</FORM>
diff -urNad cupsys-1.1.99.b2~/templates/es/option-boolean.tmpl cupsys-1.1.99.b2/templates/es/option-boolean.tmpl
--- cupsys-1.1.99.b2~/templates/es/option-boolean.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/option-boolean.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,6 @@
+<TR>
+<TH CLASS="label"{conflicted=1? CLASS="conflict":}><A NAME="{keyword}">{keytext}</A>:</TH>
+<TD>
+{[choices]<INPUT TYPE="RADIO" NAME="{keyword}" {choices={defchoice}?CHECKED:} VALUE="{choices}">{text}}
+</TD>
+</TR>
diff -urNad cupsys-1.1.99.b2~/templates/es/option-conflict.tmpl cupsys-1.1.99.b2/templates/es/option-conflict.tmpl
--- cupsys-1.1.99.b2~/templates/es/option-conflict.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/option-conflict.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,7 @@
+<P><B>Error:</B> Las siguientes opciones est&aacute;n en conflicto:</P>
+
+<UL>
+{[ckeyword]<LI><A HREF="#{ckeyword}">{ckeytext}</A></LI>
+}</UL>
+
+<P>Cambie una o m&aacute;s de las opciones para resolver el problema.</P>
diff -urNad cupsys-1.1.99.b2~/templates/es/option-header.tmpl cupsys-1.1.99.b2/templates/es/option-header.tmpl
--- cupsys-1.1.99.b2~/templates/es/option-header.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/option-header.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,3 @@
+<H2 CLASS="title">{printer_name}: {group}</H2>
+
+<TABLE>
diff -urNad cupsys-1.1.99.b2~/templates/es/option-pickmany.tmpl cupsys-1.1.99.b2/templates/es/option-pickmany.tmpl
--- cupsys-1.1.99.b2~/templates/es/option-pickmany.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/option-pickmany.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,6 @@
+<TR>
+<TH CLASS="label"{conflicted=1? CLASS="conflict":}><A NAME="{keyword}">{keytext}</A>:</TH>
+<TD><SELECT NAME="{keyword}" MULTIPLE SIZE="10">
+{[choices]<OPTION {choices={defchoice}?SELECTED:} VALUE="{choices}">{text}}
+</SELECT></TD>
+</TR>
diff -urNad cupsys-1.1.99.b2~/templates/es/option-pickone.tmpl cupsys-1.1.99.b2/templates/es/option-pickone.tmpl
--- cupsys-1.1.99.b2~/templates/es/option-pickone.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/option-pickone.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,6 @@
+<TR>
+<TH CLASS="label"{conflicted=1? CLASS="conflict":}><A NAME="{keyword}">{keytext}</A>:</TH>
+<TD><SELECT NAME="{keyword}">
+{[choices]<OPTION {choices={defchoice}?SELECTED:} VALUE="{choices}">{text}}
+</SELECT></TD>
+</TR>
diff -urNad cupsys-1.1.99.b2~/templates/es/option-trailer.tmpl cupsys-1.1.99.b2/templates/es/option-trailer.tmpl
--- cupsys-1.1.99.b2~/templates/es/option-trailer.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/option-trailer.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,5 @@
+<TR>
+<TD></TD>
+<TD><INPUT TYPE="IMAGE" SRC="/images/button-set-printer-options.gif" ALT="Cambiar opciones impresora"></TD>
+</TR>
+</TABLE>
diff -urNad cupsys-1.1.99.b2~/templates/es/pager.tmpl cupsys-1.1.99.b2/templates/es/pager.tmpl
--- cupsys-1.1.99.b2~/templates/es/pager.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/pager.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,7 @@
+<TABLE WIDTH="100%" CLASS="pager" SUMMARY="Barra de paginaci&oacute;n">
+<TR>
+	<TD WIDTH="33%">{PREVURL?<A HREF="{PREVURL}"><IMG SRC="/images/button-show-previous.gif" ALT="Mostrar anterior" CLASS="button"></A>:&nbsp;}</TD>
+	<TD WIDTH="34%" ALIGN="CENTER">{ORDER=dec?<A HREF="{THISURL}&amp;ORDER=asc"><IMG SRC="/images/button-sort-ascending.gif" ALT="Orden ascendente" CLASS="button"></A>:<A HREF="{THISURL}&amp;ORDER=dec"><IMG SRC="/images/button-sort-descending.gif" ALT="Orden descendente" CLASS="button"></A>}</TD>
+	<TD WIDTH="33%" ALIGN="RIGHT">{NEXTURL?<A HREF="{NEXTURL}"><IMG SRC="/images/button-show-next.gif" ALT="Mostrar siguiente" CLASS="button"></A>:&nbsp;}</TD>
+</TR>
+</TABLE>
diff -urNad cupsys-1.1.99.b2~/templates/es/printer-accept.tmpl cupsys-1.1.99.b2/templates/es/printer-accept.tmpl
--- cupsys-1.1.99.b2~/templates/es/printer-accept.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/printer-accept.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,3 @@
+<P>La {is_class?clase:impresora} <A
+HREF="/{is_class?classes:printers}/{printer_name}">{printer_name}</A>
+ahora acepta trabajos.</P>
diff -urNad cupsys-1.1.99.b2~/templates/es/printer-added.tmpl cupsys-1.1.99.b2/templates/es/printer-added.tmpl
--- cupsys-1.1.99.b2~/templates/es/printer-added.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/printer-added.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+<P>Se ha a&ntilde;adido con &eacute;xito la impresora <A HREF="/printers/{printer_name}">{printer_name}</A>.
diff -urNad cupsys-1.1.99.b2~/templates/es/printer-configured.tmpl cupsys-1.1.99.b2/templates/es/printer-configured.tmpl
--- cupsys-1.1.99.b2~/templates/es/printer-configured.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/printer-configured.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+<P>Se ha configurado con &eacute;xito la impresora <A HREF="/printers/{printer_name}">{printer_name}</A>.
diff -urNad cupsys-1.1.99.b2~/templates/es/printer-confirm.tmpl cupsys-1.1.99.b2/templates/es/printer-confirm.tmpl
--- cupsys-1.1.99.b2~/templates/es/printer-confirm.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/printer-confirm.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,7 @@
+<P><B>Advertencia:</B> &iquest;Est&aacute; seguro de querer borrar la impresora
+{printer_name}?</P>
+
+<P ALIGN="CENTER"><A
+HREF="/admin?op=delete-printer&printer_name={printer_name}&confirm=yes"><IMG
+SRC="/images/button-delete-printer.gif" ALT="Borrar impresora"
+CLASS="button"></A></P>
diff -urNad cupsys-1.1.99.b2~/templates/es/printer-default.tmpl cupsys-1.1.99.b2/templates/es/printer-default.tmpl
--- cupsys-1.1.99.b2~/templates/es/printer-default.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/printer-default.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,7 @@
+<P>Se ha puesto como predeterminada en el servidor la {is_class?clase:impresora} <A
+HREF="/{is_class?classes:printers}/{printer_name}">{printer_name}</A>.</P>
+
+<BLOCKQUOTE><B>Nota:</B> cualquier opci&oacute;n de usuario
+que haya sido activada por mediaci&oacute;n del comando
+<TT>lpoptions</TT> tiene mayor preferencia que este ajuste 
+predeterminado.</BLOCKQUOTE>
diff -urNad cupsys-1.1.99.b2~/templates/es/printer-deleted.tmpl cupsys-1.1.99.b2/templates/es/printer-deleted.tmpl
--- cupsys-1.1.99.b2~/templates/es/printer-deleted.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/printer-deleted.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+<P>Se ha borrado con &eacute;xito la impresora {printer_name}.
diff -urNad cupsys-1.1.99.b2~/templates/es/printer-jobs-header.tmpl cupsys-1.1.99.b2/templates/es/printer-jobs-header.tmpl
--- cupsys-1.1.99.b2~/templates/es/printer-jobs-header.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/printer-jobs-header.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+<H3 CLASS="title">Trabajos</H3>
diff -urNad cupsys-1.1.99.b2~/templates/es/printer-modified.tmpl cupsys-1.1.99.b2/templates/es/printer-modified.tmpl
--- cupsys-1.1.99.b2~/templates/es/printer-modified.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/printer-modified.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+<P>Se ha modificado con &eacute;xito la impresora <A HREF="/printers/{printer_name}">{printer_name}</A>.
diff -urNad cupsys-1.1.99.b2~/templates/es/printer-purge.tmpl cupsys-1.1.99.b2/templates/es/printer-purge.tmpl
--- cupsys-1.1.99.b2~/templates/es/printer-purge.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/printer-purge.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,2 @@
+<P>Se han cancelado todos los trabajos de la {is_class?clase:impresora} <A
+HREF="/{is_class?classes:printers}/{printer_name}">{printer_name}</A>.</P>
diff -urNad cupsys-1.1.99.b2~/templates/es/printer-reject.tmpl cupsys-1.1.99.b2/templates/es/printer-reject.tmpl
--- cupsys-1.1.99.b2~/templates/es/printer-reject.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/printer-reject.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,3 @@
+<P>La {is_class?clase:impresora} <A
+HREF="/{is_class?classes:printers}/{printer_name}">{printer_name}</A>
+ya no acepta trabajos.</P>
diff -urNad cupsys-1.1.99.b2~/templates/es/printer-start.tmpl cupsys-1.1.99.b2/templates/es/printer-start.tmpl
--- cupsys-1.1.99.b2~/templates/es/printer-start.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/printer-start.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,3 @@
+<P>La {is_class?clase:impresora} <A
+HREF="/{is_class?classes:printers}/{printer_name}">{printer_name}</A>
+ha sido iniciada.</P>
diff -urNad cupsys-1.1.99.b2~/templates/es/printer-stop.tmpl cupsys-1.1.99.b2/templates/es/printer-stop.tmpl
--- cupsys-1.1.99.b2~/templates/es/printer-stop.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/printer-stop.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,3 @@
+<P>La {is_class?clase:impresora} <A
+HREF="/{is_class?classes:printers}/{printer_name}">{printer_name}</A>
+ha sido parada.</P>
diff -urNad cupsys-1.1.99.b2~/templates/es/printers-header.tmpl cupsys-1.1.99.b2/templates/es/printers-header.tmpl
--- cupsys-1.1.99.b2~/templates/es/printers-header.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/printers-header.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+<P ALIGN="CENTER">{total=0?No hay impresoras:Mostrando {#printer_name} de {total} impresora{total=1?:s}}.</P>
diff -urNad cupsys-1.1.99.b2~/templates/es/printers.tmpl cupsys-1.1.99.b2/templates/es/printers.tmpl
--- cupsys-1.1.99.b2~/templates/es/printers.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/printers.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,64 @@
+{printer_type?:}{#printer_name=0?:
+{[printer_name]
+<H2 CLASS="title"><A HREF="{printer_uri_supported}">{printer_name}</A>{default_name={printer_name}? (Impresora predeterminada):}
+{?printer_state_message=?:<SPAN CLASS="message">"{printer_state_message}"</SPAN>}</H2>
+
+<TABLE WIDTH="100%" CLASS="button" CELLSPACING="0" CELLPADDING="0" SUMMARY="{printer_name}">
+<TR>
+<TD VALIGN="TOP"><A HREF="{printer_uri_supported}">
+<IMG SRC="/images/printer-{printer_state=3?idle:{printer_state=4?processing:stopped}}.gif" CLASS="button" ALT=""></A>
+</TD>
+<TD VALIGN="TOP"><B>Descripci&oacute;n:</B> {printer_info}<BR>
+<B>Ubicaci&oacute;n:</B> {printer_location}<BR>
+<B>Fabricante y modelo:</B> {printer_make_and_model}<BR>
+<B>Estado de la impresora:</B> {printer_state=3?inactiva:{printer_state=4?procesando:parada}},
+{printer_is_accepting_jobs=0?rechazando trabajos:aceptando trabajos}, {printer_is_shared=0?no:} p&uacute;blica.
+{?device_uri=?:<BR><B>URI de la conexi&oacute;n:</B> {device_uri}}
+
+<P>
+<A HREF="{printer_uri_supported}?op=print-test-page">
+<IMG SRC="/images/button-print-test-page.gif" ALT="Imprimir p&aacute;gina de prueba" CLASS="button"></A>
+{?cupscommand=1?<A HREF="{printer_uri_supported}?op=clean-print-heads">
+<IMG SRC="/images/button-clean-print-heads.gif" ALT="Limpiar cabezales de impresi&oacute;n" CLASS="button"></A>
+<A HREF="{printer_uri_supported}?op=print-self-test-page">
+<IMG SRC="/images/button-print-self-test-page.gif" ALT="Imprimir p&aacute;gina de auto-prueba" CLASS="button"></A>:}
+{printer_state=5?
+<A HREF="{admin_uri}?op=start-printer&amp;printer_name={printer_name}">
+<IMG SRC="/images/button-start-printer.gif" ALT="Iniciar impresora" CLASS="button"></A>
+:
+<A HREF="{admin_uri}?op=stop-printer&amp;printer_name={printer_name}">
+<IMG SRC="/images/button-stop-printer.gif" ALT="Detener impresora" CLASS="button"></A>
+}
+{printer_is_accepting_jobs=0?
+<A HREF="{admin_uri}?op=accept-jobs&amp;printer_name={printer_name}">
+<IMG SRC="/images/button-accept-jobs.gif" ALT="Aceptar trabajos" CLASS="button"></A>
+:
+<A HREF="{admin_uri}?op=reject-jobs&amp;printer_name={printer_name}">
+<IMG SRC="/images/button-reject-jobs.gif" ALT="Rechazar trabajos" CLASS="button"></A>
+}
+<A HREF="{printer_uri_supported}?op=move-jobs&amp;printer_name={printer_name}">
+<IMG SRC="/images/button-move-jobs.gif" ALT="Mover todos los trabajos" CLASS="button"></A>
+<A HREF="{admin_uri}?op=purge-jobs&amp;printer_name={printer_name}">
+<IMG SRC="/images/button-cancel-all-jobs.gif" ALT="Cancelar todos los trabajos" CLASS="button"></A>
+{printer_is_shared=0?
+<A HREF="{admin_uri}?op=set-sharing&amp;printer_name={printer_name}&amp;shared=1">
+<IMG SRC="/images/button-publish-printer.gif" ALT="Publicar impresora" CLASS="button"></A>
+:
+<A HREF="{admin_uri}?op=set-sharing&amp;printer_name={printer_name}&amp;shared=0">
+<IMG SRC="/images/button-unpublish-printer.gif" ALT="No publicar impresora" CLASS="button"></A>
+}
+<A HREF="{admin_uri}?op=modify-printer&amp;printer_name={printer_name}">
+<IMG SRC="/images/button-modify-printer.gif" ALT="Modificar impresora" CLASS="button"></A>
+<A HREF="{admin_uri}?op=set-printer-options&amp;printer_name={printer_name}">
+<IMG SRC="/images/button-set-printer-options.gif" ALT="Cambiar opciones impresora" CLASS="button"></A>
+<A HREF="{admin_uri}?op=delete-printer&amp;printer_name={printer_name}">
+<IMG SRC="/images/button-delete-printer.gif" ALT="Borrar impresora" CLASS="button"></A>
+<A HREF="{admin_uri}?op=set-as-default&amp;printer_name={printer_name}">
+<IMG SRC="/images/button-set-as-default.gif" ALT="Poner como predeterminada" CLASS="button"></A>
+<A HREF="{admin_uri}?op=set-allowed-users&amp;printer_name={printer_name}">
+<IMG SRC="/images/button-set-allowed-users.gif" ALT="Establecer usuarios permitidos" CLASS="button"></A>
+</P>
+</TD>
+</TR>
+</TABLE>
+}}
diff -urNad cupsys-1.1.99.b2~/templates/es/restart.tmpl cupsys-1.1.99.b2/templates/es/restart.tmpl
--- cupsys-1.1.99.b2~/templates/es/restart.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/restart.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+<p>Por favor espere mientras se reinicia el servidor...</p>
diff -urNad cupsys-1.1.99.b2~/templates/es/samba-export.tmpl cupsys-1.1.99.b2/templates/es/samba-export.tmpl
--- cupsys-1.1.99.b2~/templates/es/samba-export.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/samba-export.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,55 @@
+<SCRIPT TYPE="text/javascript"><!--
+function select_printers() {
+  var list = document.export_samba.EXPORT_NAME;
+  var sel = document.export_samba.EXPORT_ALL.checked;
+
+  for (i = 0; i < list.length; i ++) {
+    list.options[i].selected = sel;
+  }
+}
+--></SCRIPT>
+
+<FORM METHOD="POST" ACTION="/admin/" NAME="export_samba">
+<INPUT TYPE="HIDDEN" NAME="OP" VALUE="export-samba">
+
+<H2 CLASS="title">Exportar impresoras a Samba</H2>
+
+{error?<P>No se han podido exportar las impresoras a Samba\:</P>
+<BLOCKQUOTE>{error}</BLOCKQUOTE>
+<P>Consulte el archivo <A HREF="/admin/log/error_log"
+TARGET="_blank">error_log</A> para m&aacute;s informaci&oacute;n.</P>:
+<P>Esta p&aacute;gina le permite exportar las impresoras a Samba para que
+los clientes Windows puedan acceder a ellas por el icono de su
+escritorio <VAR>Sitios de red</VAR>. Debe haber instalado
+previamente el controlador de impresora PostScript de Windows
+como se describe en la p&aacute;gina del manual
+<A HREF="/help/man-cupsaddsmb.html"
+TARGET="_blank">cupsaddsmb(8)</A>.</P>}
+
+<TABLE>
+<TR>
+<TH CLASS="label">Impresoras:</TH>
+<TD>
+<SELECT NAME="EXPORT_NAME" SIZE="10" MULTIPLE>
+{[printer_name]<OPTION VALUE="{printer_name}"{export_all? SELECTED:{printer_export? SELECTED:}}>{printer_name}}
+</SELECT><BR>
+<INPUT TYPE="CHECKBOX" NAME="EXPORT_ALL"{export_all? CHECKED:}
+onChange="select_printers()"> Exportar todas las impresoras
+</TD>
+</TR>
+<TR>
+<TH CLASS="label">Nombre de usuario Samba:</TH>
+<TD><INPUT TYPE="TEXT" NAME="USERNAME" VALUE="{?USERNAME}"> (necesario)</TD>
+</TR>
+<TR>
+<TH CLASS="label">Contrase&ntilde;a Samba:</TH>
+<TD><INPUT TYPE="PASSWORD" NAME="PASSWORD" VALUE=""> (necesario)</TD>
+</TR>
+<TR>
+<TD></TD>
+<TD><INPUT TYPE="IMAGE" SRC="/images/button-export-samba.gif"
+ALT="Exportar impresoras a Samba"></TD>
+</TR>
+</TABLE>
+
+</FORM>
diff -urNad cupsys-1.1.99.b2~/templates/es/samba-exported.tmpl cupsys-1.1.99.b2/templates/es/samba-exported.tmpl
--- cupsys-1.1.99.b2~/templates/es/samba-exported.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/samba-exported.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+<P>Se han exportado las impresoras a samba con &eacute;xito.</P>
diff -urNad cupsys-1.1.99.b2~/templates/es/search.tmpl cupsys-1.1.99.b2/templates/es/search.tmpl
--- cupsys-1.1.99.b2~/templates/es/search.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/search.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,13 @@
+<FORM ACTION="/{SECTION}/{?SEARCH_DEST}" METHOD="GET">
+{WHICH_JOBS?<INPUT TYPE="HIDDEN" NAME="WHICH_JOBS" VALUE="{WHICH_JOBS}">:}
+{ORDER?<INPUT TYPE="HIDDEN" NAME="ORDER" VALUE="{ORDER}">:}
+
+<P ALIGN="CENTER"><B>Buscar en
+{SEARCH_DEST?{SEARCH_DEST}:{SECTION=classes?clases:{SECTION=jobs?trabajos:impresoras}}}:</B>
+<INPUT TYPE="TEXT" NAME="QUERY" VALUE="{?QUERY}" SIZE="60"> <INPUT
+TYPE="IMAGE" SRC="/images/button-search.gif" ALT="Buscar">
+<A
+HREF="/{SECTION}/{?SEARCH_DEST}{WHICH_JOBS??WHICH_JOBS={WHICH_JOBS}{ORDER?&amp;ORDER={ORDER}:}:{ORDER??ORDER={ORDER}:}}"><IMG
+SRC="/images/button-clear.gif" ALT="Borrar" CLASS="button"></A></P>
+
+</FORM>
diff -urNad cupsys-1.1.99.b2~/templates/es/set-printer-options-header.tmpl cupsys-1.1.99.b2/templates/es/set-printer-options-header.tmpl
--- cupsys-1.1.99.b2~/templates/es/set-printer-options-header.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/set-printer-options-header.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,3 @@
+<FORM METHOD="POST" ACTION="/admin">
+<INPUT TYPE="HIDDEN" NAME="PRINTER_NAME" VALUE="{printer_name}">
+<INPUT TYPE="HIDDEN" NAME="OP" VALUE="{op}">
diff -urNad cupsys-1.1.99.b2~/templates/es/set-printer-options-trailer.tmpl cupsys-1.1.99.b2/templates/es/set-printer-options-trailer.tmpl
--- cupsys-1.1.99.b2~/templates/es/set-printer-options-trailer.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/set-printer-options-trailer.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1 @@
+</FORM>
diff -urNad cupsys-1.1.99.b2~/templates/es/test-page.tmpl cupsys-1.1.99.b2/templates/es/test-page.tmpl
--- cupsys-1.1.99.b2~/templates/es/test-page.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/test-page.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,2 @@
+<P>P&aacute;gina de prueba enviada; el n&uacute;mero del trabajo es el <A HREF="/{SECTION}/{printer_name}">
+{printer_name}-{job_id}</A>.</P>
diff -urNad cupsys-1.1.99.b2~/templates/es/trailer.tmpl cupsys-1.1.99.b2/templates/es/trailer.tmpl
--- cupsys-1.1.99.b2~/templates/es/trailer.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/trailer.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,21 @@
+</TD>
+<TD WIDTH="15">&nbsp;</TD>
+</TR>
+<TR CLASS="trailer">
+<TD VALIGN="BOTTOM" WIDTH="15"><IMG SRC="/images/bottom-left.gif"
+WIDTH="15" HEIGHT="15" ALT=""></TD>
+<TD COLSPAN="2" WIDTH="100%" STYLE="padding: 5;">
+
+<P><SMALL>Common UNIX Printing System, CUPS, y el logo de CUPS son
+marcas registradas de <A HREF="http://www.easysw.com">Easy Software
+Products</A>. Los derechos de copia de CUPS 1997-2006 son de Easy Software Products,
+Todos los derechos reservados.</SMALL></P>
+
+</TD>
+
+<TD ALIGN="RIGHT" VALIGN="BOTTOM" WIDTH="15"><IMG SRC="/images/bottom-right.gif"
+WIDTH="15" HEIGHT="15" ALT=""></TD>
+</TR>
+</TABLE>
+</BODY>
+</HTML>
diff -urNad cupsys-1.1.99.b2~/templates/es/users.tmpl cupsys-1.1.99.b2/templates/es/users.tmpl
--- cupsys-1.1.99.b2~/templates/es/users.tmpl	1970-01-01 00:00:00.000000000 +0000
+++ cupsys-1.1.99.b2/templates/es/users.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -0,0 +1,26 @@
+<FORM METHOD="POST" ACTION="/admin">
+<INPUT TYPE="HIDDEN" NAME="OP" VALUE="{OP}">
+<INPUT TYPE="HIDDEN" NAME="PRINTER_NAME" VALUE="{printer_name}">
+{IS_CLASS?<INPUT TYPE="HIDDEN" NAME="IS_CLASS" VALUE="{IS_CLASS}">:}
+
+<H2 CLASS="title">Usuarios permitidos para {printer_name}</H2>
+
+<TABLE>
+<TR>
+<TH CLASS="label">Usuarios:</TH>
+<TD>
+<INPUT TYPE='TEXT' NAME='users' SIZE='60' VALUE='{?requesting_user_name_allowed}{?requesting_user_name_denied}'>
+<BR>
+<INPUT TYPE='RADIO' NAME='type' VALUE='requesting-user-name-allowed' {requesting_user_name_allowed?checked:}>Permitir a estos usuarios imprimir
+<INPUT TYPE='RADIO' NAME='type' VALUE='requesting-user-name-denied' {requesting_user_name_denied?checked:}>Evitar que estos usuarios impriman
+</TD>
+</TR>
+<TR>
+<TD></TD>
+<TD>
+<INPUT TYPE="IMAGE" SRC="/images/button-set-allowed-users.gif" ALT="Establecer usuarios permitidos">
+</TD>
+</TR>
+</TABLE>
+
+</FORM>
diff -urNad cupsys-1.1.99.b2~/templates/ja/admin.tmpl cupsys-1.1.99.b2/templates/ja/admin.tmpl
--- cupsys-1.1.99.b2~/templates/ja/admin.tmpl	2006-03-04 02:00:43.000000000 +0000
+++ cupsys-1.1.99.b2/templates/ja/admin.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -1,4 +1,4 @@
-<TABLE CELLPADDING="0" CELLSPACING="0" CLASS="button" WIDTH="100%">
+<TABLE CELLPADDING="0" CELLSPACING="0" CLASS="button" WIDTH="100%" SUMMARY="Administration Tasks">
 <TR><TD VALIGN="TOP" NOWRAP>
 
 <H2 CLASS="title">ããªã³ã¿</H2>
@@ -53,6 +53,9 @@
 CLASS="button"></A>
 </P>
 
+{SETTINGS_ERROR?<P>{SETTINGS_MESSAGE}</P>
+<BLOCKQUOTE>{SETTINGS_ERROR}</BLOCKQUOTE>:
+
 <FORM METHOD="POST" ACTION="/admin">
 
 <P><B>åºæ¬ãµã¼ãè¨­å®:</B></P>
@@ -66,7 +69,7 @@
 
 <P><INPUT TYPE="IMAGE" SRC="/images/button-change-settings.gif" ALT="è¨­å®ã®å¤æ´"></P>
 
-</FORM>
+</FORM>}
 
 </TD></TR>
 </TABLE>
diff -urNad cupsys-1.1.99.b2~/templates/ja/maintenance.tmpl cupsys-1.1.99.b2/templates/ja/maintenance.tmpl
--- cupsys-1.1.99.b2~/templates/ja/maintenance.tmpl	2006-03-15 11:03:50.000000000 +0000
+++ cupsys-1.1.99.b2/templates/ja/maintenance.tmpl	2006-03-15 11:04:23.000000000 +0000
@@ -1,2 +1,4 @@
+<P>ã¡ã³ããã³ã¹ã³ãã³ããéãã¾ãã; ã¸ã§ã ID ã¯ <A HREF="/printers/{printer_name}">
+{printer_name}-{job_id}</A> ã§ãã</P>
 <P>Maintenance commands sent; job ID is <A HREF="/printers/{printer_name}">
 {printer_name}-{job_id}</A>.</P>
